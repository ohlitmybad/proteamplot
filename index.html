<!DOCTYPE html>
<html>
<head>
    <meta name="robots" content="noindex">
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --background-color: #f5f7fa;
            --container-bg: #ffffff;
            --text-color: #333333;
            --border-color: #e0e0e0;
            --hover-color: #f0f0f0;
            --button-color: #3498db;
            --button-text: #ffffff;
            --header-bg: #ffffff;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .dark-mode {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --background-color: #0e0f0f;
            --container-bg: #1a1a1a;
            --text-color: #e0e0e0;
            --border-color: #333333;
            --hover-color: #252525;
            --button-color: #2980b9;
            --button-text: #ffffff;
            --header-bg: #0e0f0f;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            transition: background-color 0.3s, color 0.3s;
        }

 
        .container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 0 20px;
            box-sizing: border-box;
        }

        /* Replace plot-container with a simpler structure */
        .chart-wrapper {
            background-color: var(--container-bg);
            border-radius: 10px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 30px;
            position: relative;
            width: 100%;
        }

        .legend {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            padding: 10px;
            border-top: 1px solid var(--border-color);
            width: 100%;
        }

        .legend-item {
            display: flex;
            align-items: center;
            font-size: 12px;
        }

        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 5px;
            border: 1px solid rgba(0, 0, 0, 0.2);
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 20px;
            justify-content: center;
            align-items: center;
        }

        select, input {
            padding: 8px 12px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            background-color: var(--container-bg);
            color: var(--text-color);
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            transition: border-color 0.2s;
            height: 36px;
            box-sizing: border-box;
        }

        select:focus, input:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        /* Ensure consistent height for controls in the same row */
        select, input, .btn:not(.btn-icon), .custom-select-trigger, .metric-select-trigger {
            height: 36px;
            box-sizing: border-box;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            background-color: var(--button-color);
            color: var(--button-text);
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
            height: 36px;
            box-sizing: border-box;
        }

        .btn:hover {
            background-color: #2980b9;
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-color);
        }

        .btn-outline:hover {
            background-color: var(--hover-color);
        }

        .btn-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            padding: 0;
            border-radius: 6px;
        }

        #search-bar, #select-league {
            width: 178px;
        }

        #select-x, #select-y {
            width: 190px;
        }

        /* Add tooltip for icon buttons */
        .btn-icon .icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
        }

        .btn-icon i {
            font-size: 18px;
        }


        .chart-container {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            margin-top: 30px; /* Consistent spacing from controls */
        }

        #scatter-plot {
            width: 100%;
            height: auto; /* Height will be set dynamically */
            display: block;
            margin: 0 auto;
            max-width: 1082px;
        }

        .tooltip {
            position: absolute;
            background-color: var(--container-bg);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 10px;
            font-size: 12px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s;
            box-shadow: var(--shadow);
            z-index: 1000;
        }

        /* Custom button tooltips */
        .btn-tooltip {
            position: relative;
            display: inline-block;
        }

        .btn-tooltip .btn-tooltip-text {
            visibility: hidden;
            width: 120px;
            background-color: var(--container-bg);
            color: var(--text-color);
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1001;
            bottom: 125%;
            left: 50%;
            margin-left: -60px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 12px;
            font-weight: normal;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            pointer-events: none;
        }

        /* Hide button tooltips on mobile */
        @media (max-width: 768px) {
            .btn-tooltip .btn-tooltip-text {
                display: none;
            }
        }

        .btn-tooltip .btn-tooltip-text::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: var(--border-color) transparent transparent transparent;
        }

        .btn-tooltip:hover .btn-tooltip-text {
            visibility: visible;
            opacity: 1;
        }

        .player-name {
            font-size: 12px;
            font-weight: 500;
        }

        circle {
            cursor: pointer;
            transition: r 0.2s, fill 0.2s;
        }



        /* Add new styles for better search highlighting */
        circle.search-match {
            fill: #ff3366 !important; /* Bright pink fill */
            stroke: #ffffff;
            stroke-width: 2px;
            filter: drop-shadow(0 0 5px rgba(255, 51, 102, 0.7));
            animation: circlePulse 1.5s infinite ease-in-out;
        }

        .dark-mode circle.search-match {
            stroke: #000000;
        }

        @keyframes circlePulse {
            0% { r: 6; }
            50% { r: 9; }
            100% { r: 6; }
        }

        .team-label.search-match {
            font-weight: 700 !important;
            fill: #ff3366 !important;
            filter: drop-shadow(0 0 2px rgba(255, 255, 255, 1));
            opacity: 1 !important;
            animation: labelPulse 1.5s infinite ease-in-out;
        }

        @keyframes labelPulse {
            0% { font-size: 12px; }
            50% { font-size: 14px; }
            100% { font-size: 12px; }
        }

        .dark-mode .team-label.search-match {
            filter: drop-shadow(0 0 2px rgba(0, 0, 0, 1));
        }

        .team-label.search-dimmed {
            opacity: 0 !important;
        }

        .team-label {
            pointer-events: none;
            text-shadow: 0px 0px 2px white, 0px 0px 2px white, 0px 0px 2px white, 0px 0px 2px white;
        }

        .dark-mode .team-label {
            fill: #f5f5f5 !important;
            text-shadow: 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a;
        }

        .dark-mode-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--container-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: var(--shadow);
            z-index: 100;
            transition: background-color 0.3s;
        }

        .toggle-icon::before {
            font-family: "Ionicons";
            content: "\f467";
            font-size: 30px;
            color: var(--text-color);
        }

        .dark-mode .toggle-icon::before {
            content: "\f3b0";
            font-size: 20px;
        }

        @media (max-width: 768px) {
  
            
  .chart-wrapper {
      padding: 15px;
  }
  
  
  /* Remove fixed height for scatter plot - now handled by updateChartDimensions */
  #scatter-plot {
      min-height: 500px; /* Minimum height for mobile */
  }
  
  select, input {
      width: 100%;
  }
  
  
  /* Make text elements more readable on mobile */
  .x-label, .y-label {
      font-size: 12px;
  }
  
  /* Adjust tooltip position for mobile */
  .tooltip {
      max-width: 80%;
  }
}

        /* Styles for the diagonal reference line */
        .dark-mode .xy-line {
            stroke: #3cb371; /* Slightly different green for dark mode */
        }






  

/* Styles for flag icons in select dropdown */
#select-league option {
    display: flex;
    align-items: center;
    padding: 8px 12px;
}

#select-league iconify-icon {
    display: inline-flex;
    vertical-align: middle;
}

/* Styles for custom league selector dropdown */
.custom-select-container {
    position: relative;
    width: 172px;
}

.metric-select-container {
    position: relative;
    width: 192px;
}

.custom-select-option, .metric-select-option {
    display: flex;
    align-items: center;
    padding: 8px 16px;
    cursor: pointer;
    color: var(--text-color);
    background-color: var(--container-bg);
}

.custom-select-option iconify-icon, .metric-select-option iconify-icon {
    margin-right: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}


.custom-select-trigger, .metric-select-trigger {
    display: flex;
    align-items: center;
    padding: 0 12px;
    border: 1px solid var(--border-color);
    border-radius: 6px;
    background-color: var(--container-bg);
    color: var(--text-color);
    font-family: 'Inter', sans-serif;
    font-size: 14px;
    cursor: pointer;
    user-select: none;
    position: relative;
    line-height: 1;
}

.custom-select-trigger span, .metric-select-trigger span {
    display: inline-block;
    transform: translateY(1px);
    white-space: nowrap;
    overflow: hidden;
    max-width: calc(100% - 20px); /* Account for the icon width and margin */
    line-height: normal; /* Ensure consistent line height */
}

/* Make the league selector span 30px smaller */
#league-select-trigger span {
    max-width: calc(100% - 45px); /* 20px + 30px reduction */
}

.custom-select-trigger::after, .metric-select-trigger::after {
    content: '';
    width: 6px;
    height: 6px;
    margin-left: auto;
    border-right: 1.5px solid var(--text-color);
    border-bottom: 1.5px solid var(--text-color);
    transform: rotate(45deg) translateY(-2px);
    transition: transform 0.3s;
    opacity: 0.7;
    margin-right: 2px;
}

.custom-select-trigger.open::after, .metric-select-trigger.open::after {
    transform: rotate(-135deg) translateY(1px);
}

.custom-select-options, .metric-select-options {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background-color: var(--container-bg);
    border: 1px solid var(--border-color);
    border-radius: 6px;
    margin-top: 4px;
    max-height: 300px;
    overflow-y: auto;
    z-index: 100;
    font-size: 13px;
    display: none;
    box-shadow: var(--shadow);
}



.custom-select-option:hover, .metric-select-option:hover {
    background-color: var(--hover-color);
}



.custom-select-option.selected {
    background-color: var(--primary-color);
    color: white;
}

.metric-select-option.selected {
    background-color: var(--primary-color);
    color: white;
}


.dark-mode .custom-select-option:hover {
    background-color: var(--hover-color);
}

.dark-mode .custom-select-option.selected {
    background-color: var(--primary-color);
    color: white;
}

@media (max-width: 768px) {
    .custom-select-option {
        padding: 6px 12px;
    }
}


/* Dark mode styles for custom dropdown */
.dark-mode .custom-select-trigger,
.dark-mode .custom-select-options,
.dark-mode .metric-select-trigger,
.dark-mode .metric-select-options {
    border-color: var(--border-color);
    background-color: var(--container-bg);
    color: var(--text-color);
}

.dark-mode .custom-select-option:hover,
.dark-mode .metric-select-option:hover {
    background-color: var(--hover-color);
}

.dark-mode .custom-select-option.selected,
.dark-mode .metric-select-option.selected {
    background-color: rgba(52, 152, 219, 0.2);
}


/* Adjust flag icon alignment in the trigger */
#league-select-trigger iconify-icon {
    margin-right: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transform: translateY(-1px);
}
        /* Enhanced Dark Mode Styles */
        .dark-mode .chart-wrapper {
            background-color: var(--container-bg);
            border: 1px solid #333;
        }

        .dark-mode .btn {
            background-color: var(--button-color);
        }

        .dark-mode .btn-outline {
            background-color: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-color);
        }

        .dark-mode .btn-outline:hover {
            background-color: var(--hover-color);
            border-color: #444;
        }


        .dark-mode input, 
        .dark-mode select {
            background-color: #1a1a1a;
            color: var(--text-color);
            border-color: #333;
        }

        .dark-mode input::placeholder {
            color: #777;
        }

        .dark-mode input:focus, 
        .dark-mode select:focus {
            border-color: var(--primary-color);
            outline: none;
        }

        .dark-mode .tooltip {
            background-color: #1a1a1a;
            border-color: #333;
            color: var(--text-color);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .legend {
            border-top-color: #333;
        }

        .dark-mode .legend-item {
            color: #ccc;
        }

        .dark-mode .btn-tooltip .btn-tooltip-text {
            background-color: #1a1a1a;
            border-color: #333;
            color: #e0e0e0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .btn-tooltip .btn-tooltip-text::after {
            border-color: #333 transparent transparent transparent;
        }

        .dark-mode .team-label {
            fill: #e0e0e0 !important;
            text-shadow: 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f;
        }

        .dark-mode .x-axis path,
        .dark-mode .y-axis path,
        .dark-mode .x-axis line,
        .dark-mode .y-axis line {
            stroke: #444;
        }

        .dark-mode .x-axis text,
        .dark-mode .y-axis text {
            fill: #aaa;
        }

        .dark-mode .x-label,
        .dark-mode .y-label {
            fill: #ccc;
        }

        .dark-mode .median-line {
            stroke: rgba(255, 255, 255, 0.2) !important;
        }

        .dark-mode .xy-line {
            stroke: #2ecc71;
            opacity: 0.8;
        }

        .dark-mode .dark-mode-toggle {
            background-color: #1a1a1a;
            border: 1px solid #333;
        }

        .dark-mode .toggle-icon::before {
            color: #e0e0e0;
        }

 




        .dark-mode #search-bar::placeholder {
            color: #777;
        }

        .dark-mode circle {
            stroke-width: 1px;
        }



        .dark-mode circle.search-match {
            fill: #ff3366 !important;
            stroke: #0e0f0f;
            stroke-width: 2px;
            filter: drop-shadow(0 0 5px rgba(255, 51, 102, 0.7));
        }


        
        /* Additional dark mode styles for chart elements */
        .dark-mode .chart-container {
            background-color: var(--container-bg);
        }
        
  
        
    
        

        
        /* Fix for custom select dropdown in dark mode */
        .dark-mode .custom-select-trigger::after, 
        .dark-mode .metric-select-trigger::after {
            border-right: 1.5px solid var(--text-color);
            border-bottom: 1.5px solid var(--text-color);
        }
        
        /* Improve contrast for selected items in dark mode */
        .dark-mode .custom-select-option.selected, 
        .dark-mode .metric-select-option.selected {
            background-color: rgba(52, 152, 219, 0.3);
        }
        
        /* Improve visibility of SVG elements in dark mode */
        .dark-mode svg text {
            fill: #ccc;
        }
        
        .dark-mode .legend-color {
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        /* Improve button states in dark mode */
        .dark-mode .btn:hover {
            background-color: #3498db;
        }
        
        .dark-mode .btn-outline:active {
            background-color: #333;
        }
        
        /* Improve focus states for accessibility */
        .dark-mode input:focus,
        .dark-mode select:focus,
        .dark-mode .btn:focus {
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.5);
        }
        
        /* Fix for buttons staying focused with blue outline */
        button:focus, 
        .btn:focus, 
        select:focus, 
        input:focus {
            outline: none;
        }
        
        /* Custom focus styles for better accessibility */
        button:focus-visible, 
        .btn:focus-visible, 
        select:focus-visible, 
        input:focus-visible {
            outline: none;
            box-shadow: 0 0 0 2px var(--primary-color);
        }
        
        /* Remove focus styles when using mouse */
        button:focus:not(:focus-visible), 
        .btn:focus:not(:focus-visible), 
        select:focus:not(:focus-visible), 
        input:focus:not(:focus-visible) {
            box-shadow: none;
        }



.logo img {
  width: 50px;
  height: 50px;
}


/* Promo links styling */
.promo-links-container {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin: 15px auto 25px;
    max-width: 800px;
    flex-wrap: wrap;
    padding: 0 20px;
}

.promo-link {
    display: flex;
    align-items: center;
    padding: 10px 15px;
    background-color: var(--container-bg);
    color: var(--text-color);
    text-decoration: none;
    border-radius: 8px;
    border: 1px solid var(--border-color);
    transition: all 0.3s ease;
    box-shadow: var(--shadow);
    font-weight: 500;
    flex: 1;
    min-width: 220px;
    max-width: 350px;
    justify-content: center;
}

.promo-link iconify-icon {
    margin-right: 8px;
}

.promo-link:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.radar-link {
    border-left: 4px solid #3498db;
}

.pro-link {
    border-left: 4px solid #f39c12;
}

.dark-mode .radar-link {
    border-left: 4px solid #2980b9;
}

.dark-mode .pro-link {
    border-left: 4px solid #d35400;
}

@media (max-width: 768px) {
  
    

    
    select, input {
        width: 100%;
    }
    
    /* Make text elements more readable on mobile */
    .x-label, .y-label {
        font-size: 12px;
    }
    
    /* Adjust tooltip position for mobile */
    .tooltip {
        max-width: 80%;
    }
    
    /* Adjust promo links for mobile */
    .promo-links-container {
        flex-direction: column;
        align-items: center;
        gap: 10px;
        padding: 0 15px;
    }
}

#SFctr {
	font-size: 15px !important;
}

#SFctr .SFfrm {
    margin-top: 20px;
margin-left: 10px;
}
	    
#SFctr td {
	font-family: Arial, Helvetica, sans-serif !important;
}

body.dark-mode #SFctr td {
	color: #f3f6f4 !important;
}
	    
#SFctr input[type="text"],
#SFctr input[type="password"],
#SFctr input[type="email"] {
	border-radius: 8px;

}


.custom-select-option {
    -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            
}
        /* Disable text selection for SVG text elements */
        svg text, .legend,
        .x-label,
        .y-label,
        .team-label,
        .player-name,
        .x-axis text,
        .y-axis text {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            pointer-events: none;
        }

    </style>
</head>


<body>
    <script type="text/javascript">document.body.style.visibility="hidden";</script><div id="SFctr" data-org="31002" data-mfl="64c215764c0b6076026762a3"><div style="clear:both"></div></div><script type="text/javascript" src="https://cdn.membershipworks.com/mfl.js"></script>
    <div class="container">
        <div class="chart-wrapper">
            <div class="controls">
                <select id="select-x" style="display: none;"></select>
                <select id="select-y" style="display: none;"></select>
                <select id="select-league" style="display: none;" onchange="updateChart()">
                    <option value="all">Top 7 Leagues</option>
                    <option value="Top 5 Leagues">Top 5 Leagues</option>
                    <option value="Premier League">Premier League</option>
                    <option value="La Liga">La Liga</option>
                    <option value="Bundesliga">Bundesliga</option>
                    <option value="Serie A">Serie A</option> 
                    <option value="Ligue 1">Ligue 1</option>
                    <option value="Eredivisie">Eredivisie</option>
                    <option value="Primeira Liga">Liga Portugal</option>
                </select>
                
                <!-- Custom X metric selector -->
                <div class="metric-select-container">
                    <div class="metric-select-trigger" id="x-metric-trigger">
                        <span data-i18n="metrics.goals-per-90">Goals per 90</span>
                    </div>
                    <div class="metric-select-options" id="x-metric-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
                
                <!-- Custom Y metric selector -->
                <div class="metric-select-container">
                    <div class="metric-select-trigger" id="y-metric-trigger">
                        <span data-i18n="metrics.xg-per-90">xG per 90</span>
                    </div>
                    <div class="metric-select-options" id="y-metric-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
                
                <!-- Custom league selector with flag icons -->
                <div class="custom-select-container">
                    <div class="custom-select-trigger" id="league-select-trigger">
                        <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                        <span data-i18n="leagues.top7">Top 7 Leagues</span>
                    </div>
                    <div class="custom-select-options" id="league-select-options">
                        <div class="custom-select-option selected" data-value="all">
                            <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                            <span data-i18n="leagues.top7">Top 7 Leagues</span>
                        </div>
                        <div class="custom-select-option" data-value="Top 5 Leagues">
                            <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                            <span data-i18n="leagues.top5">Top 5 Leagues</span>
                        </div>
                        <div class="custom-select-option" data-value="Premier League">
                            <iconify-icon icon="emojione:flag-for-united-kingdom" width="18" height="18"></iconify-icon>
                            <span>Premier League</span>
                        </div>
                        <div class="custom-select-option" data-value="La Liga">
                            <iconify-icon icon="emojione:flag-for-spain" width="18" height="18"></iconify-icon>
                            <span>La Liga</span>
                        </div>
                        <div class="custom-select-option" data-value="Bundesliga">
                            <iconify-icon icon="emojione:flag-for-germany" width="18" height="18"></iconify-icon>
                            <span>Bundesliga</span>
                        </div>
                        <div class="custom-select-option" data-value="Serie A">
                            <iconify-icon icon="emojione:flag-for-italy" width="18" height="18"></iconify-icon>
                            <span>Serie A</span>
                        </div>
                        <div class="custom-select-option" data-value="Ligue 1">
                            <iconify-icon icon="emojione:flag-for-france" width="18" height="18"></iconify-icon>
                            <span>Ligue 1</span>
                        </div>
                        <div class="custom-select-option" data-value="Eredivisie">
                            <iconify-icon icon="emojione:flag-for-netherlands" width="18" height="18"></iconify-icon>
                            <span>Eredivisie</span>
                        </div>
                        <div class="custom-select-option" data-value="Primeira Liga">
                            <iconify-icon icon="emojione:flag-for-portugal" width="18" height="18"></iconify-icon>
                            <span>Liga Portugal</span>
                        </div>
                    </div>
                </div>
                
                <input type="text" id="search-bar" data-i18n="search.placeholder2" placeholder="Search team...">
                <div class="btn-tooltip">
                    <button id="toggle-median-lines" class="btn btn-outline btn-icon">
                        <div class="icon">
                            <i class="ion-stats-bars"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" id="median-lines-tooltip" data-i18n="tooltip.median-lines">Show median lines</span>
                </div>
                <div class="btn-tooltip">
                    <button class="btn btn-outline btn-icon" id="select-all-button" onclick="selectAllCircles()">
                        <div class="icon">
                            <i class="ion-ios-circle-filled" id="select-icon"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" id="select-all-tooltip" data-i18n="tooltip.select-all">Select all teams</span>
                </div>
                <div class="btn-tooltip">
                    <button class="btn btn-outline btn-icon" onclick="takeScreenshot()">
                        <div class="icon">
                            <i class="ion-camera"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" data-i18n="tooltip.screenshot">Download chart as image</span>
                </div>
            </div>
       
            <div class="chart-container">
              <svg id="scatter-plot"></svg>
            </div>

            <div class="legend" id="league-legend">
              <!-- Legend items will be added here dynamically -->
            </div>
        </div>

        <div class="promo-links-container">
            <a href="https://datamb.football/proteamradar" class="promo-link radar-link"  target="_self" rel="noopener noreferrer">
                <iconify-icon icon="mdi:radar" width="20" height="20"></iconify-icon>
                <span data-i18n="promo.radar-link">Compare Teams with Radars</span>
            </a>
        </div>
    </div>

    <div class="dark-mode-toggle" onclick="toggleDarkMode()">
        <div class="toggle-icon"></div>
    </div>



    <script>
        
        var _0x44f82b=_0x2044;(function(_0x12380a,_0x1fc364){var _0x57aa7a=_0x2044,_0x474c3b=_0x12380a();while(!![]){try{var _0x322c0c=-parseInt(_0x57aa7a(0x227))/0x1+parseInt(_0x57aa7a(0x271))/0x2+-parseInt(_0x57aa7a(0x27e))/0x3*(parseInt(_0x57aa7a(0x284))/0x4)+parseInt(_0x57aa7a(0x266))/0x5+-parseInt(_0x57aa7a(0x2d0))/0x6+parseInt(_0x57aa7a(0x23b))/0x7+-parseInt(_0x57aa7a(0x1eb))/0x8;if(_0x322c0c===_0x1fc364)break;else _0x474c3b['push'](_0x474c3b['shift']());}catch(_0x576484){_0x474c3b['push'](_0x474c3b['shift']());}}}(_0xce1d,0x52127));let initializeCustomSelectors=function(){var _0x3ceda0=_0x2044;const _0xca6b70=document[_0x3ceda0(0x26e)](_0x3ceda0(0x229)),_0x438fee=document[_0x3ceda0(0x26e)]('league-select-options'),_0xc2669=document[_0x3ceda0(0x26e)](_0x3ceda0(0x225));setupCustomSelect(_0xca6b70,_0x438fee,_0xc2669);const _0x40f546=document[_0x3ceda0(0x26e)]('x-metric-trigger'),_0x23e7a0=document[_0x3ceda0(0x26e)](_0x3ceda0(0x250)),_0x469ec0=document[_0x3ceda0(0x26e)](_0x3ceda0(0x25a));populateMetricOptions(_0x23e7a0,header[_0x3ceda0(0x203)](0x3),function(_0x152482,_0x328c6e){var _0x2e7ef5=_0x3ceda0;_0x40f546[_0x2e7ef5(0x23c)](_0x2e7ef5(0x202))[_0x2e7ef5(0x1ff)]===_0x328c6e&&_0x152482['classList']['add'](_0x2e7ef5(0x253));if(_0x328c6e===header[0x3]){_0x152482['classList'][_0x2e7ef5(0x210)](_0x2e7ef5(0x253)),_0x40f546[_0x2e7ef5(0x23c)]('span')[_0x2e7ef5(0x1ff)]=_0x328c6e;const _0x2c10c4=_0x328c6e[_0x2e7ef5(0x2b5)]()[_0x2e7ef5(0x278)](/ /g,'-')[_0x2e7ef5(0x278)](/%/g,'pct');_0x40f546[_0x2e7ef5(0x23c)](_0x2e7ef5(0x202))['setAttribute'](_0x2e7ef5(0x263),_0x2e7ef5(0x264)+_0x2c10c4);}}),setupCustomSelect(_0x40f546,_0x23e7a0,_0x469ec0);const _0x3ede68=document[_0x3ceda0(0x26e)]('y-metric-trigger'),_0x39486a=document[_0x3ceda0(0x26e)](_0x3ceda0(0x1fe)),_0x2eb969=document['getElementById']('select-y');populateMetricOptions(_0x39486a,header[_0x3ceda0(0x203)](0x3),function(_0x24bdde,_0x1eeebd){var _0xeb3b0a=_0x3ceda0;_0x3ede68['querySelector'](_0xeb3b0a(0x202))['textContent']===_0x1eeebd&&_0x24bdde[_0xeb3b0a(0x220)]['add']('selected');if(_0x1eeebd===header[0x4]){_0x24bdde[_0xeb3b0a(0x220)][_0xeb3b0a(0x210)](_0xeb3b0a(0x253)),_0x3ede68[_0xeb3b0a(0x23c)](_0xeb3b0a(0x202))[_0xeb3b0a(0x1ff)]=_0x1eeebd;const _0x486ddc=_0x1eeebd['toLowerCase']()[_0xeb3b0a(0x278)](/ /g,'-')[_0xeb3b0a(0x278)](/%/g,_0xeb3b0a(0x27f));_0x3ede68['querySelector']('span')[_0xeb3b0a(0x22a)]('data-i18n','metrics.'+_0x486ddc);}}),setupCustomSelect(_0x3ede68,_0x39486a,_0x2eb969);};function populateMetricOptions(_0x2a5da5,_0x3d4be2,_0x3966e8){var _0x46e4f2=_0x2044;_0x2a5da5[_0x46e4f2(0x28a)]='',_0x3d4be2[_0x46e4f2(0x1e5)](function(_0xcc3990){var _0x5be927=_0x46e4f2;const _0x18f069=document[_0x5be927(0x277)](_0x5be927(0x204));_0x18f069['className']='metric-select-option',_0x18f069[_0x5be927(0x22a)](_0x5be927(0x234),_0xcc3990);const _0x19200c=document[_0x5be927(0x277)](_0x5be927(0x202));_0x19200c[_0x5be927(0x1ff)]=_0xcc3990;const _0x2ae1ba=_0xcc3990['toLowerCase']()['replace'](/ /g,'-')['replace'](/%/g,_0x5be927(0x27f));_0x19200c[_0x5be927(0x22a)](_0x5be927(0x263),_0x5be927(0x264)+_0x2ae1ba),_0x18f069[_0x5be927(0x1f9)](_0x19200c);if(_0x3966e8)_0x3966e8(_0x18f069,_0xcc3990);_0x2a5da5[_0x5be927(0x1f9)](_0x18f069);});}function setupCustomSelect(_0x4bb72f,_0x16bfc2,_0xe2fe3e){var _0x2391fa=_0x2044;_0x4bb72f[_0x2391fa(0x26d)]('click',function(){var _0x5b0831=_0x2391fa;document[_0x5b0831(0x1e6)](_0x5b0831(0x291))[_0x5b0831(0x1e5)](function(_0x2d3658){var _0x274024=_0x5b0831;if(_0x2d3658!==_0x4bb72f){_0x2d3658['classList'][_0x274024(0x257)]('open');const _0x30da47=_0x2d3658[_0x274024(0x267)];if(_0x30da47)_0x30da47[_0x274024(0x2c2)][_0x274024(0x27c)]=_0x274024(0x212);}}),_0x4bb72f[_0x5b0831(0x220)]['toggle'](_0x5b0831(0x22e));const _0x1cb3b0=_0x4bb72f['classList'][_0x5b0831(0x2a6)](_0x5b0831(0x22e));_0x16bfc2['style']['display']=_0x1cb3b0?_0x5b0831(0x1ec):_0x5b0831(0x212);});const _0x1ede2a=_0x16bfc2[_0x2391fa(0x1e6)](_0x2391fa(0x1f1));_0x1ede2a['forEach'](_0x41a658=>{var _0x54d2fb=_0x2391fa;_0x41a658[_0x54d2fb(0x26d)](_0x54d2fb(0x290),function(){var _0x4f6cc6=_0x54d2fb;_0x1ede2a[_0x4f6cc6(0x1e5)](_0xc2871a=>_0xc2871a[_0x4f6cc6(0x220)][_0x4f6cc6(0x257)](_0x4f6cc6(0x253))),this[_0x4f6cc6(0x220)][_0x4f6cc6(0x210)]('selected');const _0x58e606=this['querySelector'](_0x4f6cc6(0x202))['textContent'],_0x2316f7=this[_0x4f6cc6(0x23c)](_0x4f6cc6(0x202))[_0x4f6cc6(0x28d)](_0x4f6cc6(0x263)),_0x234341=this[_0x4f6cc6(0x23c)](_0x4f6cc6(0x242));_0x4bb72f[_0x4f6cc6(0x28a)]='';if(_0x234341){const _0x3608ba=_0x234341['cloneNode'](!![]);_0x3608ba[_0x4f6cc6(0x2c2)][_0x4f6cc6(0x27b)]=_0x4f6cc6(0x2d3),_0x4bb72f[_0x4f6cc6(0x1f9)](_0x3608ba);}const _0x4df79d=document[_0x4f6cc6(0x277)]('span');_0x4df79d[_0x4f6cc6(0x1ff)]=_0x58e606;_0x2316f7&&_0x4df79d[_0x4f6cc6(0x22a)](_0x4f6cc6(0x263),_0x2316f7);_0x4bb72f[_0x4f6cc6(0x1f9)](_0x4df79d);const _0x27421c=this[_0x4f6cc6(0x28d)](_0x4f6cc6(0x234));_0xe2fe3e[_0x4f6cc6(0x29d)]=_0x27421c||_0x58e606;const _0x368009=new Event(_0x4f6cc6(0x2b3));_0xe2fe3e[_0x4f6cc6(0x262)](_0x368009),_0x4bb72f[_0x4f6cc6(0x220)]['remove']('open'),_0x16bfc2[_0x4f6cc6(0x2c2)][_0x4f6cc6(0x27c)]=_0x4f6cc6(0x212);});});let _0x5ae636='',_0x2c4f9a;document['addEventListener'](_0x2391fa(0x1f3),function(_0x1490f3){var _0x1454bf=_0x2391fa;if(!_0x4bb72f[_0x1454bf(0x220)][_0x1454bf(0x2a6)](_0x1454bf(0x22e)))return;if(_0x1490f3['key']==='ArrowDown'||_0x1490f3[_0x1454bf(0x2a4)]===_0x1454bf(0x218)){_0x1490f3[_0x1454bf(0x20f)]();const _0x1e435b=Array[_0x1454bf(0x226)](_0x1ede2a),_0x2d463=_0x1e435b['findIndex'](_0x12ee3c=>_0x12ee3c[_0x1454bf(0x220)][_0x1454bf(0x2a6)]('selected'));let _0x181df1;_0x1490f3[_0x1454bf(0x2a4)]===_0x1454bf(0x2b0)?_0x181df1=_0x2d463<_0x1e435b[_0x1454bf(0x2c4)]-0x1?_0x2d463+0x1:0x0:_0x181df1=_0x2d463>0x0?_0x2d463-0x1:_0x1e435b[_0x1454bf(0x2c4)]-0x1;_0x1ede2a['forEach'](_0x242a92=>_0x242a92[_0x1454bf(0x220)][_0x1454bf(0x257)](_0x1454bf(0x253))),_0x1e435b[_0x181df1][_0x1454bf(0x220)][_0x1454bf(0x210)](_0x1454bf(0x253)),_0x1e435b[_0x181df1][_0x1454bf(0x2a5)]({'block':_0x1454bf(0x1f4)});return;}if(_0x1490f3[_0x1454bf(0x2a4)]===_0x1454bf(0x1f2)){_0x1490f3[_0x1454bf(0x20f)]();const _0x245f43=_0x16bfc2[_0x1454bf(0x23c)](_0x1454bf(0x1ea));_0x245f43&&_0x245f43['click']();return;}if(_0x1490f3[_0x1454bf(0x2a4)]===_0x1454bf(0x206)){_0x1490f3['preventDefault'](),_0x4bb72f[_0x1454bf(0x220)]['remove'](_0x1454bf(0x22e)),_0x16bfc2[_0x1454bf(0x2c2)][_0x1454bf(0x27c)]=_0x1454bf(0x212);return;}if(_0x1490f3['key']['length']===0x1&&_0x1490f3[_0x1454bf(0x2a4)]['match'](/[a-zA-Z0-9%]/)){clearTimeout(_0x2c4f9a),_0x5ae636+=_0x1490f3['key']['toLowerCase']();const _0x3ca3a6=Array[_0x1454bf(0x226)](_0x1ede2a)[_0x1454bf(0x2a3)](_0x21f19f=>{var _0x4fada6=_0x1454bf;const _0x2e50ec=_0x21f19f[_0x4fada6(0x23c)](_0x4fada6(0x202))['textContent'][_0x4fada6(0x2b5)]();return _0x2e50ec['startsWith'](_0x5ae636);});_0x3ca3a6&&(_0x1ede2a['forEach'](_0x4c5a32=>_0x4c5a32[_0x1454bf(0x220)][_0x1454bf(0x257)](_0x1454bf(0x253))),_0x3ca3a6[_0x1454bf(0x220)][_0x1454bf(0x210)](_0x1454bf(0x253)),_0x3ca3a6[_0x1454bf(0x2a5)]({'block':'nearest'})),_0x2c4f9a=setTimeout(()=>{_0x5ae636='';},0x3e8);}});}document['addEventListener'](_0x44f82b(0x290),function(_0x5c5bf5){var _0x952d09=_0x44f82b;const _0x1f7eab=document[_0x952d09(0x1e6)](_0x952d09(0x27a)),_0x5b7ebe=document[_0x952d09(0x1e6)](_0x952d09(0x297));let _0x41e038=![];_0x1f7eab[_0x952d09(0x1e5)](function(_0x2cd8f7,_0x325b32){var _0x3210bd=_0x952d09;const _0x237597=_0x5b7ebe[_0x325b32];_0x2cd8f7&&_0x237597&&(_0x2cd8f7[_0x3210bd(0x2a6)](_0x5c5bf5[_0x3210bd(0x2cb)])||_0x237597[_0x3210bd(0x2a6)](_0x5c5bf5[_0x3210bd(0x2cb)]))&&(_0x41e038=!![]);}),!_0x41e038&&_0x1f7eab[_0x952d09(0x1e5)](function(_0x128374,_0x21511b){var _0x4fe5c3=_0x952d09;_0x128374&&_0x5b7ebe[_0x21511b]&&(_0x128374['classList'][_0x4fe5c3(0x257)]('open'),_0x5b7ebe[_0x21511b][_0x4fe5c3(0x2c2)]['display']=_0x4fe5c3(0x212));});});const xhr=new XMLHttpRequest();xhr[_0x44f82b(0x22e)]('GET',_0x44f82b(0x249),![]),xhr[_0x44f82b(0x21f)](null);let csvData=xhr[_0x44f82b(0x21d)],extraHeaderRow=_0x44f82b(0x28c);csvData=extraHeaderRow+csvData;var rows=csvData[_0x44f82b(0x246)]()[_0x44f82b(0x294)]('\x0a'),header=rows[0x0][_0x44f82b(0x294)](','),data=rows[_0x44f82b(0x203)](0x1)[_0x44f82b(0x2b2)](function(_0x39b4f1){var _0x226cb7=_0x44f82b;return _0x39b4f1[_0x226cb7(0x294)](',')[_0x226cb7(0x2b2)](function(_0x2e9b15,_0x510ff2){return _0x510ff2>=0x3?parseFloat(_0x2e9b15):_0x2e9b15;});}),margin={'top':0x0,'right':0x0,'bottom':0x0,'left':0x0},width=0x43a-margin[_0x44f82b(0x23a)]-margin[_0x44f82b(0x2a2)],height=0x302-margin['top']-margin['bottom'],leagueColors={'Premier\x20League':_0x44f82b(0x26f),'La\x20Liga':_0x44f82b(0x232),'Bundesliga':_0x44f82b(0x28e),'Serie\x20A':_0x44f82b(0x248),'Ligue\x201':_0x44f82b(0x2c9),'Eredivisie':'rgba(75,\x200,\x20130,\x200.7)','Primeira\x20Liga':_0x44f82b(0x2be)};function getLeagueColor(_0x55b027){var _0x4e5494=_0x44f82b;return leagueColors[_0x55b027]||_0x4e5494(0x26f);}function updateChartDimensions(){var _0x2e1bd4=_0x44f82b,_0x581be3=document['querySelector'](_0x2e1bd4(0x216))[_0x2e1bd4(0x2ce)],_0x43579e=window[_0x2e1bd4(0x20a)]*0.7,_0x3b5a0f=0x1e,_0x49e36a=Math[_0x2e1bd4(0x239)](0x43a,_0x581be3-_0x3b5a0f*0x2),_0x387a0c=window['innerWidth']/window[_0x2e1bd4(0x20a)]<0x1;if(_0x387a0c){margin={'top':0x28,'right':0x1e,'bottom':0x3c,'left':0x4b};var _0x3ed555=1.4,_0x47ca79=Math[_0x2e1bd4(0x239)](_0x43579e,_0x49e36a*_0x3ed555);_0x47ca79=Math[_0x2e1bd4(0x251)](_0x47ca79,0x1f4);}else{margin={'top':0x28,'right':0x1e,'bottom':0x3c,'left':0x4f};var _0x241c28=0.7,_0x47ca79=_0x49e36a*_0x241c28;}width=_0x49e36a-margin['left']-margin[_0x2e1bd4(0x2a2)],height=_0x47ca79-margin['top']-margin[_0x2e1bd4(0x21c)],d3['select'](_0x2e1bd4(0x296))['attr']('width',_0x49e36a)[_0x2e1bd4(0x230)](_0x2e1bd4(0x1e3),_0x47ca79),document[_0x2e1bd4(0x23c)](_0x2e1bd4(0x2aa))['style'][_0x2e1bd4(0x1e3)]=_0x47ca79+'px';}window[_0x44f82b(0x26d)](_0x44f82b(0x2c5),function(){updateChartDimensions(),requestAnimationFrame(function(){updateChart();});}),updateChartDimensions();function debounce(_0x1ec590,_0x5a5e6e){let _0x566b55;return function(){const _0x520df4=this,_0x409dd8=arguments;clearTimeout(_0x566b55),_0x566b55=setTimeout(function(){var _0x59a0e1=_0x2044;_0x1ec590[_0x59a0e1(0x24f)](_0x520df4,_0x409dd8);},_0x5a5e6e);};}var prevWindowWidth=window[_0x44f82b(0x26a)],prevWindowHeight=window['innerHeight'];window[_0x44f82b(0x26d)](_0x44f82b(0x2c5),debounce(function(){var _0x556011=_0x44f82b,_0x13fdf7=prevWindowWidth/prevWindowHeight<0x1,_0x9aa760=window['innerWidth']/window[_0x556011(0x20a)]<0x1;prevWindowWidth=window[_0x556011(0x26a)],prevWindowHeight=window[_0x556011(0x20a)],requestAnimationFrame(function(){updateChart();});},0x32));var medianLinesVisible=![],selectX=d3[_0x44f82b(0x2b9)](_0x44f82b(0x24c)),selectY=d3[_0x44f82b(0x2b9)]('#select-y'),names=data[_0x44f82b(0x2b2)](function(_0x3c22d9){return _0x3c22d9[0x1];});header['slice'](0x3)['forEach'](function(_0x29ae6b){var _0x3f2e63=_0x44f82b;selectX['append'](_0x3f2e63(0x29e))[_0x3f2e63(0x201)](_0x29ae6b)[_0x3f2e63(0x230)]('value',_0x29ae6b),selectY[_0x3f2e63(0x275)]('option')[_0x3f2e63(0x201)](_0x29ae6b)['attr']('value',_0x29ae6b);}),selectX[_0x44f82b(0x272)](_0x44f82b(0x29d),header[0x3]),selectY[_0x44f82b(0x272)]('value',header[0x4]);var svg=d3[_0x44f82b(0x2b9)](_0x44f82b(0x296))['attr'](_0x44f82b(0x285),width+margin[_0x44f82b(0x23a)]+margin[_0x44f82b(0x2a2)])[_0x44f82b(0x230)]('height',height+margin['top']+margin[_0x44f82b(0x21c)])[_0x44f82b(0x275)]('g')[_0x44f82b(0x230)](_0x44f82b(0x252),_0x44f82b(0x289)+margin[_0x44f82b(0x23a)]+','+margin[_0x44f82b(0x1f5)]+')'),xMetric=header[0x3],yMetric=header[0x4],xScale=d3[_0x44f82b(0x1fc)]()['range']([0x0,width]),yScale=d3[_0x44f82b(0x1fc)]()[_0x44f82b(0x2ba)]([height,0x0]),xAxis=d3[_0x44f82b(0x25f)](xScale)[_0x44f82b(0x207)](0x0),yAxis=d3[_0x44f82b(0x270)](yScale)['tickSize'](0x0),gXAxis=svg['append']('g')['attr'](_0x44f82b(0x2c1),'x-axis')[_0x44f82b(0x230)]('transform',_0x44f82b(0x258)+height+')'),gYAxis=svg[_0x44f82b(0x275)]('g')[_0x44f82b(0x230)](_0x44f82b(0x2c1),_0x44f82b(0x200)),xLabel=svg[_0x44f82b(0x275)](_0x44f82b(0x201))[_0x44f82b(0x230)](_0x44f82b(0x2c1),_0x44f82b(0x237))[_0x44f82b(0x230)](_0x44f82b(0x2a1),_0x44f82b(0x282))[_0x44f82b(0x230)]('x',width)[_0x44f82b(0x230)]('y',height+0x23)[_0x44f82b(0x2c2)]('font-family',_0x44f82b(0x2b6))[_0x44f82b(0x2c2)]('font-size',_0x44f82b(0x221)),yLabel=svg[_0x44f82b(0x275)](_0x44f82b(0x201))[_0x44f82b(0x230)](_0x44f82b(0x2c1),_0x44f82b(0x245))['attr'](_0x44f82b(0x2a1),_0x44f82b(0x282))[_0x44f82b(0x230)]('transform',_0x44f82b(0x254))['attr']('y',-0x35)[_0x44f82b(0x230)]('x',0x0)[_0x44f82b(0x2c2)](_0x44f82b(0x235),_0x44f82b(0x2b6))[_0x44f82b(0x2c2)](_0x44f82b(0x20c),_0x44f82b(0x221)),tooltip=d3['select'](_0x44f82b(0x29b))[_0x44f82b(0x275)]('div')['attr']('class',_0x44f82b(0x1e8));function isMobileDevice(){var _0x354685=_0x44f82b;return window[_0x354685(0x26a)]<=0x300;}function positionTooltip(_0x37bbcd,_0x10ce15){var _0x507112=_0x44f82b;const _0x4e0fb3=_0x10ce15[_0x507112(0x2ac)]();if(!_0x4e0fb3)return{'left':0x0,'top':0x0};const _0x5ba38d=_0x4e0fb3[_0x507112(0x1f0)](),_0x3946ba=window[_0x507112(0x26a)],_0x148f23=window[_0x507112(0x20a)];let _0x5b497b=_0x37bbcd[_0x507112(0x281)]+0xa,_0x355efe=_0x37bbcd[_0x507112(0x2a8)]-0x1c;return _0x5b497b+_0x5ba38d[_0x507112(0x285)]>_0x3946ba-0xa&&(_0x5b497b=_0x37bbcd[_0x507112(0x281)]-_0x5ba38d['width']-0xa),_0x355efe+_0x5ba38d['height']>_0x148f23-0xa&&(_0x355efe=_0x37bbcd[_0x507112(0x2a8)]-_0x5ba38d[_0x507112(0x1e3)]-0xa),_0x5b497b=Math[_0x507112(0x251)](0xa,_0x5b497b),_0x355efe=Math[_0x507112(0x251)](0xa,_0x355efe),{'left':_0x5b497b,'top':_0x355efe};}var clickedCircles=[],filteredData=data,filteredNames=names,circles;function updateChart(){var _0x4ef4f7=_0x44f82b;updateChartDimensions(),d3[_0x4ef4f7(0x2b9)](_0x4ef4f7(0x296))['attr']('width',width+margin['left']+margin[_0x4ef4f7(0x2a2)])[_0x4ef4f7(0x230)](_0x4ef4f7(0x1e3),height+margin['top']+margin[_0x4ef4f7(0x21c)]),gXAxis[_0x4ef4f7(0x230)](_0x4ef4f7(0x252),'translate(0,'+height+')'),xLabel[_0x4ef4f7(0x230)]('x',width)[_0x4ef4f7(0x230)]('y',height+0x23),yLabel['attr']('x',0x0);const _0x235e5a=document['body']['classList'][_0x4ef4f7(0x2a6)](_0x4ef4f7(0x22d));var _0x66a078=document[_0x4ef4f7(0x26e)](_0x4ef4f7(0x225))[_0x4ef4f7(0x29d)];if(_0x66a078===_0x4ef4f7(0x25d))filteredData=data;else _0x66a078==='Top\x205\x20Leagues'?filteredData=data[_0x4ef4f7(0x295)](function(_0x42b0cd){var _0x1ea3d3=_0x4ef4f7;return _0x42b0cd[0x2]===_0x1ea3d3(0x2c0)||_0x42b0cd[0x2]==='La\x20Liga'||_0x42b0cd[0x2]===_0x1ea3d3(0x261)||_0x42b0cd[0x2]==='Serie\x20A'||_0x42b0cd[0x2]===_0x1ea3d3(0x214);}):filteredData=data[_0x4ef4f7(0x295)](function(_0x7ba277){return _0x7ba277[0x2]===_0x66a078;});filteredNames=filteredData[_0x4ef4f7(0x2b2)](function(_0x49dc95){return _0x49dc95[0x1];}),xMetric=selectX['property']('value'),yMetric=selectY[_0x4ef4f7(0x272)](_0x4ef4f7(0x29d)),xScale[_0x4ef4f7(0x2ba)]([0x0,width])['domain']((function(){var _0x3f10d1=_0x4ef4f7;const _0x30bffd=d3[_0x3f10d1(0x239)](filteredData,_0x3b19ba=>_0x3b19ba[header[_0x3f10d1(0x222)](xMetric)]),_0x12539d=d3['max'](filteredData,_0x46f504=>_0x46f504[header[_0x3f10d1(0x222)](xMetric)]),_0x2eae78=_0x12539d-_0x30bffd,_0x49f835=_0x2eae78*0.1;return[_0x30bffd-_0x49f835,_0x12539d+_0x49f835];}())),yScale[_0x4ef4f7(0x2ba)]([height,0x0])[_0x4ef4f7(0x2d1)]((function(){var _0x3f7b01=_0x4ef4f7;const _0x22a35a=d3[_0x3f7b01(0x239)](filteredData,_0x1c4b6a=>_0x1c4b6a[header[_0x3f7b01(0x222)](yMetric)]),_0x56d919=d3[_0x3f7b01(0x251)](filteredData,_0x54566f=>_0x54566f[header[_0x3f7b01(0x222)](yMetric)]),_0x290c8d=_0x56d919-_0x22a35a,_0x4af554=_0x290c8d*0.1;return[_0x22a35a-_0x4af554,_0x56d919+_0x4af554];}())),gXAxis['call'](d3[_0x4ef4f7(0x25f)](xScale)[_0x4ef4f7(0x207)](0x0)),gYAxis[_0x4ef4f7(0x268)](d3[_0x4ef4f7(0x270)](yScale)[_0x4ef4f7(0x207)](0x0));const _0xcde7da=_0x4ef4f7(0x264)+xMetric[_0x4ef4f7(0x2b5)]()['replace'](/ /g,'-')['replace'](/%/g,_0x4ef4f7(0x27f)),_0x4406ba=_0x4ef4f7(0x264)+yMetric[_0x4ef4f7(0x2b5)]()[_0x4ef4f7(0x278)](/ /g,'-')[_0x4ef4f7(0x278)](/%/g,_0x4ef4f7(0x27f));xLabel['attr'](_0x4ef4f7(0x263),_0xcde7da),yLabel[_0x4ef4f7(0x230)](_0x4ef4f7(0x263),_0x4406ba);if(window['currentTranslations']&&window['currentTranslations']['metrics']){const _0x402706=xMetric[_0x4ef4f7(0x2b5)]()[_0x4ef4f7(0x278)](/ /g,'-')['replace'](/%/g,'pct'),_0x4106e4=yMetric[_0x4ef4f7(0x2b5)]()[_0x4ef4f7(0x278)](/ /g,'-')[_0x4ef4f7(0x278)](/%/g,'pct'),_0x15cf77=window['currentTranslations'][_0x4ef4f7(0x24a)][_0x402706],_0x4235c3=window[_0x4ef4f7(0x274)][_0x4ef4f7(0x24a)][_0x4106e4];xLabel[_0x4ef4f7(0x201)](_0x15cf77||xMetric),yLabel[_0x4ef4f7(0x201)](_0x4235c3||yMetric);}else xLabel[_0x4ef4f7(0x201)](xMetric),yLabel[_0x4ef4f7(0x201)](yMetric);svg[_0x4ef4f7(0x260)](_0x4ef4f7(0x243))['remove'](),svg[_0x4ef4f7(0x260)](_0x4ef4f7(0x215))['remove'](),svg[_0x4ef4f7(0x260)]('.xy-line')[_0x4ef4f7(0x257)](),svg[_0x4ef4f7(0x260)](_0x4ef4f7(0x1f6))[_0x4ef4f7(0x257)](),svg['selectAll'](_0x4ef4f7(0x25c))[_0x4ef4f7(0x257)](),svg['selectAll'](_0x4ef4f7(0x1fd))[_0x4ef4f7(0x257)](),svg[_0x4ef4f7(0x260)](_0x4ef4f7(0x1fa))[_0x4ef4f7(0x257)](),svg[_0x4ef4f7(0x260)](_0x4ef4f7(0x23d))['remove'](),svg[_0x4ef4f7(0x260)](_0x4ef4f7(0x21a))[_0x4ef4f7(0x257)](),svg['selectAll'](_0x4ef4f7(0x287))[_0x4ef4f7(0x257)](),svg[_0x4ef4f7(0x260)](_0x4ef4f7(0x29f))['remove']();if(xMetric===_0x4ef4f7(0x1ee)&&yMetric==='Goals\x20per\x2090'||xMetric==='Goals\x20per\x2090'&&yMetric===_0x4ef4f7(0x1ee)){var _0x2a260a=null,_0x296084=d3[_0x4ef4f7(0x239)](filteredData,function(_0x17eac0){var _0x258a67=_0x4ef4f7;return _0x17eac0[header[_0x258a67(0x222)](xMetric)];}),_0x327bc5=d3[_0x4ef4f7(0x251)](filteredData,function(_0x30ee50){var _0x497712=_0x4ef4f7;return _0x30ee50[header[_0x497712(0x222)](xMetric)];}),_0x13bfbb=d3[_0x4ef4f7(0x239)](filteredData,function(_0x31ad02){var _0x4bebac=_0x4ef4f7;return _0x31ad02[header[_0x4bebac(0x222)](yMetric)];}),_0x184d12=d3[_0x4ef4f7(0x251)](filteredData,function(_0x1daf58){return _0x1daf58[header['indexOf'](yMetric)];}),_0x222d45=Math['min'](_0x327bc5,_0x184d12),_0x4a8479=Math[_0x4ef4f7(0x251)](_0x296084,_0x13bfbb);svg[_0x4ef4f7(0x275)](_0x4ef4f7(0x233))[_0x4ef4f7(0x230)](_0x4ef4f7(0x2c1),_0x4ef4f7(0x22f))[_0x4ef4f7(0x230)]('x1',xScale(_0x4a8479))[_0x4ef4f7(0x230)]('y1',yScale(_0x4a8479))[_0x4ef4f7(0x230)]('x2',xScale(_0x222d45))[_0x4ef4f7(0x230)]('y2',yScale(_0x222d45))['style'](_0x4ef4f7(0x20e),'#2ecc71')[_0x4ef4f7(0x2c2)]('stroke-width','2')[_0x4ef4f7(0x2c2)]('stroke-dasharray',_0x4ef4f7(0x208)),svg['append']('line')[_0x4ef4f7(0x230)](_0x4ef4f7(0x2c1),_0x4ef4f7(0x223))[_0x4ef4f7(0x230)]('x1',xScale(_0x4a8479))[_0x4ef4f7(0x230)]('y1',yScale(_0x4a8479))[_0x4ef4f7(0x230)]('x2',xScale(_0x222d45))['attr']('y2',yScale(_0x222d45))[_0x4ef4f7(0x2c2)](_0x4ef4f7(0x20e),_0x4ef4f7(0x256))['style'](_0x4ef4f7(0x2cc),'15')[_0x4ef4f7(0x2c2)](_0x4ef4f7(0x24d),_0x4ef4f7(0x22b))['on'](_0x4ef4f7(0x2b1),function(){var _0x3c4a83=_0x4ef4f7;_0x2a260a&&clearTimeout(_0x2a260a);var _0x593d35=d3[_0x3c4a83(0x2c3)]['pageX'],_0x36d648=d3[_0x3c4a83(0x2c3)][_0x3c4a83(0x2a8)];_0x2a260a=setTimeout(function(){var _0x553514=_0x3c4a83;tooltip[_0x553514(0x28b)]()[_0x553514(0x1e9)](0xc8)[_0x553514(0x2c2)](_0x553514(0x27d),0.9);var _0x476e41=_0x553514(0x23f)+getTranslation('tooltip.xg-line-title',_0x553514(0x28f))+_0x553514(0x1f8);xMetric===_0x553514(0x1ee)&&yMetric===_0x553514(0x1fb)?_0x476e41+=_0x553514(0x2b4)+getTranslation('tooltip.xg-line-above',_0x553514(0x29a))+'</span><br/>'+_0x553514(0x2b4)+getTranslation(_0x553514(0x2ae),_0x553514(0x279))+_0x553514(0x1ed):_0x476e41+=_0x553514(0x2b4)+getTranslation(_0x553514(0x2d2),_0x553514(0x26c))+_0x553514(0x2bf)+_0x553514(0x2b4)+getTranslation('tooltip.xg-line-left',_0x553514(0x211))+'</span>',tooltip[_0x553514(0x276)](_0x476e41)[_0x553514(0x2c2)](_0x553514(0x23a),_0x593d35+0xa+'px')[_0x553514(0x2c2)]('top',_0x36d648-0x1c+'px');},0x258);})['on']('mouseout',function(){var _0x306935=_0x4ef4f7;_0x2a260a&&(clearTimeout(_0x2a260a),_0x2a260a=null),tooltip[_0x306935(0x28b)]()['duration'](0x1f4)[_0x306935(0x2c2)](_0x306935(0x27d),0x0);});}if(medianLinesVisible){var _0x3a9e59=d3[_0x4ef4f7(0x2ca)](filteredData,function(_0x33116f){var _0x28a731=_0x4ef4f7;return _0x33116f[header[_0x28a731(0x222)](xMetric)];}),_0x4e8125=d3[_0x4ef4f7(0x2ca)](filteredData,function(_0x1d62cc){var _0x3bab1a=_0x4ef4f7;return _0x1d62cc[header[_0x3bab1a(0x222)](yMetric)];});svg[_0x4ef4f7(0x275)](_0x4ef4f7(0x233))[_0x4ef4f7(0x230)](_0x4ef4f7(0x2c1),'median-line')[_0x4ef4f7(0x230)]('x1',xScale(_0x3a9e59))[_0x4ef4f7(0x230)]('y1',0x0)[_0x4ef4f7(0x230)]('x2',xScale(_0x3a9e59))[_0x4ef4f7(0x230)]('y2',height)[_0x4ef4f7(0x2c2)](_0x4ef4f7(0x20e),_0x4ef4f7(0x20b))[_0x4ef4f7(0x2c2)](_0x4ef4f7(0x2c6),'4'),svg['append'](_0x4ef4f7(0x233))[_0x4ef4f7(0x230)](_0x4ef4f7(0x2c1),_0x4ef4f7(0x2bd))['attr']('x1',0x0)['attr']('y1',yScale(_0x4e8125))[_0x4ef4f7(0x230)]('x2',width)[_0x4ef4f7(0x230)]('y2',yScale(_0x4e8125))[_0x4ef4f7(0x2c2)]('stroke',_0x4ef4f7(0x20b))[_0x4ef4f7(0x2c2)]('stroke-dasharray','4');}circles=svg[_0x4ef4f7(0x260)](_0x4ef4f7(0x243))['data'](filteredData)[_0x4ef4f7(0x269)]()[_0x4ef4f7(0x275)](_0x4ef4f7(0x243))[_0x4ef4f7(0x230)]('cx',function(_0xff4723){var _0x4b321c=_0x4ef4f7;return xScale(_0xff4723[header[_0x4b321c(0x222)](xMetric)]);})['attr']('cy',function(_0x235aa4){var _0x56dcb9=_0x4ef4f7;return yScale(_0x235aa4[header[_0x56dcb9(0x222)](yMetric)]);})[_0x4ef4f7(0x230)]('r',0x8)[_0x4ef4f7(0x2c2)](_0x4ef4f7(0x255),function(_0xf29e9a){var _0x2b1645=_0x4ef4f7;if(clickedCircles['includes'](_0xf29e9a[0x1]))return getLeagueColor(_0xf29e9a[0x2]);return _0x2b1645(0x2c8);})[_0x4ef4f7(0x2c2)](_0x4ef4f7(0x20e),function(_0x2b906b){var _0x3d2560=_0x4ef4f7;return clickedCircles[_0x3d2560(0x1e0)](_0x2b906b[0x1])?'#000':_0x3d2560(0x212);})['style'](_0x4ef4f7(0x2cc),function(_0x457442){var _0x3fda29=_0x4ef4f7;return clickedCircles[_0x3fda29(0x1e0)](_0x457442[0x1])?0x2:0x0;})[_0x4ef4f7(0x2c2)](_0x4ef4f7(0x24d),_0x4ef4f7(0x1e1))['on'](_0x4ef4f7(0x2b1),function(_0x2c4740){var _0xd6ee40=_0x4ef4f7;d3[_0xd6ee40(0x2b9)](this)['transition']()[_0xd6ee40(0x1e9)](0xc8)['attr']('r',0xa)[_0xd6ee40(0x2c2)](_0xd6ee40(0x255),getLeagueColor(_0x2c4740[0x2])),tooltip[_0xd6ee40(0x28b)]()['duration'](0xc8)['style'](_0xd6ee40(0x27d),0.9);const _0x4500c1=_0xd6ee40(0x264)+xMetric['toLowerCase']()[_0xd6ee40(0x278)](/ /g,'-')[_0xd6ee40(0x278)](/%/g,_0xd6ee40(0x27f)),_0x4c5557=_0xd6ee40(0x264)+yMetric['toLowerCase']()[_0xd6ee40(0x278)](/ /g,'-')[_0xd6ee40(0x278)](/%/g,_0xd6ee40(0x27f)),_0x89cbe1=getTranslation(_0x4500c1,xMetric),_0x131dd6=getTranslation(_0x4c5557,yMetric);tooltip[_0xd6ee40(0x276)](_0xd6ee40(0x23f)+_0x2c4740[0x1]+_0xd6ee40(0x1f8)+_0x89cbe1+':\x20'+_0x2c4740[header[_0xd6ee40(0x222)](xMetric)]['toFixed'](0x2)+_0xd6ee40(0x2a7)+_0x131dd6+':\x20'+_0x2c4740[header[_0xd6ee40(0x222)](yMetric)][_0xd6ee40(0x288)](0x2));const _0x3abbce=tooltip[_0xd6ee40(0x2ac)]();if(_0x3abbce){const _0x4e25b7=_0x3abbce[_0xd6ee40(0x1f0)](),_0x36eb7b=window[_0xd6ee40(0x26a)],_0x24e0ed=window[_0xd6ee40(0x20a)];let _0x9d5738=d3[_0xd6ee40(0x2c3)][_0xd6ee40(0x281)]+0xa,_0x536a36=d3['event']['pageY']-0x1c;_0x9d5738+_0x4e25b7['width']>_0x36eb7b-0xa&&(_0x9d5738=d3[_0xd6ee40(0x2c3)][_0xd6ee40(0x281)]-_0x4e25b7['width']-0xa),_0x536a36+_0x4e25b7[_0xd6ee40(0x1e3)]>_0x24e0ed-0xa&&(_0x536a36=d3[_0xd6ee40(0x2c3)][_0xd6ee40(0x2a8)]-_0x4e25b7[_0xd6ee40(0x1e3)]-0xa),_0x9d5738=Math['max'](0xa,_0x9d5738),_0x536a36=Math[_0xd6ee40(0x251)](0xa,_0x536a36),tooltip[_0xd6ee40(0x2c2)]('left',_0x9d5738+'px')[_0xd6ee40(0x2c2)](_0xd6ee40(0x1f5),_0x536a36+'px');}window[_0xd6ee40(0x26a)]<=0x300&&setTimeout(function(){var _0x1f8dfc=_0xd6ee40;tooltip['transition']()[_0x1f8dfc(0x1e9)](0xc8)[_0x1f8dfc(0x2c2)]('opacity',0x0);},0x3e8);})['on'](_0x4ef4f7(0x25b),function(_0x52573c){var _0x4c497b=_0x4ef4f7;window[_0x4c497b(0x26a)]>0x300&&tooltip[_0x4c497b(0x28b)]()[_0x4c497b(0x1e9)](0x1f4)[_0x4c497b(0x2c2)]('opacity',0x0);var _0xcc00b9=clickedCircles[_0x4c497b(0x1e0)](_0x52573c[0x1]);d3[_0x4c497b(0x2b9)](this)[_0x4c497b(0x28b)]()[_0x4c497b(0x1e9)](0xc8)['attr']('r',0x8)[_0x4c497b(0x2c2)]('fill',function(){var _0x5b9b17=_0x4c497b;return _0xcc00b9?getLeagueColor(_0x52573c[0x2]):_0x5b9b17(0x2c8);});})['on'](_0x4ef4f7(0x290),function(_0x3a1520){var _0x446120=_0x4ef4f7,_0x9bc53e=d3[_0x446120(0x2b9)](this)[_0x446120(0x20d)](_0x446120(0x265));_0x9bc53e&&resetSearch();var _0x451118=clickedCircles[_0x446120(0x222)](_0x3a1520[0x1]);_0x451118===-0x1?(clickedCircles['push'](_0x3a1520[0x1]),d3[_0x446120(0x2b9)](this)[_0x446120(0x2c2)](_0x446120(0x255),getLeagueColor(_0x3a1520[0x2]))[_0x446120(0x2c2)](_0x446120(0x20e),'#000')[_0x446120(0x2c2)](_0x446120(0x2cc),0x2),addTeamLabel(_0x3a1520)):(clickedCircles[_0x446120(0x2af)](_0x451118,0x1),d3[_0x446120(0x2b9)](this)[_0x446120(0x2c2)](_0x446120(0x255),_0x446120(0x2c8))[_0x446120(0x2c2)](_0x446120(0x20e),_0x446120(0x212)),svg[_0x446120(0x260)](_0x446120(0x23e)+_0x3a1520[0x1][_0x446120(0x278)](/\s+/g,'-')[_0x446120(0x2b5)]())[_0x446120(0x257)]());updateSelectAllButtonText();var _0x250948=document['getElementById'](_0x446120(0x225))[_0x446120(0x29d)];updateLeagueLegend(_0x250948);}),clickedCircles[_0x4ef4f7(0x1e5)](function(_0x353e82){var _0x399a8e=_0x4ef4f7,_0x526469=filteredData[_0x399a8e(0x2a3)](function(_0x93672c){return _0x93672c[0x1]===_0x353e82;});_0x526469&&addTeamLabel(_0x526469);}),updateSelectAllButtonText(),updateLeagueLegend(_0x66a078);}function updateSelectAllButtonText(){var _0x403bfc=_0x44f82b,_0x39eedb=document[_0x403bfc(0x26e)](_0x403bfc(0x1e7)),_0x564057=document['getElementById'](_0x403bfc(0x2b7)),_0x839b30=filteredData[_0x403bfc(0x2a9)](function(_0x3567a4){var _0x3bf860=_0x403bfc;return clickedCircles[_0x3bf860(0x1e0)](_0x3567a4[0x1]);});_0x839b30?(_0x39eedb[_0x403bfc(0x298)]=_0x403bfc(0x1e2),_0x564057&&(window[_0x403bfc(0x274)]&&window[_0x403bfc(0x274)][_0x403bfc(0x1e8)]?_0x564057[_0x403bfc(0x1ff)]=window[_0x403bfc(0x274)]['tooltip'][_0x403bfc(0x21b)]||_0x403bfc(0x236):_0x564057[_0x403bfc(0x1ff)]=_0x403bfc(0x236))):(_0x39eedb[_0x403bfc(0x298)]=_0x403bfc(0x299),_0x564057&&(window['currentTranslations']&&window['currentTranslations'][_0x403bfc(0x1e8)]?_0x564057[_0x403bfc(0x1ff)]=window[_0x403bfc(0x274)][_0x403bfc(0x1e8)][_0x403bfc(0x260)]||'Select\x20all\x20teams':_0x564057[_0x403bfc(0x1ff)]=_0x403bfc(0x2cf)));}selectX['on'](_0x44f82b(0x2b3),updateChart),selectY['on'](_0x44f82b(0x2b3),updateChart);function _0xce1d(){var _0x4f2063=['scaleLinear','.xy-line-label-bg','y-metric-options','textContent','y-axis','text','span','slice','div','text.team-label','Escape','tickSize','5,3','middle','innerHeight','rgba(0,\x200,\x200,\x200.3)','font-size','classed','stroke','preventDefault','add','Teams\x20left\x20of\x20this\x20line\x20are\x20scoring\x20fewer\x20goals\x20than\x20expected.','none','each','Ligue\x201','.team-label','.chart-wrapper','anchor','ArrowUp','#000','marker#arrow-over,\x20marker#arrow-under','unselectAll','bottom','responseText','500','send','classList','14px','indexOf','xy-line-hover','showMedianLines','select-league','from','5885EeHaKN','search-bar','league-select-trigger','setAttribute','help','backgroundColor','dark-mode','open','xy-line','attr','team-label\x20','rgba(255,\x20165,\x200,\x200.7)','line','data-value','font-family','Unselect\x20all\x20teams','x-label','flex','min','left','4176634yjeWVU','querySelector','linearGradient#line-gradient','.team-label-','<strong>','start','team-label-','iconify-icon','circle','NFD','y-label','trim','keys','rgba(0,\x20128,\x200,\x200.7)','https://datamb.football/database/TEAM/teamplots.csv','metrics','Top\x205\x20Leagues','#select-x','cursor','interrupt','apply','x-metric-options','max','transform','selected','rotate(-90)','fill','transparent','remove','translate(0,','Serie\x20A','select-x','mouseout','.xy-line-label','all','legend-color','axisBottom','selectAll','Bundesliga','dispatchEvent','data-i18n','metrics.','search-match','3112250rJSqGC','nextElementSibling','call','enter','innerWidth','median-lines-tooltip','Teams\x20right\x20of\x20this\x20line\x20are\x20scoring\x20more\x20goals\x20than\x20expected.','addEventListener','getElementById','rgba(255,\x200,\x200,\x200.7)','axisLeft','935922nnqDYM','property','parentNode','currentTranslations','append','html','createElement','replace','Teams\x20below\x20this\x20line\x20are\x20scoring\x20fewer\x20goals\x20than\x20expected.','.custom-select-trigger,\x20.metric-select-trigger','marginRight','display','opacity','3UCVGop','pct','hanging','pageX','end','normalize','466020uYIiHq','width','#333','.xy-line-hover','toFixed','translate(','innerHTML','transition','ID,Player,Top\x207\x20Leagues,Goals\x20per\x2090,xG\x20per\x2090,Shots\x20on\x20target\x20per\x2090,Shots\x20on\x20target\x20%,Passes\x20completed,Pass\x20accuracy\x20%,Possession\x20%,Positional\x20attacks\x20per\x2090,Counter\x20attacks\x20per\x2090,Touches\x20in\x20the\x20box\x20per\x2090,Goals\x20conceded\x20per\x2090,SoT\x20against\x20per\x2090,Defensive\x20duels\x20per\x2090,Defensive\x20duel\x20%,Aerial\x20duels\x20per\x2090,Aerial\x20duels\x20%,Passes\x20per\x20possession,PPDA\x0a','getAttribute','rgba(255,\x20255,\x200,\x200.7)','G\x20=\x20xG\x20Line','click','.custom-select-trigger.open,\x20.metric-select-trigger.open','push','12px','split','filter','#scatter-plot','.custom-select-options,\x20.metric-select-options','className','ion-ios-circle-filled','Teams\x20above\x20this\x20line\x20are\x20scoring\x20more\x20goals\x20than\x20expected.','body','search-dimmed','value','option','.median-line','getBBox','text-anchor','right','find','key','scrollIntoView','contains','<br/>','pageY','every','.chart-container','Hide\x20median\x20lines','node','legend-item','tooltip.xg-line-below','splice','ArrowDown','mouseover','map','change','<span>','toLowerCase','Inter,\x20sans-serif','select-all-tooltip','sqrt','select','range','size','DOMContentLoaded','median-line','rgba(238,\x20130,\x20238,\x200.7)','</span><br/>','Premier\x20League','class','style','event','length','resize','stroke-dasharray','15px','rgba(70,\x20130,\x20180,\x200.7)','rgba(0,\x200,\x20255,\x200.7)','median','target','stroke-width','getComputedTextLength','clientWidth','Select\x20all\x20teams','1832946wCoJNU','domain','tooltip.xg-line-right','8px','includes','pointer','ion-ios-circle-outline','height','font-weight','forEach','querySelectorAll','select-icon','tooltip','duration','.selected','7384200GfRUEU','block','</span>','xG\x20per\x2090','Show\x20median\x20lines','getBoundingClientRect','.custom-select-option,\x20.metric-select-option','Enter','keydown','nearest','top','.xy-line-bg','temp-label','</strong><br/>','appendChild','.performance-label','Goals\x20per\x2090'];_0xce1d=function(){return _0x4f2063;};return _0xce1d();}function removeSpecialCharsAndDiacritics(_0x32b74b){var _0x18e92e=_0x44f82b;if(!_0x32b74b)return'';return _0x32b74b[_0x18e92e(0x283)](_0x18e92e(0x244))[_0x18e92e(0x278)](/[\u0300-\u036f]/g,'')['replace'](/Ø/g,'O')[_0x18e92e(0x278)](/ø/g,'o');}var searchBar=document[_0x44f82b(0x26e)](_0x44f82b(0x228));searchBar['addEventListener']('input',function(){var _0x6aae57=_0x44f82b,_0x39df9f=searchBar['value'][_0x6aae57(0x2b5)]();if(_0x39df9f===''){resetSearch();return;}var _0x5ce775=removeSpecialCharsAndDiacritics(_0x39df9f);svg[_0x6aae57(0x260)](_0x6aae57(0x243))[_0x6aae57(0x20d)](_0x6aae57(0x265),![])['style'](_0x6aae57(0x255),function(_0x307515){var _0x1e5729=_0x6aae57;return clickedCircles[_0x1e5729(0x1e0)](_0x307515[0x1])?getLeagueColor(_0x307515[0x2]):_0x1e5729(0x2c8);})[_0x6aae57(0x2c2)]('stroke',function(_0x44c89e){var _0x54c3a5=_0x6aae57;return clickedCircles['includes'](_0x44c89e[0x1])?_0x54c3a5(0x219):_0x54c3a5(0x212);})['style'](_0x6aae57(0x2cc),function(_0x2e255f){var _0x2dca3b=_0x6aae57;return clickedCircles[_0x2dca3b(0x1e0)](_0x2e255f[0x1])?0x2:0x0;})[_0x6aae57(0x2c2)](_0x6aae57(0x295),'none')['each'](function(){var _0x32e24c=_0x6aae57;d3[_0x32e24c(0x2b9)](this)[_0x32e24c(0x2c2)]('r',null);}),svg[_0x6aae57(0x260)](_0x6aae57(0x215))['classed'](_0x6aae57(0x265),![])[_0x6aae57(0x20d)]('search-dimmed',![]);var _0x1fdb8d=[];svg[_0x6aae57(0x260)](_0x6aae57(0x243))[_0x6aae57(0x295)](function(_0x334a61){var _0x235029=_0x6aae57,_0x51d67b=_0x334a61[0x1][_0x235029(0x2b5)](),_0x4592f7=removeSpecialCharsAndDiacritics(_0x51d67b),_0x1187a8=_0x51d67b[_0x235029(0x1e0)](_0x39df9f)||_0x4592f7[_0x235029(0x1e0)](_0x5ce775);return _0x1187a8&&_0x1fdb8d[_0x235029(0x292)](_0x334a61[0x1]),_0x1187a8;})['classed'](_0x6aae57(0x265),!![])[_0x6aae57(0x213)](function(){var _0x486229=_0x6aae57;this[_0x486229(0x273)]['appendChild'](this);}),_0x1fdb8d[_0x6aae57(0x2c4)]>0x0?(svg['selectAll']('.team-label')[_0x6aae57(0x20d)](_0x6aae57(0x29c),!![]),svg[_0x6aae57(0x260)]('.team-label')[_0x6aae57(0x295)](function(){var _0x449112=_0x6aae57,_0x78e2de=d3[_0x449112(0x2b9)](this)[_0x449112(0x201)]();return _0x1fdb8d[_0x449112(0x1e0)](_0x78e2de);})[_0x6aae57(0x20d)](_0x6aae57(0x265),!![])[_0x6aae57(0x20d)](_0x6aae57(0x29c),![])[_0x6aae57(0x213)](function(){var _0x4edc18=_0x6aae57;this[_0x4edc18(0x273)][_0x4edc18(0x1f9)](this);}),_0x1fdb8d[_0x6aae57(0x1e5)](function(_0x2c5f63){var _0x3d505f=_0x6aae57,_0x39f977=_0x3d505f(0x241)+_0x2c5f63[_0x3d505f(0x278)](/\s+/g,'-')[_0x3d505f(0x2b5)]();if(svg['select']('.'+_0x39f977)[_0x3d505f(0x2bb)]()===0x0){var _0xd3cd27=filteredData[_0x3d505f(0x2a3)](function(_0x47fd69){return _0x47fd69[0x1]===_0x2c5f63;});_0xd3cd27&&(addTeamLabel(_0xd3cd27),svg['select']('.'+_0x39f977)['classed']('search-match',!![]));}})):(svg[_0x6aae57(0x260)](_0x6aae57(0x215))[_0x6aae57(0x213)](function(){var _0x275bce=_0x6aae57,_0x266adc=d3['select'](this),_0x5dea61=_0x266adc[_0x275bce(0x201)]();!clickedCircles['includes'](_0x5dea61)&&_0x266adc['remove']();}),svg[_0x6aae57(0x260)](_0x6aae57(0x243))[_0x6aae57(0x2c2)](_0x6aae57(0x255),function(_0x4d18ea){return clickedCircles['includes'](_0x4d18ea[0x1])?getLeagueColor(_0x4d18ea[0x2]):'rgba(70,\x20130,\x20180,\x200.7)';})['style']('stroke',function(_0x1a7995){var _0x4e8a51=_0x6aae57;return clickedCircles[_0x4e8a51(0x1e0)](_0x1a7995[0x1])?_0x4e8a51(0x219):_0x4e8a51(0x212);})[_0x6aae57(0x2c2)](_0x6aae57(0x2cc),function(_0x1b539c){var _0x588c56=_0x6aae57;return clickedCircles[_0x588c56(0x1e0)](_0x1b539c[0x1])?0x2:0x0;}));});function resetSearch(){var _0x4206da=_0x44f82b;searchBar[_0x4206da(0x29d)]='',svg['selectAll']('circle')['classed'](_0x4206da(0x265),![])[_0x4206da(0x2c2)](_0x4206da(0x255),function(_0x1fa484){var _0x484a89=_0x4206da;return clickedCircles[_0x484a89(0x1e0)](_0x1fa484[0x1])?getLeagueColor(_0x1fa484[0x2]):_0x484a89(0x2c8);})[_0x4206da(0x2c2)](_0x4206da(0x20e),function(_0x1d74e9){var _0x1bbc31=_0x4206da;return clickedCircles[_0x1bbc31(0x1e0)](_0x1d74e9[0x1])?_0x1bbc31(0x219):_0x1bbc31(0x212);})[_0x4206da(0x2c2)]('stroke-width',function(_0x106340){return clickedCircles['includes'](_0x106340[0x1])?0x2:0x0;})[_0x4206da(0x2c2)](_0x4206da(0x295),'none')[_0x4206da(0x213)](function(){var _0x167528=_0x4206da;d3[_0x167528(0x2b9)](this)[_0x167528(0x2c2)]('r',null),d3[_0x167528(0x2b9)](this)[_0x167528(0x24e)]();}),svg[_0x4206da(0x260)]('.team-label')['classed'](_0x4206da(0x265),![])[_0x4206da(0x20d)](_0x4206da(0x29c),![])[_0x4206da(0x213)](function(){var _0x3dbf4f=_0x4206da;d3[_0x3dbf4f(0x2b9)](this)[_0x3dbf4f(0x24e)]();}),svg['selectAll'](_0x4206da(0x215))[_0x4206da(0x213)](function(){var _0x806126=_0x4206da,_0x1cfe07=d3[_0x806126(0x2b9)](this),_0x5b99ef=_0x1cfe07[_0x806126(0x201)]();!clickedCircles[_0x806126(0x1e0)](_0x5b99ef)&&_0x1cfe07['remove']();});}var toggleButton=document[_0x44f82b(0x26e)]('toggle-median-lines');toggleButton['addEventListener'](_0x44f82b(0x290),function(){var _0x2cc052=_0x44f82b;medianLinesVisible=!medianLinesVisible,updateChart();const _0x1d1995=document[_0x2cc052(0x26e)](_0x2cc052(0x26b));window[_0x2cc052(0x274)]&&window[_0x2cc052(0x274)][_0x2cc052(0x1e8)]?_0x1d1995[_0x2cc052(0x1ff)]=medianLinesVisible?window[_0x2cc052(0x274)][_0x2cc052(0x1e8)]['hideMedianLines']||_0x2cc052(0x2ab):window[_0x2cc052(0x274)][_0x2cc052(0x1e8)][_0x2cc052(0x224)]||_0x2cc052(0x1ef):_0x1d1995[_0x2cc052(0x1ff)]=medianLinesVisible?'Hide\x20median\x20lines':_0x2cc052(0x1ef);});function selectAllCircles(){var _0x536d6d=_0x44f82b,_0x4c63ae=filteredData['every'](function(_0x53c91c){var _0x295725=_0x2044;return clickedCircles[_0x295725(0x1e0)](_0x53c91c[0x1]);});_0x4c63ae?(clickedCircles=[],svg[_0x536d6d(0x260)](_0x536d6d(0x243))[_0x536d6d(0x2c2)](_0x536d6d(0x255),_0x536d6d(0x2c8))[_0x536d6d(0x2c2)](_0x536d6d(0x20e),_0x536d6d(0x212)),svg['selectAll'](_0x536d6d(0x215))['remove']()):(svg[_0x536d6d(0x260)](_0x536d6d(0x243))[_0x536d6d(0x213)](function(_0x59975c){var _0x3dd924=_0x536d6d;!clickedCircles[_0x3dd924(0x1e0)](_0x59975c[0x1])&&(clickedCircles[_0x3dd924(0x292)](_0x59975c[0x1]),d3[_0x3dd924(0x2b9)](this)['style'](_0x3dd924(0x255),getLeagueColor(_0x59975c[0x2]))[_0x3dd924(0x2c2)](_0x3dd924(0x20e),_0x3dd924(0x219))['style'](_0x3dd924(0x2cc),0x2));}),filteredData[_0x536d6d(0x1e5)](function(_0x4b2752){addTeamLabel(_0x4b2752);}));updateSelectAllButtonText();var _0x182624=document['getElementById']('select-league')['value'];updateLeagueLegend(_0x182624);}function _0x2044(_0x191e12,_0x4f30ad){var _0xce1da4=_0xce1d();return _0x2044=function(_0x2044b3,_0x2a4b97){_0x2044b3=_0x2044b3-0x1e0;var _0x3ea870=_0xce1da4[_0x2044b3];return _0x3ea870;},_0x2044(_0x191e12,_0x4f30ad);}updateChart(),initializeCustomSelectors();function updateLeagueLegend(_0x42d2c6){var _0xf101f2=_0x44f82b,_0x15578d=document[_0xf101f2(0x26e)]('league-legend');if(_0x42d2c6!==_0xf101f2(0x25d)&&_0x42d2c6!==_0xf101f2(0x24b)){_0x15578d['style'][_0xf101f2(0x27c)]='none';return;}if(clickedCircles[_0xf101f2(0x2c4)]===0x0){_0x15578d['style'][_0xf101f2(0x27c)]=_0xf101f2(0x212);return;}var _0x2a5596=![];for(var _0x17655a=0x0;_0x17655a<filteredData[_0xf101f2(0x2c4)];_0x17655a++){if(clickedCircles[_0xf101f2(0x1e0)](filteredData[_0x17655a][0x1])){_0x2a5596=!![];break;}}if(!_0x2a5596){_0x15578d[_0xf101f2(0x2c2)][_0xf101f2(0x27c)]=_0xf101f2(0x212);return;}_0x15578d[_0xf101f2(0x2c2)]['display']=_0xf101f2(0x238),_0x15578d[_0xf101f2(0x28a)]='';var _0x10ffaf=document['createElement'](_0xf101f2(0x204));_0x10ffaf['style']['fontWeight']='bold',_0x10ffaf[_0xf101f2(0x2c2)]['marginRight']=_0xf101f2(0x2c7),_0x15578d[_0xf101f2(0x1f9)](_0x10ffaf);var _0x3849c3=[];if(_0x42d2c6===_0xf101f2(0x25d))_0x3849c3=Object[_0xf101f2(0x247)](leagueColors);else _0x42d2c6==='Top\x205\x20Leagues'&&(_0x3849c3=[_0xf101f2(0x2c0),'La\x20Liga',_0xf101f2(0x261),_0xf101f2(0x259),_0xf101f2(0x214)]);_0x3849c3[_0xf101f2(0x1e5)](function(_0x1f7b1a){var _0x5d0196=_0xf101f2,_0x614f68=document['createElement']('div');_0x614f68['className']=_0x5d0196(0x2ad);var _0x39be4c=document['createElement'](_0x5d0196(0x204));_0x39be4c[_0x5d0196(0x298)]=_0x5d0196(0x25e),_0x39be4c[_0x5d0196(0x2c2)][_0x5d0196(0x22c)]=leagueColors[_0x1f7b1a];var _0x358e07=document[_0x5d0196(0x277)](_0x5d0196(0x202));_0x358e07[_0x5d0196(0x1ff)]=_0x1f7b1a,_0x614f68[_0x5d0196(0x1f9)](_0x39be4c),_0x614f68['appendChild'](_0x358e07),_0x15578d[_0x5d0196(0x1f9)](_0x614f68);});}function addTeamLabel(_0x1b2184,_0x18e84d){var _0x27c662=_0x44f82b,_0x3e81fb=xScale(_0x1b2184[header['indexOf'](xMetric)]),_0x5ebb79=yScale(_0x1b2184[header['indexOf'](yMetric)]),_0x3c2766=_0x27c662(0x241)+_0x1b2184[0x1][_0x27c662(0x2b5)]()['replace'](/[^a-z0-9]/g,'-')[_0x27c662(0x278)](/-+/g,'-')[_0x27c662(0x278)](/^-|-$/g,'');if(svg[_0x27c662(0x2b9)]('.'+_0x3c2766)[_0x27c662(0x2bb)]()>0x0)return;var _0x2f5675=svg[_0x27c662(0x275)](_0x27c662(0x201))[_0x27c662(0x230)](_0x27c662(0x2c1),_0x27c662(0x1f7))['text'](_0x1b2184[0x1])[_0x27c662(0x2c2)](_0x27c662(0x235),_0x27c662(0x2b6))['style'](_0x27c662(0x20c),_0x27c662(0x293))[_0x27c662(0x2c2)]('opacity',0x0),_0x1db3ec=_0x2f5675['node']()[_0x27c662(0x2cd)]();_0x2f5675[_0x27c662(0x257)]();var _0x247e78=[{'dx':0x8,'dy':0x0,'anchor':_0x27c662(0x240)},{'dx':-0x8,'dy':0x0,'anchor':'end'},{'dx':0x0,'dy':-0x8,'anchor':_0x27c662(0x209)},{'dx':0x0,'dy':0x8,'anchor':_0x27c662(0x209)}],_0x1fd9df=[];svg[_0x27c662(0x260)](_0x27c662(0x205))[_0x27c662(0x213)](function(){var _0x376f47=_0x27c662,_0x17bcd5=this[_0x376f47(0x2a0)]();_0x1fd9df[_0x376f47(0x292)]({'x1':_0x17bcd5['x']-0x2,'y1':_0x17bcd5['y']-0x2,'x2':_0x17bcd5['x']+_0x17bcd5[_0x376f47(0x285)]+0x2,'y2':_0x17bcd5['y']+_0x17bcd5[_0x376f47(0x1e3)]+0x2});});var _0x4479a5=null,_0x43b6e5=0xc;if(!_0x18e84d){for(var _0x37343d=0x0;_0x37343d<_0x247e78[_0x27c662(0x2c4)];_0x37343d++){var _0x19632d=_0x247e78[_0x37343d],_0x32cb7f=_0x3e81fb+_0x19632d['dx'],_0x2faf8f=_0x5ebb79+_0x19632d['dy'],_0x170cfd={'x1':_0x19632d[_0x27c662(0x217)]==='end'?_0x32cb7f-_0x1db3ec:_0x19632d[_0x27c662(0x217)]==='middle'?_0x32cb7f-_0x1db3ec/0x2:_0x32cb7f,'y1':_0x19632d['dy']<0x0?_0x2faf8f-_0x43b6e5:_0x2faf8f,'x2':_0x19632d[_0x27c662(0x217)]==='start'?_0x32cb7f+_0x1db3ec:_0x19632d['anchor']===_0x27c662(0x209)?_0x32cb7f+_0x1db3ec/0x2:_0x32cb7f,'y2':_0x19632d['dy']<0x0?_0x2faf8f:_0x2faf8f+_0x43b6e5},_0x18c6ee=![];for(var _0x4f06fc=0x0;_0x4f06fc<_0x1fd9df[_0x27c662(0x2c4)];_0x4f06fc++){var _0x2e280d=_0x1fd9df[_0x4f06fc];if(!(_0x170cfd['x2']<_0x2e280d['x1']||_0x170cfd['x1']>_0x2e280d['x2']||_0x170cfd['y2']<_0x2e280d['y1']||_0x170cfd['y1']>_0x2e280d['y2'])){_0x18c6ee=!![];break;}}if(!_0x18c6ee){_0x4479a5=_0x19632d;break;}}if(!_0x4479a5){var _0x3f9aef=0x32,_0x4f253b=0x0;_0x1fd9df[_0x27c662(0x1e5)](function(_0x362a03){var _0x13b5eb=_0x27c662,_0x18b44b=(_0x362a03['x1']+_0x362a03['x2'])/0x2,_0x5ba79d=(_0x362a03['y1']+_0x362a03['y2'])/0x2,_0x2af3e5=Math[_0x13b5eb(0x2b8)](Math['pow'](_0x18b44b-_0x3e81fb,0x2)+Math['pow'](_0x5ba79d-_0x5ebb79,0x2));_0x2af3e5<_0x3f9aef&&_0x4f253b++;});if(_0x4f253b>0x3)return;}}!_0x4479a5&&(_0x4479a5=_0x247e78[0x0]);var _0x9586f2=svg[_0x27c662(0x275)](_0x27c662(0x201))[_0x27c662(0x230)](_0x27c662(0x2c1),_0x27c662(0x231)+_0x3c2766)[_0x27c662(0x230)]('x',_0x3e81fb+_0x4479a5['dx'])[_0x27c662(0x230)]('y',_0x5ebb79+_0x4479a5['dy'])[_0x27c662(0x230)](_0x27c662(0x2a1),_0x4479a5[_0x27c662(0x217)])[_0x27c662(0x230)]('dominant-baseline',_0x4479a5['dy']<0x0?'auto':_0x27c662(0x280))[_0x27c662(0x201)](_0x1b2184[0x1])['style'](_0x27c662(0x235),_0x27c662(0x2b6))['style']('font-size',_0x27c662(0x293))[_0x27c662(0x2c2)](_0x27c662(0x1e4),_0x27c662(0x21e))[_0x27c662(0x2c2)]('fill',_0x27c662(0x286));_0x18e84d&&_0x9586f2[_0x27c662(0x20d)](_0x27c662(0x265),!![]);var _0x5dd501=_0x9586f2[_0x27c662(0x2ac)]()[_0x27c662(0x2a0)]();_0x1fd9df[_0x27c662(0x292)]({'x1':_0x5dd501['x']-0x2,'y1':_0x5dd501['y']-0x2,'x2':_0x5dd501['x']+_0x5dd501[_0x27c662(0x285)]+0x2,'y2':_0x5dd501['y']+_0x5dd501[_0x27c662(0x1e3)]+0x2});}document[_0x44f82b(0x26d)](_0x44f82b(0x2bc),function(){var _0x994ea0=_0x44f82b;const _0x49e62b=document[_0x994ea0(0x26e)]('median-lines-tooltip');_0x49e62b[_0x994ea0(0x1ff)]=medianLinesVisible?_0x994ea0(0x2ab):_0x994ea0(0x1ef);});
    </script>
  <script>

        // Global translation helper function
        function getTranslation(key, defaultText) {
            // Split the key into parts (e.g., "tooltip.xg-line-title" -> ["tooltip", "xg-line-title"])
            const keys = key.split('.');
            
            // Try to find the translation in the current language
            try {
                let currentTranslations = window.currentTranslations || {};
                for (const k of keys) {
                    if (currentTranslations && currentTranslations[k]) {
                        currentTranslations = currentTranslations[k];
                    } else {
                        return defaultText;
                    }
                }
                return currentTranslations;
            } catch (e) {
                return defaultText;
            }
        }
        
  
  function getPreferredLanguage() {
    // PRIORITY 1: Check URL parameter first
    const urlParams = new URLSearchParams(window.location.search);
    const langParam = urlParams.get('lang');
    if (langParam) {
      return langParam;
    }
    // PRIORITY 2: Check localStorage
    const storedLang = localStorage.getItem('preferredLanguage');
    if (storedLang) {
      return storedLang;
    }
    // PRIORITY 3: Use browser language
    return getBrowserLanguage() || 'en';
  }

  function getBrowserLanguage() {
    return navigator.language.slice(0, 2);
  }

  function applyLanguage(language) {
    console.log(language);

    if (language === 'en') {
      return;
    }

    
    fetch(`locales/${language}.json`)
      .then(response => {
        // Don't throw an error, just return null if response is not OK
        return response.ok ? response.json() : null;
      })
      .then(translations => {
        // Only proceed if translations exist
        if (translations) {
            window.currentTranslations = translations;
          document.querySelectorAll('[data-i18n]').forEach(element => {
            const keys = element.getAttribute('data-i18n').split('.');
            let value = translations;
            for (const key of keys) {
              if (value === undefined || value === null) break;
              value = value[key];
            }
            if (value) {
              if (element.tagName === 'INPUT') {
              element.setAttribute('placeholder', value);
          } else if (value.includes('<')) {
              element.innerHTML = value;
          } else {
              element.textContent = value;
          }          }
          });
        }
      })
      .catch(() => {
        // Completely empty catch block to silently ignore any errors
      });
  }
  
  const preferredLanguage = getPreferredLanguage();
  applyLanguage(preferredLanguage);
  

function toggleDarkMode() {
            const body = document.querySelector("body");
            body.classList.toggle("dark-mode");
            
            const isDarkMode = body.classList.contains("dark-mode");
            localStorage.setItem("darkMode", isDarkMode);
            
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            const storedDarkMode = localStorage.getItem("darkMode");
            
            if (storedDarkMode === "true") {
                const body = document.querySelector("body");
                body.classList.add("dark-mode");
            }
            
 
        });

        function takeScreenshot() {
            const chartContainer = document.querySelector('.chart-container');
            const isDarkMode = document.body.classList.contains('dark-mode');
            
            html2canvas(chartContainer, {
                scale: 2, // Higher quality
                backgroundColor: isDarkMode ? '#2c2c2c' : '#FFFFFF',
                allowTaint: true,
                useCORS: true,
                logging: false
            }).then(function(renderedCanvas) {
                const finalCanvas = document.createElement('canvas');
                finalCanvas.width = renderedCanvas.width;
                finalCanvas.height = renderedCanvas.height;
                const finalCtx = finalCanvas.getContext('2d');
                finalCtx.drawImage(renderedCanvas, 0, 0);
                
                // Load the watermark
                const watermarkImg = new Image();
                watermarkImg.crossOrigin = "Anonymous";
                
                watermarkImg.onload = function() {
                    const watermarkWidth = finalCanvas.width * 0.3;
                    const watermarkHeight = (watermarkWidth / watermarkImg.width) * watermarkImg.height;
                    
                    const x = (finalCanvas.width - watermarkWidth) / 2;
                    const y = (finalCanvas.height - watermarkHeight) / 2;
                    
                    finalCtx.save();
                    finalCtx.globalAlpha = 0.04;
                    finalCtx.drawImage(watermarkImg, x, y, watermarkWidth, watermarkHeight);
                    finalCtx.restore();
                    
                    const dataURL = finalCanvas.toDataURL('image/png', 1.0);
                    const link = document.createElement('a');
                    link.download = 'DataMB Screenshot.png';
                    link.href = dataURL;
                    link.click();
                };
                watermarkImg.src = 'https://datamb.football/logo.png';
            }).catch(function(error) {
            });
        }
    </script>
    
</body>
</html>
