<!DOCTYPE html>
<html>
<head>
    <meta name="robots" content="noindex">
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --background-color: #f5f7fa;
            --container-bg: #ffffff;
            --text-color: #333333;
            --border-color: #e0e0e0;
            --hover-color: #f0f0f0;
            --button-color: #3498db;
            --button-text: #ffffff;
            --header-bg: #ffffff;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .dark-mode {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --background-color: #0e0f0f;
            --container-bg: #1a1a1a;
            --text-color: #e0e0e0;
            --border-color: #333333;
            --hover-color: #252525;
            --button-color: #2980b9;
            --button-text: #ffffff;
            --header-bg: #0e0f0f;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            transition: background-color 0.3s, color 0.3s;
        }

 
        .container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 0 20px;
            box-sizing: border-box;
        }

        /* Replace plot-container with a simpler structure */
        .chart-wrapper {
            background-color: var(--container-bg);
            border-radius: 10px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 30px;
            position: relative;
            width: 100%;
        }

        .legend {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            padding: 10px;
            border-top: 1px solid var(--border-color);
            width: 100%;
        }

        .legend-item {
            display: flex;
            align-items: center;
            font-size: 12px;
        }

        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 5px;
            border: 1px solid rgba(0, 0, 0, 0.2);
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 20px;
            justify-content: center;
            align-items: center;
        }

        select, input {
            padding: 8px 12px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            background-color: var(--container-bg);
            color: var(--text-color);
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            transition: border-color 0.2s;
            height: 36px;
            box-sizing: border-box;
        }

        select:focus, input:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        /* Ensure consistent height for controls in the same row */
        select, input, .btn:not(.btn-icon), .custom-select-trigger, .metric-select-trigger {
            height: 36px;
            box-sizing: border-box;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            background-color: var(--button-color);
            color: var(--button-text);
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
            height: 36px;
            box-sizing: border-box;
        }

        .btn:hover {
            background-color: #2980b9;
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-color);
        }

        .btn-outline:hover {
            background-color: var(--hover-color);
        }

        .btn-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            padding: 0;
            border-radius: 6px;
        }

        #search-bar, #select-league {
            width: 178px;
        }

        #select-x, #select-y {
            width: 190px;
        }

        /* Add tooltip for icon buttons */
        .btn-icon .icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
        }

        .btn-icon i {
            font-size: 18px;
        }


        .chart-container {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            margin-top: 30px; /* Consistent spacing from controls */
        }

        #scatter-plot {
            width: 100%;
            height: auto; /* Height will be set dynamically */
            display: block;
            margin: 0 auto;
            max-width: 1082px;
        }

        .tooltip {
            position: absolute;
            background-color: var(--container-bg);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 10px;
            font-size: 12px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s;
            box-shadow: var(--shadow);
            z-index: 1000;
        }

        /* Custom button tooltips */
        .btn-tooltip {
            position: relative;
            display: inline-block;
        }

        .btn-tooltip .btn-tooltip-text {
            visibility: hidden;
            width: 120px;
            background-color: var(--container-bg);
            color: var(--text-color);
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1001;
            bottom: 125%;
            left: 50%;
            margin-left: -60px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 12px;
            font-weight: normal;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            pointer-events: none;
        }

        /* Hide button tooltips on mobile */
        @media (max-width: 768px) {
            .btn-tooltip .btn-tooltip-text {
                display: none;
            }
        }

        .btn-tooltip .btn-tooltip-text::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: var(--border-color) transparent transparent transparent;
        }

        .btn-tooltip:hover .btn-tooltip-text {
            visibility: visible;
            opacity: 1;
        }

        .player-name {
            font-size: 12px;
            font-weight: 500;
        }

        circle {
            cursor: pointer;
            transition: r 0.2s, fill 0.2s;
        }



        /* Add new styles for better search highlighting */
        circle.search-match {
            fill: #ff3366 !important; /* Bright pink fill */
            stroke: #ffffff;
            stroke-width: 2px;
            filter: drop-shadow(0 0 5px rgba(255, 51, 102, 0.7));
            animation: circlePulse 1.5s infinite ease-in-out;
        }

        .dark-mode circle.search-match {
            stroke: #000000;
        }

        @keyframes circlePulse {
            0% { r: 6; }
            50% { r: 9; }
            100% { r: 6; }
        }

        .team-label.search-match {
            font-weight: 700 !important;
            fill: #ff3366 !important;
            filter: drop-shadow(0 0 2px rgba(255, 255, 255, 1));
            opacity: 1 !important;
            animation: labelPulse 1.5s infinite ease-in-out;
        }

        @keyframes labelPulse {
            0% { font-size: 12px; }
            50% { font-size: 14px; }
            100% { font-size: 12px; }
        }

        .dark-mode .team-label.search-match {
            filter: drop-shadow(0 0 2px rgba(0, 0, 0, 1));
        }

        .team-label.search-dimmed {
            opacity: 0 !important;
        }

        .team-label {
            pointer-events: none;
            text-shadow: 0px 0px 2px white, 0px 0px 2px white, 0px 0px 2px white, 0px 0px 2px white;
        }

        .dark-mode .team-label {
            fill: #f5f5f5 !important;
            text-shadow: 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a;
        }

        .dark-mode-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--container-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: var(--shadow);
            z-index: 100;
            transition: background-color 0.3s;
        }

        .toggle-icon::before {
            font-family: "Ionicons";
            content: "\f467";
            font-size: 30px;
            color: var(--text-color);
        }

        .dark-mode .toggle-icon::before {
            content: "\f3b0";
            font-size: 20px;
        }

        @media (max-width: 768px) {
  
            
  .chart-wrapper {
      padding: 15px;
  }
  
  
  /* Remove fixed height for scatter plot - now handled by updateChartDimensions */
  #scatter-plot {
      min-height: 500px; /* Minimum height for mobile */
  }
  
  select, input {
      width: 100%;
  }
  
  
  /* Make text elements more readable on mobile */
  .x-label, .y-label {
      font-size: 12px;
  }
  
  /* Adjust tooltip position for mobile */
  .tooltip {
      max-width: 80%;
  }
}

        /* Styles for the diagonal reference line */
        .dark-mode .xy-line {
            stroke: #3cb371; /* Slightly different green for dark mode */
        }






  

/* Styles for flag icons in select dropdown */
#select-league option {
    display: flex;
    align-items: center;
    padding: 8px 12px;
}

#select-league iconify-icon {
    display: inline-flex;
    vertical-align: middle;
}

/* Styles for custom league selector dropdown */
.custom-select-container {
    position: relative;
    width: 172px;
}

.metric-select-container {
    position: relative;
    width: 192px;
}

.custom-select-option, .metric-select-option {
    display: flex;
    align-items: center;
    padding: 8px 16px;
    cursor: pointer;
    color: var(--text-color);
    background-color: var(--container-bg);
}

.custom-select-option iconify-icon, .metric-select-option iconify-icon {
    margin-right: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}


.custom-select-trigger, .metric-select-trigger {
    display: flex;
    align-items: center;
    padding: 0 12px;
    border: 1px solid var(--border-color);
    border-radius: 6px;
    background-color: var(--container-bg);
    color: var(--text-color);
    font-family: 'Inter', sans-serif;
    font-size: 14px;
    cursor: pointer;
    user-select: none;
    position: relative;
    line-height: 1;
}

.custom-select-trigger span, .metric-select-trigger span {
    display: inline-block;
    transform: translateY(1px);
    white-space: nowrap;
    overflow: hidden;
    max-width: calc(100% - 20px); /* Account for the icon width and margin */
    line-height: normal; /* Ensure consistent line height */
}

/* Make the league selector span 30px smaller */
#league-select-trigger span {
    max-width: calc(100% - 45px); /* 20px + 30px reduction */
}

.custom-select-trigger::after, .metric-select-trigger::after {
    content: '';
    width: 6px;
    height: 6px;
    margin-left: auto;
    border-right: 1.5px solid var(--text-color);
    border-bottom: 1.5px solid var(--text-color);
    transform: rotate(45deg) translateY(-2px);
    transition: transform 0.3s;
    opacity: 0.7;
    margin-right: 2px;
}

.custom-select-trigger.open::after, .metric-select-trigger.open::after {
    transform: rotate(-135deg) translateY(1px);
}

.custom-select-options, .metric-select-options {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background-color: var(--container-bg);
    border: 1px solid var(--border-color);
    border-radius: 6px;
    margin-top: 4px;
    max-height: 300px;
    overflow-y: auto;
    z-index: 100;
    font-size: 13px;
    display: none;
    box-shadow: var(--shadow);
}



.custom-select-option:hover, .metric-select-option:hover {
    background-color: var(--hover-color);
}



.custom-select-option.selected {
    background-color: var(--primary-color);
    color: white;
}

.metric-select-option.selected {
    background-color: var(--primary-color);
    color: white;
}


.dark-mode .custom-select-option:hover {
    background-color: var(--hover-color);
}

.dark-mode .custom-select-option.selected {
    background-color: var(--primary-color);
    color: white;
}

@media (max-width: 768px) {
    .custom-select-option {
        padding: 6px 12px;
    }
}


/* Dark mode styles for custom dropdown */
.dark-mode .custom-select-trigger,
.dark-mode .custom-select-options,
.dark-mode .metric-select-trigger,
.dark-mode .metric-select-options {
    border-color: var(--border-color);
    background-color: var(--container-bg);
    color: var(--text-color);
}

.dark-mode .custom-select-option:hover,
.dark-mode .metric-select-option:hover {
    background-color: var(--hover-color);
}

.dark-mode .custom-select-option.selected,
.dark-mode .metric-select-option.selected {
    background-color: rgba(52, 152, 219, 0.2);
}


/* Adjust flag icon alignment in the trigger */
#league-select-trigger iconify-icon {
    margin-right: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transform: translateY(-1px);
}
        /* Enhanced Dark Mode Styles */
        .dark-mode .chart-wrapper {
            background-color: var(--container-bg);
            border: 1px solid #333;
        }

        .dark-mode .btn {
            background-color: var(--button-color);
        }

        .dark-mode .btn-outline {
            background-color: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-color);
        }

        .dark-mode .btn-outline:hover {
            background-color: var(--hover-color);
            border-color: #444;
        }


        .dark-mode input, 
        .dark-mode select {
            background-color: #1a1a1a;
            color: var(--text-color);
            border-color: #333;
        }

        .dark-mode input::placeholder {
            color: #777;
        }

        .dark-mode input:focus, 
        .dark-mode select:focus {
            border-color: var(--primary-color);
            outline: none;
        }

        .dark-mode .tooltip {
            background-color: #1a1a1a;
            border-color: #333;
            color: var(--text-color);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .legend {
            border-top-color: #333;
        }

        .dark-mode .legend-item {
            color: #ccc;
        }

        .dark-mode .btn-tooltip .btn-tooltip-text {
            background-color: #1a1a1a;
            border-color: #333;
            color: #e0e0e0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .btn-tooltip .btn-tooltip-text::after {
            border-color: #333 transparent transparent transparent;
        }

        .dark-mode .team-label {
            fill: #e0e0e0 !important;
            text-shadow: 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f;
        }

        .dark-mode .x-axis path,
        .dark-mode .y-axis path,
        .dark-mode .x-axis line,
        .dark-mode .y-axis line {
            stroke: #444;
        }

        .dark-mode .x-axis text,
        .dark-mode .y-axis text {
            fill: #aaa;
        }

        .dark-mode .x-label,
        .dark-mode .y-label {
            fill: #ccc;
        }

        .dark-mode .median-line {
            stroke: rgba(255, 255, 255, 0.2) !important;
        }

        .dark-mode .xy-line {
            stroke: #2ecc71;
            opacity: 0.8;
        }

        .dark-mode .dark-mode-toggle {
            background-color: #1a1a1a;
            border: 1px solid #333;
        }

        .dark-mode .toggle-icon::before {
            color: #e0e0e0;
        }

 




        .dark-mode #search-bar::placeholder {
            color: #777;
        }

        .dark-mode circle {
            stroke-width: 1px;
        }



        .dark-mode circle.search-match {
            fill: #ff3366 !important;
            stroke: #0e0f0f;
            stroke-width: 2px;
            filter: drop-shadow(0 0 5px rgba(255, 51, 102, 0.7));
        }


        
        /* Additional dark mode styles for chart elements */
        .dark-mode .chart-container {
            background-color: var(--container-bg);
        }
        
  
        
    
        

        
        /* Fix for custom select dropdown in dark mode */
        .dark-mode .custom-select-trigger::after, 
        .dark-mode .metric-select-trigger::after {
            border-right: 1.5px solid var(--text-color);
            border-bottom: 1.5px solid var(--text-color);
        }
        
        /* Improve contrast for selected items in dark mode */
        .dark-mode .custom-select-option.selected, 
        .dark-mode .metric-select-option.selected {
            background-color: rgba(52, 152, 219, 0.3);
        }
        
        /* Improve visibility of SVG elements in dark mode */
        .dark-mode svg text {
            fill: #ccc;
        }
        
        .dark-mode .legend-color {
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        /* Improve button states in dark mode */
        .dark-mode .btn:hover {
            background-color: #3498db;
        }
        
        .dark-mode .btn-outline:active {
            background-color: #333;
        }
        
        /* Improve focus states for accessibility */
        .dark-mode input:focus,
        .dark-mode select:focus,
        .dark-mode .btn:focus {
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.5);
        }
        
        /* Fix for buttons staying focused with blue outline */
        button:focus, 
        .btn:focus, 
        select:focus, 
        input:focus {
            outline: none;
        }
        
        /* Custom focus styles for better accessibility */
        button:focus-visible, 
        .btn:focus-visible, 
        select:focus-visible, 
        input:focus-visible {
            outline: none;
            box-shadow: 0 0 0 2px var(--primary-color);
        }
        
        /* Remove focus styles when using mouse */
        button:focus:not(:focus-visible), 
        .btn:focus:not(:focus-visible), 
        select:focus:not(:focus-visible), 
        input:focus:not(:focus-visible) {
            box-shadow: none;
        }



.logo img {
  width: 50px;
  height: 50px;
}


/* Promo links styling */
.promo-links-container {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin: 15px auto 25px;
    max-width: 800px;
    flex-wrap: wrap;
    padding: 0 20px;
}

.promo-link {
    display: flex;
    align-items: center;
    padding: 10px 15px;
    background-color: var(--container-bg);
    color: var(--text-color);
    text-decoration: none;
    border-radius: 8px;
    border: 1px solid var(--border-color);
    transition: all 0.3s ease;
    box-shadow: var(--shadow);
    font-weight: 500;
    flex: 1;
    min-width: 220px;
    max-width: 350px;
    justify-content: center;
}

.promo-link iconify-icon {
    margin-right: 8px;
}

.promo-link:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.radar-link {
    border-left: 4px solid #3498db;
}

.pro-link {
    border-left: 4px solid #f39c12;
}

.dark-mode .radar-link {
    border-left: 4px solid #2980b9;
}

.dark-mode .pro-link {
    border-left: 4px solid #d35400;
}

@media (max-width: 768px) {
  
    

    
    select, input {
        width: 100%;
    }
    
    /* Make text elements more readable on mobile */
    .x-label, .y-label {
        font-size: 12px;
    }
    
    /* Adjust tooltip position for mobile */
    .tooltip {
        max-width: 80%;
    }
    
    /* Adjust promo links for mobile */
    .promo-links-container {
        flex-direction: column;
        align-items: center;
        gap: 10px;
        padding: 0 15px;
    }
}

#SFctr {
	font-size: 15px !important;
}

#SFctr .SFfrm {
    margin-top: 20px;
margin-left: 10px;
}
	    
#SFctr td {
	font-family: Arial, Helvetica, sans-serif !important;
}

body.dark-mode #SFctr td {
	color: #f3f6f4 !important;
}
	    
#SFctr input[type="text"],
#SFctr input[type="password"],
#SFctr input[type="email"] {
	border-radius: 8px;

}


.custom-select-option {
    -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            
}
        /* Disable text selection for SVG text elements */
        svg text, .legend,
        .x-label,
        .y-label,
        .team-label,
        .player-name,
        .x-axis text,
        .y-axis text {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            pointer-events: none;
        }

    </style>
</head>


<body>
    <script type="text/javascript">document.body.style.visibility="hidden";</script><div id="SFctr" data-org="31002" data-mfl="64c215764c0b6076026762a3"><div style="clear:both"></div></div><script type="text/javascript" src="https://cdn.membershipworks.com/mfl.js"></script>
    <div class="container">
        <div class="chart-wrapper">
            <div class="controls">
                <select id="select-x" style="display: none;"></select>
                <select id="select-y" style="display: none;"></select>
                <select id="select-league" style="display: none;" onchange="updateChart()">
                    <option value="all">Top 7 Leagues</option>
                    <option value="Top 5 Leagues">Top 5 Leagues</option>
                    <option value="Premier League">Premier League</option>
                    <option value="La Liga">La Liga</option>
                    <option value="Bundesliga">Bundesliga</option>
                    <option value="Serie A">Serie A</option> 
                    <option value="Ligue 1">Ligue 1</option>
                    <option value="Eredivisie">Eredivisie</option>
                    <option value="Primeira Liga">Liga Portugal</option>
                </select>
                
                <!-- Custom X metric selector -->
                <div class="metric-select-container">
                    <div class="metric-select-trigger" id="x-metric-trigger">
                        <span data-i18n="metrics.goals-per-90">Goals per 90</span>
                    </div>
                    <div class="metric-select-options" id="x-metric-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
                
                <!-- Custom Y metric selector -->
                <div class="metric-select-container">
                    <div class="metric-select-trigger" id="y-metric-trigger">
                        <span data-i18n="metrics.xg-per-90">xG per 90</span>
                    </div>
                    <div class="metric-select-options" id="y-metric-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
                
                <!-- Custom league selector with flag icons -->
                <div class="custom-select-container">
                    <div class="custom-select-trigger" id="league-select-trigger">
                        <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                        <span data-i18n="leagues.top7">Top 7 Leagues</span>
                    </div>
                    <div class="custom-select-options" id="league-select-options">
                        <div class="custom-select-option selected" data-value="all">
                            <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                            <span data-i18n="leagues.top7">Top 7 Leagues</span>
                        </div>
                        <div class="custom-select-option" data-value="Top 5 Leagues">
                            <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                            <span data-i18n="leagues.top5">Top 5 Leagues</span>
                        </div>
                        <div class="custom-select-option" data-value="Premier League">
                            <iconify-icon icon="emojione:flag-for-united-kingdom" width="18" height="18"></iconify-icon>
                            <span>Premier League</span>
                        </div>
                        <div class="custom-select-option" data-value="La Liga">
                            <iconify-icon icon="emojione:flag-for-spain" width="18" height="18"></iconify-icon>
                            <span>La Liga</span>
                        </div>
                        <div class="custom-select-option" data-value="Bundesliga">
                            <iconify-icon icon="emojione:flag-for-germany" width="18" height="18"></iconify-icon>
                            <span>Bundesliga</span>
                        </div>
                        <div class="custom-select-option" data-value="Serie A">
                            <iconify-icon icon="emojione:flag-for-italy" width="18" height="18"></iconify-icon>
                            <span>Serie A</span>
                        </div>
                        <div class="custom-select-option" data-value="Ligue 1">
                            <iconify-icon icon="emojione:flag-for-france" width="18" height="18"></iconify-icon>
                            <span>Ligue 1</span>
                        </div>
                        <div class="custom-select-option" data-value="Eredivisie">
                            <iconify-icon icon="emojione:flag-for-netherlands" width="18" height="18"></iconify-icon>
                            <span>Eredivisie</span>
                        </div>
                        <div class="custom-select-option" data-value="Primeira Liga">
                            <iconify-icon icon="emojione:flag-for-portugal" width="18" height="18"></iconify-icon>
                            <span>Liga Portugal</span>
                        </div>
                    </div>
                </div>
                
                <input type="text" id="search-bar" data-i18n="search.placeholder2" placeholder="Search team...">
                <div class="btn-tooltip">
                    <button id="toggle-median-lines" class="btn btn-outline btn-icon">
                        <div class="icon">
                            <i class="ion-stats-bars"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" id="median-lines-tooltip" data-i18n="tooltip.median-lines">Show median lines</span>
                </div>
                <div class="btn-tooltip">
                    <button class="btn btn-outline btn-icon" id="select-all-button" onclick="selectAllCircles()">
                        <div class="icon">
                            <i class="ion-ios-circle-filled" id="select-icon"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" id="select-all-tooltip" data-i18n="tooltip.select-all">Select all teams</span>
                </div>
                <div class="btn-tooltip">
                    <button class="btn btn-outline btn-icon" onclick="takeScreenshot()">
                        <div class="icon">
                            <i class="ion-camera"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" data-i18n="tooltip.screenshot">Download chart as image</span>
                </div>
            </div>
       
            <div class="chart-container">
              <svg id="scatter-plot"></svg>
            </div>

            <div class="legend" id="league-legend">
              <!-- Legend items will be added here dynamically -->
            </div>
        </div>

        <div class="promo-links-container">
            <a href="https://datamb.football/proteamradar" class="promo-link radar-link"  target="_self" rel="noopener noreferrer">
                <iconify-icon icon="mdi:radar" width="20" height="20"></iconify-icon>
                <span data-i18n="promo.radar-link">Compare Teams with Radars</span>
            </a>
        </div>
    </div>

    <div class="dark-mode-toggle" onclick="toggleDarkMode()">
        <div class="toggle-icon"></div>
    </div>



    <script>

	    var _0x5ec352=_0xd52b;(function(_0x55e2b4,_0x46968d){var _0x5ef397=_0xd52b,_0x11560c=_0x55e2b4();while(!![]){try{var _0xe18f48=parseInt(_0x5ef397(0x16a))/0x1+parseInt(_0x5ef397(0x17b))/0x2*(-parseInt(_0x5ef397(0x142))/0x3)+-parseInt(_0x5ef397(0x123))/0x4*(-parseInt(_0x5ef397(0x111))/0x5)+-parseInt(_0x5ef397(0x1f8))/0x6+-parseInt(_0x5ef397(0x152))/0x7*(parseInt(_0x5ef397(0x1d7))/0x8)+parseInt(_0x5ef397(0x1b9))/0x9*(-parseInt(_0x5ef397(0x1c1))/0xa)+parseInt(_0x5ef397(0x11f))/0xb*(parseInt(_0x5ef397(0x1de))/0xc);if(_0xe18f48===_0x46968d)break;else _0x11560c['push'](_0x11560c['shift']());}catch(_0x3fe0da){_0x11560c['push'](_0x11560c['shift']());}}}(_0x4cab,0x8fe91));let initializeCustomSelectors=function(){var _0x53f8f8=_0xd52b;const _0x40e1e6=document[_0x53f8f8(0x140)]('league-select-trigger'),_0x43a2f8=document[_0x53f8f8(0x140)](_0x53f8f8(0x151)),_0x47c5ad=document[_0x53f8f8(0x140)](_0x53f8f8(0x157));setupCustomSelect(_0x40e1e6,_0x43a2f8,_0x47c5ad);const _0xe07408=document[_0x53f8f8(0x140)]('x-metric-trigger'),_0x2e5c7b=document[_0x53f8f8(0x140)](_0x53f8f8(0x17e)),_0x8d8a4b=document[_0x53f8f8(0x140)]('select-x');populateMetricOptions(_0x2e5c7b,header[_0x53f8f8(0x143)](0x3),function(_0x11fb88,_0x2c5ebd){var _0x112e5f=_0x53f8f8;_0xe07408[_0x112e5f(0x14f)](_0x112e5f(0x1be))['textContent']===_0x2c5ebd&&_0x11fb88[_0x112e5f(0x167)][_0x112e5f(0x198)]('selected');if(_0x2c5ebd===header[0x3]){_0x11fb88[_0x112e5f(0x167)][_0x112e5f(0x198)](_0x112e5f(0x119)),_0xe07408[_0x112e5f(0x14f)](_0x112e5f(0x1be))[_0x112e5f(0x158)]=_0x2c5ebd;const _0x1b60c5=_0x2c5ebd[_0x112e5f(0x179)]()[_0x112e5f(0x1bf)](/ /g,'-')[_0x112e5f(0x1bf)](/%/g,_0x112e5f(0x133));_0xe07408['querySelector'](_0x112e5f(0x1be))['setAttribute'](_0x112e5f(0x1ca),_0x112e5f(0x19a)+_0x1b60c5);}}),setupCustomSelect(_0xe07408,_0x2e5c7b,_0x8d8a4b);const _0x1a9696=document[_0x53f8f8(0x140)](_0x53f8f8(0x114)),_0x5b240f=document[_0x53f8f8(0x140)](_0x53f8f8(0x199)),_0x206352=document[_0x53f8f8(0x140)](_0x53f8f8(0x15e));populateMetricOptions(_0x5b240f,header[_0x53f8f8(0x143)](0x3),function(_0x25e40c,_0xc389de){var _0x4e1c6d=_0x53f8f8;_0x1a9696['querySelector'](_0x4e1c6d(0x1be))[_0x4e1c6d(0x158)]===_0xc389de&&_0x25e40c[_0x4e1c6d(0x167)][_0x4e1c6d(0x198)]('selected');if(_0xc389de===header[0x4]){_0x25e40c[_0x4e1c6d(0x167)][_0x4e1c6d(0x198)](_0x4e1c6d(0x119)),_0x1a9696[_0x4e1c6d(0x14f)](_0x4e1c6d(0x1be))['textContent']=_0xc389de;const _0x44c5e2=_0xc389de[_0x4e1c6d(0x179)]()['replace'](/ /g,'-')['replace'](/%/g,_0x4e1c6d(0x133));_0x1a9696[_0x4e1c6d(0x14f)]('span')[_0x4e1c6d(0x1cf)]('data-i18n',_0x4e1c6d(0x19a)+_0x44c5e2);}}),setupCustomSelect(_0x1a9696,_0x5b240f,_0x206352);};function populateMetricOptions(_0x224802,_0x57f897,_0x4c47f7){var _0x38971a=_0xd52b;_0x224802[_0x38971a(0x16d)]='',_0x57f897[_0x38971a(0x1e9)](function(_0x5ec4fa){var _0x562dee=_0x38971a;const _0x224eb1=document[_0x562dee(0x16e)](_0x562dee(0x12e));_0x224eb1[_0x562dee(0x1ae)]=_0x562dee(0x117),_0x224eb1[_0x562dee(0x1cf)]('data-value',_0x5ec4fa);const _0x3ed085=document[_0x562dee(0x16e)]('span');_0x3ed085[_0x562dee(0x158)]=_0x5ec4fa;const _0x21856f=_0x5ec4fa['toLowerCase']()['replace'](/ /g,'-')['replace'](/%/g,'pct');_0x3ed085['setAttribute'](_0x562dee(0x1ca),'metrics.'+_0x21856f),_0x224eb1[_0x562dee(0x129)](_0x3ed085);if(_0x4c47f7)_0x4c47f7(_0x224eb1,_0x5ec4fa);_0x224802['appendChild'](_0x224eb1);});}function setupCustomSelect(_0x51d419,_0xa6164c,_0x558984){var _0x530c52=_0xd52b;_0x51d419[_0x530c52(0x124)](_0x530c52(0x19d),function(){var _0x3f4a88=_0x530c52;document[_0x3f4a88(0x132)]('.custom-select-trigger.open,\x20.metric-select-trigger.open')[_0x3f4a88(0x1e9)](function(_0x35cc0e){var _0x45bd07=_0x3f4a88;if(_0x35cc0e!==_0x51d419){_0x35cc0e['classList'][_0x45bd07(0x17a)](_0x45bd07(0x194));const _0x34612e=_0x35cc0e['nextElementSibling'];if(_0x34612e)_0x34612e[_0x45bd07(0x12c)]['display']=_0x45bd07(0x1a7);}}),_0x51d419[_0x3f4a88(0x167)][_0x3f4a88(0x1a5)](_0x3f4a88(0x194));const _0x2c98c3=_0x51d419['classList']['contains'](_0x3f4a88(0x194));_0xa6164c['style']['display']=_0x2c98c3?'block':_0x3f4a88(0x1a7);});const _0x38f2b9=_0xa6164c[_0x530c52(0x132)](_0x530c52(0x161));_0x38f2b9['forEach'](_0x19c80e=>{_0x19c80e['addEventListener']('click',function(){var _0xbd464f=_0xd52b;_0x38f2b9[_0xbd464f(0x1e9)](_0x497cc0=>_0x497cc0[_0xbd464f(0x167)][_0xbd464f(0x17a)](_0xbd464f(0x119))),this[_0xbd464f(0x167)][_0xbd464f(0x198)](_0xbd464f(0x119));const _0xf2cb8=this[_0xbd464f(0x14f)](_0xbd464f(0x1be))['textContent'],_0x4f9285=this['querySelector'](_0xbd464f(0x1be))['getAttribute'](_0xbd464f(0x1ca)),_0x3cf211=this['querySelector'](_0xbd464f(0x121));_0x51d419['innerHTML']='';if(_0x3cf211){const _0x1f8dfa=_0x3cf211[_0xbd464f(0x1ea)](!![]);_0x1f8dfa[_0xbd464f(0x12c)][_0xbd464f(0x180)]=_0xbd464f(0x160),_0x51d419[_0xbd464f(0x129)](_0x1f8dfa);}const _0x10bec4=document[_0xbd464f(0x16e)]('span');_0x10bec4[_0xbd464f(0x158)]=_0xf2cb8;_0x4f9285&&_0x10bec4['setAttribute'](_0xbd464f(0x1ca),_0x4f9285);_0x51d419[_0xbd464f(0x129)](_0x10bec4);const _0x39662f=this['getAttribute'](_0xbd464f(0x19e));_0x558984[_0xbd464f(0x131)]=_0x39662f||_0xf2cb8;const _0x3f9002=new Event(_0xbd464f(0x1ba));_0x558984[_0xbd464f(0x15d)](_0x3f9002),_0x51d419[_0xbd464f(0x167)]['remove'](_0xbd464f(0x194)),_0xa6164c['style'][_0xbd464f(0x1b4)]='none';});});let _0x54a960='',_0x31c716;document[_0x530c52(0x124)](_0x530c52(0x1a9),function(_0x1756f7){var _0x31550b=_0x530c52;if(!_0x51d419['classList'][_0x31550b(0x12b)](_0x31550b(0x194)))return;if(_0x1756f7[_0x31550b(0x128)]===_0x31550b(0x1c7)||_0x1756f7[_0x31550b(0x128)]===_0x31550b(0x17d)){_0x1756f7['preventDefault']();const _0x3d577d=Array[_0x31550b(0x13c)](_0x38f2b9),_0x31467e=_0x3d577d[_0x31550b(0x14d)](_0x5be280=>_0x5be280[_0x31550b(0x167)][_0x31550b(0x12b)]('selected'));let _0x565c42;_0x1756f7['key']===_0x31550b(0x1c7)?_0x565c42=_0x31467e<_0x3d577d[_0x31550b(0x1c2)]-0x1?_0x31467e+0x1:0x0:_0x565c42=_0x31467e>0x0?_0x31467e-0x1:_0x3d577d[_0x31550b(0x1c2)]-0x1;_0x38f2b9[_0x31550b(0x1e9)](_0x18ea2e=>_0x18ea2e[_0x31550b(0x167)][_0x31550b(0x17a)]('selected')),_0x3d577d[_0x565c42]['classList'][_0x31550b(0x198)]('selected'),_0x3d577d[_0x565c42][_0x31550b(0x1ab)]({'block':'nearest'});return;}if(_0x1756f7[_0x31550b(0x128)]===_0x31550b(0x16b)){_0x1756f7[_0x31550b(0x130)]();const _0x5cf83e=_0xa6164c[_0x31550b(0x14f)](_0x31550b(0x1d9));_0x5cf83e&&_0x5cf83e[_0x31550b(0x19d)]();return;}if(_0x1756f7[_0x31550b(0x128)]===_0x31550b(0x1b5)){_0x1756f7['preventDefault'](),_0x51d419[_0x31550b(0x167)]['remove'](_0x31550b(0x194)),_0xa6164c[_0x31550b(0x12c)]['display']=_0x31550b(0x1a7);return;}if(_0x1756f7[_0x31550b(0x128)][_0x31550b(0x1c2)]===0x1&&_0x1756f7[_0x31550b(0x128)]['match'](/[a-zA-Z0-9%]/)){clearTimeout(_0x31c716),_0x54a960+=_0x1756f7[_0x31550b(0x128)][_0x31550b(0x179)]();const _0x325a8f=Array[_0x31550b(0x13c)](_0x38f2b9)[_0x31550b(0x1fa)](_0x3fad00=>{var _0x40f90f=_0x31550b;const _0x1a8964=_0x3fad00[_0x40f90f(0x14f)](_0x40f90f(0x1be))[_0x40f90f(0x158)][_0x40f90f(0x179)]();return _0x1a8964[_0x40f90f(0x1bc)](_0x54a960);});_0x325a8f&&(_0x38f2b9['forEach'](_0x17ee21=>_0x17ee21['classList'][_0x31550b(0x17a)](_0x31550b(0x119))),_0x325a8f[_0x31550b(0x167)][_0x31550b(0x198)](_0x31550b(0x119)),_0x325a8f[_0x31550b(0x1ab)]({'block':_0x31550b(0x193)})),_0x31c716=setTimeout(()=>{_0x54a960='';},0x3e8);}});}document['addEventListener'](_0x5ec352(0x19d),function(_0x205e9d){var _0x58fe15=_0x5ec352;const _0xdaf59f=document[_0x58fe15(0x132)]('.custom-select-trigger,\x20.metric-select-trigger'),_0x1ed8ee=document[_0x58fe15(0x132)](_0x58fe15(0x11b));let _0x5bfbba=![];_0xdaf59f['forEach'](function(_0x93b4b5,_0x2691ca){var _0x2d086e=_0x58fe15;const _0x3a10da=_0x1ed8ee[_0x2691ca];_0x93b4b5&&_0x3a10da&&(_0x93b4b5[_0x2d086e(0x12b)](_0x205e9d[_0x2d086e(0x125)])||_0x3a10da[_0x2d086e(0x12b)](_0x205e9d[_0x2d086e(0x125)]))&&(_0x5bfbba=!![]);}),!_0x5bfbba&&_0xdaf59f['forEach'](function(_0x178bc5,_0x58c76d){var _0x1dc36c=_0x58fe15;_0x178bc5&&_0x1ed8ee[_0x58c76d]&&(_0x178bc5[_0x1dc36c(0x167)]['remove'](_0x1dc36c(0x194)),_0x1ed8ee[_0x58c76d][_0x1dc36c(0x12c)]['display']='none');});});function _0x4cab(){var _0x1588f6=['opacity','ArrowUp','x-metric-options','select','marginRight','tickSize','fontWeight','fill','500','height','pageY','.team-label','<strong>','hanging','size','rgba(255,\x200,\x200,\x200.7)','nice','scaleLinear','transform','axisLeft','text','split','xG\x20per\x2090','nearest','open','parentNode','mouseout','ion-ios-circle-outline','add','y-metric-options','metrics.','node','text.team-label','click','data-value','range','rgba(70,\x20130,\x20180,\x200.7)','push','resize','tooltip.xg-line-above','html','toggle','Goals\x20per\x2090','none','</strong><br/>','keydown','tooltip.xg-line-below','scrollIntoView','top','line','className','translate(0,','select-icon','x-axis','right','xy-line-hover','display','Escape','median-line','Hide\x20median\x20lines','#select-x','132102GouqTl','change','</span>','startsWith','property','span','replace','toFixed','640SJJvWO','length','unselectAll','rgba(0,\x200,\x200,\x200.3)','Teams\x20below\x20this\x20line\x20are\x20scoring\x20fewer\x20goals\x20than\x20expected.','G\x20=\x20xG\x20Line','ArrowDown','max','auto','data-i18n','</span><br/>','transition','Inter,\x20sans-serif','includes','setAttribute','.xy-line-label-bg','#scatter-plot','font-family','league-legend','rgba(0,\x20128,\x200,\x200.7)','text-anchor','getComputedTextLength','61736VnazYP','toggle-median-lines','.selected','data','#333','translate(','getBBox','228wxprzI','#2ecc71','search-match','pow','Select\x20all\x20teams','search-dimmed','#000','Show\x20median\x20lines','currentTranslations','width','Premier\x20League','forEach','cloneNode','flex','<span>','append','.median-line','12px','linearGradient#line-gradient','hideMedianLines','font-weight','extent','stroke','rgba(255,\x20255,\x200,\x200.7)','median','body','4340136idJKMB','axisBottom','find','attr','start','x-label','sqrt','trim','metrics','input','y-axis','55fhJQSx','duration','select-all-tooltip','y-metric-trigger','selectAll','min','metric-select-option','rgba(75,\x200,\x20130,\x200.7)','selected','innerWidth','.custom-select-options,\x20.metric-select-options','splice','marker#arrow-over,\x20marker#arrow-under','y-label','388069rLSVxB','Serie\x20A','iconify-icon','rgba(0,\x200,\x20255,\x200.7)','208172RFcRzn','addEventListener','target','font-size','call','key','appendChild','DOMContentLoaded','contains','style','stroke-width','div','NFD','preventDefault','value','querySelectorAll','pct','innerHeight','tooltip.xg-line-left','.xy-line-hover','14px','dark-mode','middle','showMedianLines','left','from','median-lines-tooltip','.xy-line-bg','dominant-baseline','getElementById','bottom','9YutwYX','slice','responseText','indexOf','end','.xy-line-label','filter','stroke-dasharray','team-label\x20','pageX','class','findIndex','15px','querySelector','legend-color','league-select-options','7BvbyfM','Unselect\x20all\x20teams','cursor','map','each','select-league','textContent','all','mouseover','tooltip','circle','dispatchEvent','select-y','#select-y','8px','.custom-select-option,\x20.metric-select-option','Top\x205\x20Leagues','tooltip.xg-line-right','Bundesliga','normalize','anchor','classList','domain','<br/>','1020547rzcVno','Enter','Teams\x20left\x20of\x20this\x20line\x20are\x20scoring\x20fewer\x20goals\x20than\x20expected.','innerHTML','createElement','send','event','classed','help','La\x20Liga','.chart-container','team-label-','rgba(238,\x20130,\x20238,\x200.7)','interrupt','ion-ios-circle-filled','toLowerCase','remove','2266MlWCtr'];_0x4cab=function(){return _0x1588f6;};return _0x4cab();}const xhr=new XMLHttpRequest();xhr[_0x5ec352(0x194)]('GET','https://datamb.football/database/TEAM/teamplots.csv',![]),xhr[_0x5ec352(0x16f)](null);let csvData=xhr[_0x5ec352(0x144)],extraHeaderRow='ID,Player,Top\x207\x20Leagues,Goals\x20per\x2090,xG\x20per\x2090,Shots\x20on\x20target\x20per\x2090,Shots\x20on\x20target\x20%,Passes\x20completed,Pass\x20accuracy\x20%,Possession\x20%,Positional\x20attacks\x20per\x2090,Counter\x20attacks\x20per\x2090,Touches\x20in\x20the\x20box\x20per\x2090,Goals\x20conceded\x20per\x2090,SoT\x20against\x20per\x2090,Defensive\x20duels\x20per\x2090,Defensive\x20duel\x20%,Aerial\x20duels\x20per\x2090,Aerial\x20duels\x20%,Passes\x20per\x20possession,PPDA\x0a';csvData=extraHeaderRow+csvData;var rows=csvData[_0x5ec352(0x10d)]()[_0x5ec352(0x191)]('\x0a'),header=rows[0x0][_0x5ec352(0x191)](','),data=rows['slice'](0x1)[_0x5ec352(0x155)](function(_0x24153d){var _0xbba4e0=_0x5ec352;return _0x24153d[_0xbba4e0(0x191)](',')['map'](function(_0x1d712a,_0x277a7b){return _0x277a7b>=0x3?parseFloat(_0x1d712a):_0x1d712a;});}),margin={'top':0x0,'right':0x0,'bottom':0x0,'left':0x0},width=0x43a-margin['left']-margin[_0x5ec352(0x1b2)],height=0x302-margin[_0x5ec352(0x1ac)]-margin[_0x5ec352(0x141)],leagueColors={'Premier\x20League':_0x5ec352(0x18b),'La\x20Liga':'rgba(255,\x20165,\x200,\x200.7)','Bundesliga':_0x5ec352(0x1f5),'Serie\x20A':_0x5ec352(0x1d4),'Ligue\x201':_0x5ec352(0x122),'Eredivisie':_0x5ec352(0x118),'Primeira\x20Liga':_0x5ec352(0x176)};function getLeagueColor(_0x19bac4){var _0x37bf02=_0x5ec352;return leagueColors[_0x19bac4]||_0x37bf02(0x18b);}function updateChartDimensions(){var _0x36166a=_0x5ec352,_0x2e23d1=document[_0x36166a(0x14f)]('.chart-wrapper')['clientWidth'],_0x56916b=window[_0x36166a(0x134)]*0.7,_0x31124b=0x1e,_0x7191b1=Math[_0x36166a(0x116)](0x43a,_0x2e23d1-_0x31124b*0x2),_0x124b5d=window['innerWidth']/window[_0x36166a(0x134)]<0x1;if(_0x124b5d){margin={'top':0x28,'right':0x1e,'bottom':0x3c,'left':0x4b};var _0x50840e=1.4,_0x144cd2=Math[_0x36166a(0x116)](_0x56916b,_0x7191b1*_0x50840e);_0x144cd2=Math['max'](_0x144cd2,0x1f4);}else{margin={'top':0x28,'right':0x1e,'bottom':0x3c,'left':0x4f};var _0x52eef5=0.7,_0x144cd2=_0x7191b1*_0x52eef5;}width=_0x7191b1-margin[_0x36166a(0x13b)]-margin[_0x36166a(0x1b2)],height=_0x144cd2-margin['top']-margin[_0x36166a(0x141)],d3[_0x36166a(0x17f)]('#scatter-plot')[_0x36166a(0x1fb)](_0x36166a(0x1e7),_0x7191b1)[_0x36166a(0x1fb)](_0x36166a(0x185),_0x144cd2),document[_0x36166a(0x14f)](_0x36166a(0x174))[_0x36166a(0x12c)][_0x36166a(0x185)]=_0x144cd2+'px';}window[_0x5ec352(0x124)](_0x5ec352(0x1a2),function(){updateChartDimensions(),requestAnimationFrame(function(){updateChart();});}),updateChartDimensions();function debounce(_0x2a61d8,_0x45057e){let _0x40949e;return function(){const _0x43af75=this,_0x479b84=arguments;clearTimeout(_0x40949e),_0x40949e=setTimeout(function(){_0x2a61d8['apply'](_0x43af75,_0x479b84);},_0x45057e);};}var prevWindowWidth=window[_0x5ec352(0x11a)],prevWindowHeight=window[_0x5ec352(0x134)];function _0xd52b(_0x5159bf,_0x57fae6){var _0x4cab5f=_0x4cab();return _0xd52b=function(_0xd52b7c,_0x3e8c45){_0xd52b7c=_0xd52b7c-0x10a;var _0x31913c=_0x4cab5f[_0xd52b7c];return _0x31913c;},_0xd52b(_0x5159bf,_0x57fae6);}window[_0x5ec352(0x124)]('resize',debounce(function(){var _0x433167=_0x5ec352,_0x1fa79a=prevWindowWidth/prevWindowHeight<0x1,_0x322a89=window['innerWidth']/window[_0x433167(0x134)]<0x1;prevWindowWidth=window[_0x433167(0x11a)],prevWindowHeight=window['innerHeight'],requestAnimationFrame(function(){updateChart();});},0x32));var medianLinesVisible=![],selectX=d3[_0x5ec352(0x17f)](_0x5ec352(0x1b8)),selectY=d3['select'](_0x5ec352(0x15f)),names=data['map'](function(_0x26366d){return _0x26366d[0x1];});header[_0x5ec352(0x143)](0x3)['forEach'](function(_0x1bfe00){var _0x498851=_0x5ec352;selectX[_0x498851(0x1ed)]('option')['text'](_0x1bfe00)[_0x498851(0x1fb)](_0x498851(0x131),_0x1bfe00),selectY['append']('option')[_0x498851(0x190)](_0x1bfe00)['attr']('value',_0x1bfe00);}),selectX[_0x5ec352(0x1bd)](_0x5ec352(0x131),header[0x3]),selectY[_0x5ec352(0x1bd)](_0x5ec352(0x131),header[0x4]);var svg=d3[_0x5ec352(0x17f)]('#scatter-plot')[_0x5ec352(0x1fb)](_0x5ec352(0x1e7),width+margin[_0x5ec352(0x13b)]+margin['right'])['attr'](_0x5ec352(0x185),height+margin[_0x5ec352(0x1ac)]+margin[_0x5ec352(0x141)])['append']('g')['attr'](_0x5ec352(0x18e),_0x5ec352(0x1dc)+margin[_0x5ec352(0x13b)]+','+margin[_0x5ec352(0x1ac)]+')'),xMetric=header[0x3],yMetric=header[0x4],xScale=d3['scaleLinear']()['range']([0x0,width]),yScale=d3[_0x5ec352(0x18d)]()[_0x5ec352(0x19f)]([height,0x0]),xAxis=d3[_0x5ec352(0x1f9)](xScale)[_0x5ec352(0x181)](0x0),yAxis=d3[_0x5ec352(0x18f)](yScale)[_0x5ec352(0x181)](0x0),gXAxis=svg[_0x5ec352(0x1ed)]('g')['attr'](_0x5ec352(0x14c),_0x5ec352(0x1b1))[_0x5ec352(0x1fb)]('transform','translate(0,'+height+')'),gYAxis=svg['append']('g')['attr'](_0x5ec352(0x14c),_0x5ec352(0x110)),xLabel=svg['append'](_0x5ec352(0x190))[_0x5ec352(0x1fb)](_0x5ec352(0x14c),_0x5ec352(0x10b))['attr'](_0x5ec352(0x1d5),_0x5ec352(0x146))[_0x5ec352(0x1fb)]('x',width)['attr']('y',height+0x23)[_0x5ec352(0x12c)](_0x5ec352(0x1d2),'Inter,\x20sans-serif')[_0x5ec352(0x12c)](_0x5ec352(0x126),_0x5ec352(0x137)),yLabel=svg['append'](_0x5ec352(0x190))['attr'](_0x5ec352(0x14c),_0x5ec352(0x11e))[_0x5ec352(0x1fb)](_0x5ec352(0x1d5),_0x5ec352(0x146))['attr'](_0x5ec352(0x18e),'rotate(-90)')[_0x5ec352(0x1fb)]('y',-0x35)[_0x5ec352(0x1fb)]('x',0x0)[_0x5ec352(0x12c)](_0x5ec352(0x1d2),'Inter,\x20sans-serif')['style']('font-size',_0x5ec352(0x137)),tooltip=d3[_0x5ec352(0x17f)](_0x5ec352(0x1f7))[_0x5ec352(0x1ed)](_0x5ec352(0x12e))[_0x5ec352(0x1fb)]('class','tooltip');function isMobileDevice(){var _0x40781b=_0x5ec352;return window[_0x40781b(0x11a)]<=0x300;}function positionTooltip(_0x32dd5b,_0x2fcdc5){var _0x9d54a8=_0x5ec352;const _0x1374e9=_0x2fcdc5['node']();if(!_0x1374e9)return{'left':0x0,'top':0x0};const _0x436a8c=_0x1374e9['getBoundingClientRect'](),_0x2a0495=window[_0x9d54a8(0x11a)],_0x14137b=window[_0x9d54a8(0x134)];let _0x2bdde3=_0x32dd5b[_0x9d54a8(0x14b)]+0xa,_0x293e5e=_0x32dd5b[_0x9d54a8(0x186)]-0x1c;return _0x2bdde3+_0x436a8c['width']>_0x2a0495-0xa&&(_0x2bdde3=_0x32dd5b[_0x9d54a8(0x14b)]-_0x436a8c[_0x9d54a8(0x1e7)]-0xa),_0x293e5e+_0x436a8c[_0x9d54a8(0x185)]>_0x14137b-0xa&&(_0x293e5e=_0x32dd5b[_0x9d54a8(0x186)]-_0x436a8c['height']-0xa),_0x2bdde3=Math[_0x9d54a8(0x1c8)](0xa,_0x2bdde3),_0x293e5e=Math[_0x9d54a8(0x1c8)](0xa,_0x293e5e),{'left':_0x2bdde3,'top':_0x293e5e};}var clickedCircles=[],filteredData=data,filteredNames=names,circles;function updateChart(){var _0xf19190=_0x5ec352;updateChartDimensions(),d3['select'](_0xf19190(0x1d1))[_0xf19190(0x1fb)](_0xf19190(0x1e7),width+margin[_0xf19190(0x13b)]+margin['right'])[_0xf19190(0x1fb)](_0xf19190(0x185),height+margin[_0xf19190(0x1ac)]+margin[_0xf19190(0x141)]),gXAxis[_0xf19190(0x1fb)](_0xf19190(0x18e),_0xf19190(0x1af)+height+')'),xLabel[_0xf19190(0x1fb)]('x',width)[_0xf19190(0x1fb)]('y',height+0x23),yLabel['attr']('x',0x0);const _0x1f37d4=document['body'][_0xf19190(0x167)]['contains'](_0xf19190(0x138));var _0x83cbde=document['getElementById'](_0xf19190(0x157))['value'];if(_0x83cbde==='all')filteredData=data;else _0x83cbde==='Top\x205\x20Leagues'?filteredData=data[_0xf19190(0x148)](function(_0x2978a7){var _0x1c7387=_0xf19190;return _0x2978a7[0x2]===_0x1c7387(0x1e8)||_0x2978a7[0x2]==='La\x20Liga'||_0x2978a7[0x2]===_0x1c7387(0x164)||_0x2978a7[0x2]==='Serie\x20A'||_0x2978a7[0x2]==='Ligue\x201';}):filteredData=data[_0xf19190(0x148)](function(_0x529404){return _0x529404[0x2]===_0x83cbde;});filteredNames=filteredData[_0xf19190(0x155)](function(_0x154a77){return _0x154a77[0x1];}),xMetric=selectX['property'](_0xf19190(0x131)),yMetric=selectY[_0xf19190(0x1bd)](_0xf19190(0x131)),xScale[_0xf19190(0x19f)]([0x0,width])['domain']((function(){var _0x1d9156=_0xf19190;const _0x2e4373=d3['extent'](filteredData,function(_0x3e6de1){var _0x63e2e4=_0xd52b;return+_0x3e6de1[header[_0x63e2e4(0x145)](xMetric)];}),_0x2906b2=d3[_0x1d9156(0x18d)]()[_0x1d9156(0x168)](_0x2e4373)[_0x1d9156(0x18c)](),_0x380d23=_0x2906b2[_0x1d9156(0x168)](),_0x1370b9=_0x2e4373[0x1]-_0x2e4373[0x0],_0x23bc84=_0x380d23[0x1]-_0x380d23[0x0];if(_0x23bc84/_0x1370b9>1.2){const _0x43b663=_0x1370b9*0.1;return[_0x2e4373[0x0]-_0x43b663,_0x2e4373[0x1]+_0x43b663];}else return _0x380d23;}())),yScale['range']([height,0x0])[_0xf19190(0x168)]((function(){var _0x509377=_0xf19190;const _0x2f3049=d3[_0x509377(0x1f3)](filteredData,function(_0x5d7a17){var _0xf9195=_0x509377;return+_0x5d7a17[header[_0xf9195(0x145)](yMetric)];}),_0x3a583c=d3[_0x509377(0x18d)]()[_0x509377(0x168)](_0x2f3049)[_0x509377(0x18c)](),_0x5c9c2f=_0x3a583c[_0x509377(0x168)](),_0x31ec30=_0x2f3049[0x1]-_0x2f3049[0x0],_0x1e4719=_0x5c9c2f[0x1]-_0x5c9c2f[0x0];if(_0x1e4719/_0x31ec30>1.2){const _0x4d6972=_0x31ec30*0.1;return[_0x2f3049[0x0]-_0x4d6972,_0x2f3049[0x1]+_0x4d6972];}else return _0x5c9c2f;}())),gXAxis[_0xf19190(0x127)](d3['axisBottom'](xScale)[_0xf19190(0x181)](0x0)),gYAxis[_0xf19190(0x127)](d3[_0xf19190(0x18f)](yScale)[_0xf19190(0x181)](0x0));const _0x2a8e91=_0xf19190(0x19a)+xMetric[_0xf19190(0x179)]()[_0xf19190(0x1bf)](/ /g,'-')[_0xf19190(0x1bf)](/%/g,_0xf19190(0x133)),_0x5e2e61='metrics.'+yMetric[_0xf19190(0x179)]()['replace'](/ /g,'-')[_0xf19190(0x1bf)](/%/g,'pct');xLabel['attr'](_0xf19190(0x1ca),_0x2a8e91),yLabel[_0xf19190(0x1fb)](_0xf19190(0x1ca),_0x5e2e61);if(window[_0xf19190(0x1e6)]&&window['currentTranslations']['metrics']){const _0x38d176=xMetric['toLowerCase']()[_0xf19190(0x1bf)](/ /g,'-')[_0xf19190(0x1bf)](/%/g,'pct'),_0x4b9251=yMetric[_0xf19190(0x179)]()[_0xf19190(0x1bf)](/ /g,'-')[_0xf19190(0x1bf)](/%/g,_0xf19190(0x133)),_0x2369bb=window[_0xf19190(0x1e6)][_0xf19190(0x10e)][_0x38d176],_0xded5c3=window['currentTranslations']['metrics'][_0x4b9251];xLabel[_0xf19190(0x190)](_0x2369bb||xMetric),yLabel[_0xf19190(0x190)](_0xded5c3||yMetric);}else xLabel[_0xf19190(0x190)](xMetric),yLabel[_0xf19190(0x190)](yMetric);svg[_0xf19190(0x115)](_0xf19190(0x15c))[_0xf19190(0x17a)](),svg[_0xf19190(0x115)](_0xf19190(0x187))['remove'](),svg[_0xf19190(0x115)]('.xy-line')[_0xf19190(0x17a)](),svg[_0xf19190(0x115)](_0xf19190(0x13e))[_0xf19190(0x17a)](),svg[_0xf19190(0x115)](_0xf19190(0x147))[_0xf19190(0x17a)](),svg[_0xf19190(0x115)](_0xf19190(0x1d0))[_0xf19190(0x17a)](),svg['selectAll']('.performance-label')[_0xf19190(0x17a)](),svg[_0xf19190(0x115)](_0xf19190(0x1f0))[_0xf19190(0x17a)](),svg['selectAll'](_0xf19190(0x11d))[_0xf19190(0x17a)](),svg[_0xf19190(0x115)](_0xf19190(0x136))[_0xf19190(0x17a)](),svg[_0xf19190(0x115)](_0xf19190(0x1ee))[_0xf19190(0x17a)]();if(xMetric===_0xf19190(0x192)&&yMetric===_0xf19190(0x1a6)||xMetric===_0xf19190(0x1a6)&&yMetric===_0xf19190(0x192)){var _0x25974c=null,_0x348bd3=d3['min'](filteredData,function(_0x2913ae){return _0x2913ae[header['indexOf'](xMetric)];}),_0x36ccbe=d3[_0xf19190(0x1c8)](filteredData,function(_0x99808){return _0x99808[header['indexOf'](xMetric)];}),_0x4f40cc=d3['min'](filteredData,function(_0x2970f4){var _0x12c02c=_0xf19190;return _0x2970f4[header[_0x12c02c(0x145)](yMetric)];}),_0x46e75b=d3['max'](filteredData,function(_0x2a1e16){var _0x29a2c9=_0xf19190;return _0x2a1e16[header[_0x29a2c9(0x145)](yMetric)];}),_0x4895bc=Math[_0xf19190(0x116)](_0x36ccbe,_0x46e75b),_0x131c3c=Math['max'](_0x348bd3,_0x4f40cc);svg[_0xf19190(0x1ed)](_0xf19190(0x1ad))[_0xf19190(0x1fb)](_0xf19190(0x14c),'xy-line')[_0xf19190(0x1fb)]('x1',xScale(_0x131c3c))[_0xf19190(0x1fb)]('y1',yScale(_0x131c3c))[_0xf19190(0x1fb)]('x2',xScale(_0x4895bc))['attr']('y2',yScale(_0x4895bc))[_0xf19190(0x12c)](_0xf19190(0x1f4),_0xf19190(0x1df))['style'](_0xf19190(0x12d),'2')[_0xf19190(0x12c)]('stroke-dasharray','5,3'),svg['append'](_0xf19190(0x1ad))[_0xf19190(0x1fb)](_0xf19190(0x14c),_0xf19190(0x1b3))['attr']('x1',xScale(_0x131c3c))[_0xf19190(0x1fb)]('y1',yScale(_0x131c3c))[_0xf19190(0x1fb)]('x2',xScale(_0x4895bc))[_0xf19190(0x1fb)]('y2',yScale(_0x4895bc))[_0xf19190(0x12c)](_0xf19190(0x1f4),'transparent')['style'](_0xf19190(0x12d),'15')[_0xf19190(0x12c)](_0xf19190(0x154),_0xf19190(0x172))['on'](_0xf19190(0x15a),function(){var _0x51fa3c=_0xf19190;_0x25974c&&clearTimeout(_0x25974c);var _0x373e7a=d3['event'][_0x51fa3c(0x14b)],_0x5e9606=d3[_0x51fa3c(0x170)][_0x51fa3c(0x186)];_0x25974c=setTimeout(function(){var _0x2bc510=_0x51fa3c;tooltip[_0x2bc510(0x1cc)]()[_0x2bc510(0x112)](0xc8)[_0x2bc510(0x12c)]('opacity',0.9);var _0x5f0c0b=_0x2bc510(0x188)+getTranslation('tooltip.xg-line-title',_0x2bc510(0x1c6))+_0x2bc510(0x1a8);xMetric===_0x2bc510(0x192)&&yMetric===_0x2bc510(0x1a6)?_0x5f0c0b+=_0x2bc510(0x1ec)+getTranslation(_0x2bc510(0x1a3),'Teams\x20above\x20this\x20line\x20are\x20scoring\x20more\x20goals\x20than\x20expected.')+_0x2bc510(0x1cb)+_0x2bc510(0x1ec)+getTranslation(_0x2bc510(0x1aa),_0x2bc510(0x1c5))+_0x2bc510(0x1bb):_0x5f0c0b+=_0x2bc510(0x1ec)+getTranslation(_0x2bc510(0x163),'Teams\x20right\x20of\x20this\x20line\x20are\x20scoring\x20more\x20goals\x20than\x20expected.')+'</span><br/>'+'<span>'+getTranslation(_0x2bc510(0x135),_0x2bc510(0x16c))+_0x2bc510(0x1bb),tooltip[_0x2bc510(0x1a4)](_0x5f0c0b)[_0x2bc510(0x12c)](_0x2bc510(0x13b),_0x373e7a+0xa+'px')[_0x2bc510(0x12c)]('top',_0x5e9606-0x1c+'px');},0x258);})['on'](_0xf19190(0x196),function(){var _0x4bba0f=_0xf19190;_0x25974c&&(clearTimeout(_0x25974c),_0x25974c=null),tooltip[_0x4bba0f(0x1cc)]()[_0x4bba0f(0x112)](0x1f4)[_0x4bba0f(0x12c)](_0x4bba0f(0x17c),0x0);});}if(medianLinesVisible){var _0x2e6934=d3[_0xf19190(0x1f6)](filteredData,function(_0x4c4b3a){return _0x4c4b3a[header['indexOf'](xMetric)];}),_0x1a1204=d3[_0xf19190(0x1f6)](filteredData,function(_0x5e8083){var _0x101025=_0xf19190;return _0x5e8083[header[_0x101025(0x145)](yMetric)];});svg['append'](_0xf19190(0x1ad))['attr'](_0xf19190(0x14c),_0xf19190(0x1b6))['attr']('x1',xScale(_0x2e6934))[_0xf19190(0x1fb)]('y1',0x0)[_0xf19190(0x1fb)]('x2',xScale(_0x2e6934))['attr']('y2',height)[_0xf19190(0x12c)]('stroke','rgba(0,\x200,\x200,\x200.3)')[_0xf19190(0x12c)](_0xf19190(0x149),'4'),svg[_0xf19190(0x1ed)]('line')[_0xf19190(0x1fb)](_0xf19190(0x14c),_0xf19190(0x1b6))['attr']('x1',0x0)[_0xf19190(0x1fb)]('y1',yScale(_0x1a1204))[_0xf19190(0x1fb)]('x2',width)[_0xf19190(0x1fb)]('y2',yScale(_0x1a1204))[_0xf19190(0x12c)](_0xf19190(0x1f4),_0xf19190(0x1c4))['style'](_0xf19190(0x149),'4');}circles=svg[_0xf19190(0x115)](_0xf19190(0x15c))[_0xf19190(0x1da)](filteredData)['enter']()[_0xf19190(0x1ed)]('circle')[_0xf19190(0x1fb)]('cx',function(_0x41ad62){var _0x449edd=_0xf19190;return xScale(_0x41ad62[header[_0x449edd(0x145)](xMetric)]);})[_0xf19190(0x1fb)]('cy',function(_0x11966c){var _0x68f84a=_0xf19190;return yScale(_0x11966c[header[_0x68f84a(0x145)](yMetric)]);})[_0xf19190(0x1fb)]('r',0x8)['style'](_0xf19190(0x183),function(_0x10f0b8){var _0x77a59=_0xf19190;if(clickedCircles[_0x77a59(0x1ce)](_0x10f0b8[0x1]))return getLeagueColor(_0x10f0b8[0x2]);return _0x77a59(0x1a0);})[_0xf19190(0x12c)]('stroke',function(_0x438e1e){var _0x2fad84=_0xf19190;return clickedCircles['includes'](_0x438e1e[0x1])?_0x2fad84(0x1e4):_0x2fad84(0x1a7);})[_0xf19190(0x12c)](_0xf19190(0x12d),function(_0x289c89){var _0x3312aa=_0xf19190;return clickedCircles[_0x3312aa(0x1ce)](_0x289c89[0x1])?0x2:0x0;})[_0xf19190(0x12c)](_0xf19190(0x154),'pointer')['on'](_0xf19190(0x15a),function(_0x3dc9eb){var _0x3f70de=_0xf19190;d3['select'](this)[_0x3f70de(0x1cc)]()['duration'](0xc8)[_0x3f70de(0x1fb)]('r',0xa)[_0x3f70de(0x12c)](_0x3f70de(0x183),getLeagueColor(_0x3dc9eb[0x2])),tooltip[_0x3f70de(0x1cc)]()[_0x3f70de(0x112)](0xc8)['style'](_0x3f70de(0x17c),0.9);const _0x5f2c5b=_0x3f70de(0x19a)+xMetric[_0x3f70de(0x179)]()[_0x3f70de(0x1bf)](/ /g,'-')[_0x3f70de(0x1bf)](/%/g,_0x3f70de(0x133)),_0x48b1fe=_0x3f70de(0x19a)+yMetric['toLowerCase']()['replace'](/ /g,'-')['replace'](/%/g,_0x3f70de(0x133)),_0x1c757b=getTranslation(_0x5f2c5b,xMetric),_0x18d424=getTranslation(_0x48b1fe,yMetric);tooltip[_0x3f70de(0x1a4)]('<strong>'+_0x3dc9eb[0x1]+_0x3f70de(0x1a8)+_0x1c757b+':\x20'+_0x3dc9eb[header['indexOf'](xMetric)][_0x3f70de(0x1c0)](0x2)+_0x3f70de(0x169)+_0x18d424+':\x20'+_0x3dc9eb[header[_0x3f70de(0x145)](yMetric)][_0x3f70de(0x1c0)](0x2));const _0x1c8df7=tooltip[_0x3f70de(0x19b)]();if(_0x1c8df7){const _0x5e2ad6=_0x1c8df7['getBoundingClientRect'](),_0x265005=window[_0x3f70de(0x11a)],_0x3176b9=window[_0x3f70de(0x134)];let _0x3d1d83=d3[_0x3f70de(0x170)][_0x3f70de(0x14b)]+0xa,_0x19469b=d3['event'][_0x3f70de(0x186)]-0x1c;_0x3d1d83+_0x5e2ad6['width']>_0x265005-0xa&&(_0x3d1d83=d3[_0x3f70de(0x170)]['pageX']-_0x5e2ad6[_0x3f70de(0x1e7)]-0xa),_0x19469b+_0x5e2ad6[_0x3f70de(0x185)]>_0x3176b9-0xa&&(_0x19469b=d3[_0x3f70de(0x170)][_0x3f70de(0x186)]-_0x5e2ad6[_0x3f70de(0x185)]-0xa),_0x3d1d83=Math['max'](0xa,_0x3d1d83),_0x19469b=Math[_0x3f70de(0x1c8)](0xa,_0x19469b),tooltip[_0x3f70de(0x12c)]('left',_0x3d1d83+'px')[_0x3f70de(0x12c)](_0x3f70de(0x1ac),_0x19469b+'px');}window['innerWidth']<=0x300&&setTimeout(function(){var _0x470295=_0x3f70de;tooltip[_0x470295(0x1cc)]()[_0x470295(0x112)](0xc8)['style'](_0x470295(0x17c),0x0);},0x3e8);})['on'](_0xf19190(0x196),function(_0x1fd98e){var _0x232867=_0xf19190;window['innerWidth']>0x300&&tooltip[_0x232867(0x1cc)]()['duration'](0x1f4)['style'](_0x232867(0x17c),0x0);var _0x25f2d0=clickedCircles['includes'](_0x1fd98e[0x1]);d3['select'](this)[_0x232867(0x1cc)]()['duration'](0xc8)[_0x232867(0x1fb)]('r',0x8)[_0x232867(0x12c)](_0x232867(0x183),function(){return _0x25f2d0?getLeagueColor(_0x1fd98e[0x2]):'rgba(70,\x20130,\x20180,\x200.7)';});})['on'](_0xf19190(0x19d),function(_0x95fd4c){var _0x11215e=_0xf19190,_0x2744ef=d3[_0x11215e(0x17f)](this)[_0x11215e(0x171)](_0x11215e(0x1e0));_0x2744ef&&resetSearch();var _0x48ba5b=clickedCircles[_0x11215e(0x145)](_0x95fd4c[0x1]);_0x48ba5b===-0x1?(clickedCircles['push'](_0x95fd4c[0x1]),d3[_0x11215e(0x17f)](this)[_0x11215e(0x12c)]('fill',getLeagueColor(_0x95fd4c[0x2]))['style'](_0x11215e(0x1f4),_0x11215e(0x1e4))[_0x11215e(0x12c)](_0x11215e(0x12d),0x2),addTeamLabel(_0x95fd4c)):(clickedCircles[_0x11215e(0x11c)](_0x48ba5b,0x1),d3[_0x11215e(0x17f)](this)[_0x11215e(0x12c)](_0x11215e(0x183),_0x11215e(0x1a0))[_0x11215e(0x12c)]('stroke',_0x11215e(0x1a7)),svg[_0x11215e(0x115)]('.team-label-'+_0x95fd4c[0x1][_0x11215e(0x1bf)](/\s+/g,'-')['toLowerCase']())[_0x11215e(0x17a)]());updateSelectAllButtonText();var _0x49a324=document['getElementById'](_0x11215e(0x157))['value'];updateLeagueLegend(_0x49a324);}),clickedCircles[_0xf19190(0x1e9)](function(_0xd893f0){var _0x575a86=filteredData['find'](function(_0x533153){return _0x533153[0x1]===_0xd893f0;});_0x575a86&&addTeamLabel(_0x575a86);}),updateSelectAllButtonText(),updateLeagueLegend(_0x83cbde);}function updateSelectAllButtonText(){var _0x344d3c=_0x5ec352,_0x2530ee=document['getElementById'](_0x344d3c(0x1b0)),_0x361b0c=document[_0x344d3c(0x140)](_0x344d3c(0x113)),_0x43beb3=filteredData['every'](function(_0x292c4f){return clickedCircles['includes'](_0x292c4f[0x1]);});_0x43beb3?(_0x2530ee['className']=_0x344d3c(0x197),_0x361b0c&&(window[_0x344d3c(0x1e6)]&&window[_0x344d3c(0x1e6)][_0x344d3c(0x15b)]?_0x361b0c[_0x344d3c(0x158)]=window['currentTranslations'][_0x344d3c(0x15b)][_0x344d3c(0x1c3)]||_0x344d3c(0x153):_0x361b0c[_0x344d3c(0x158)]=_0x344d3c(0x153))):(_0x2530ee[_0x344d3c(0x1ae)]=_0x344d3c(0x178),_0x361b0c&&(window[_0x344d3c(0x1e6)]&&window['currentTranslations'][_0x344d3c(0x15b)]?_0x361b0c[_0x344d3c(0x158)]=window['currentTranslations'][_0x344d3c(0x15b)][_0x344d3c(0x115)]||_0x344d3c(0x1e2):_0x361b0c[_0x344d3c(0x158)]=_0x344d3c(0x1e2)));}selectX['on'](_0x5ec352(0x1ba),updateChart),selectY['on'](_0x5ec352(0x1ba),updateChart);function removeSpecialCharsAndDiacritics(_0x59a615){var _0x429bdb=_0x5ec352;if(!_0x59a615)return'';return _0x59a615[_0x429bdb(0x165)](_0x429bdb(0x12f))['replace'](/[\u0300-\u036f]/g,'')[_0x429bdb(0x1bf)](/Ø/g,'O')[_0x429bdb(0x1bf)](/ø/g,'o');}var searchBar=document[_0x5ec352(0x140)]('search-bar');searchBar[_0x5ec352(0x124)](_0x5ec352(0x10f),function(){var _0x54430d=_0x5ec352,_0x401976=searchBar[_0x54430d(0x131)][_0x54430d(0x179)]();if(_0x401976===''){resetSearch();return;}var _0x83f1b8=removeSpecialCharsAndDiacritics(_0x401976);svg[_0x54430d(0x115)]('circle')[_0x54430d(0x171)](_0x54430d(0x1e0),![])[_0x54430d(0x12c)](_0x54430d(0x183),function(_0x3954fb){var _0x46abed=_0x54430d;return clickedCircles[_0x46abed(0x1ce)](_0x3954fb[0x1])?getLeagueColor(_0x3954fb[0x2]):_0x46abed(0x1a0);})[_0x54430d(0x12c)](_0x54430d(0x1f4),function(_0x4c32e9){var _0xb094a4=_0x54430d;return clickedCircles[_0xb094a4(0x1ce)](_0x4c32e9[0x1])?_0xb094a4(0x1e4):'none';})[_0x54430d(0x12c)]('stroke-width',function(_0x3869a8){var _0xac28f3=_0x54430d;return clickedCircles[_0xac28f3(0x1ce)](_0x3869a8[0x1])?0x2:0x0;})[_0x54430d(0x12c)](_0x54430d(0x148),_0x54430d(0x1a7))['each'](function(){var _0x53ad5b=_0x54430d;d3[_0x53ad5b(0x17f)](this)[_0x53ad5b(0x12c)]('r',null);}),svg['selectAll'](_0x54430d(0x187))[_0x54430d(0x171)](_0x54430d(0x1e0),![])[_0x54430d(0x171)](_0x54430d(0x1e3),![]);var _0x284baf=[];svg['selectAll'](_0x54430d(0x15c))[_0x54430d(0x148)](function(_0x98b563){var _0x1f12d4=_0x54430d,_0xf57321=_0x98b563[0x1][_0x1f12d4(0x179)](),_0x1ab53b=removeSpecialCharsAndDiacritics(_0xf57321),_0x3a4b81=_0xf57321['includes'](_0x401976)||_0x1ab53b[_0x1f12d4(0x1ce)](_0x83f1b8);return _0x3a4b81&&_0x284baf['push'](_0x98b563[0x1]),_0x3a4b81;})['classed']('search-match',!![])[_0x54430d(0x156)](function(){var _0x2f2d76=_0x54430d;this[_0x2f2d76(0x195)][_0x2f2d76(0x129)](this);}),_0x284baf['length']>0x0?(svg[_0x54430d(0x115)]('.team-label')['classed'](_0x54430d(0x1e3),!![]),svg[_0x54430d(0x115)](_0x54430d(0x187))[_0x54430d(0x148)](function(){var _0x74a228=_0x54430d,_0x1bf400=d3[_0x74a228(0x17f)](this)[_0x74a228(0x190)]();return _0x284baf[_0x74a228(0x1ce)](_0x1bf400);})['classed']('search-match',!![])[_0x54430d(0x171)](_0x54430d(0x1e3),![])['each'](function(){var _0x326f4c=_0x54430d;this['parentNode'][_0x326f4c(0x129)](this);}),_0x284baf[_0x54430d(0x1e9)](function(_0xb8850d){var _0x716380=_0x54430d,_0x41c317=_0x716380(0x175)+_0xb8850d[_0x716380(0x1bf)](/\s+/g,'-')[_0x716380(0x179)]();if(svg[_0x716380(0x17f)]('.'+_0x41c317)[_0x716380(0x18a)]()===0x0){var _0x1446f8=filteredData[_0x716380(0x1fa)](function(_0xea6864){return _0xea6864[0x1]===_0xb8850d;});_0x1446f8&&(addTeamLabel(_0x1446f8),svg[_0x716380(0x17f)]('.'+_0x41c317)[_0x716380(0x171)](_0x716380(0x1e0),!![]));}})):(svg[_0x54430d(0x115)](_0x54430d(0x187))[_0x54430d(0x156)](function(){var _0x2544f5=_0x54430d,_0x8de60b=d3[_0x2544f5(0x17f)](this),_0x1f9bf0=_0x8de60b[_0x2544f5(0x190)]();!clickedCircles[_0x2544f5(0x1ce)](_0x1f9bf0)&&_0x8de60b[_0x2544f5(0x17a)]();}),svg[_0x54430d(0x115)](_0x54430d(0x15c))[_0x54430d(0x12c)](_0x54430d(0x183),function(_0x34aa23){var _0x4e5180=_0x54430d;return clickedCircles[_0x4e5180(0x1ce)](_0x34aa23[0x1])?getLeagueColor(_0x34aa23[0x2]):_0x4e5180(0x1a0);})[_0x54430d(0x12c)]('stroke',function(_0x41afb4){var _0x4b2c43=_0x54430d;return clickedCircles[_0x4b2c43(0x1ce)](_0x41afb4[0x1])?_0x4b2c43(0x1e4):_0x4b2c43(0x1a7);})[_0x54430d(0x12c)]('stroke-width',function(_0x5883c1){var _0x3aab93=_0x54430d;return clickedCircles[_0x3aab93(0x1ce)](_0x5883c1[0x1])?0x2:0x0;}));});function resetSearch(){var _0x47114b=_0x5ec352;searchBar[_0x47114b(0x131)]='',svg[_0x47114b(0x115)](_0x47114b(0x15c))[_0x47114b(0x171)]('search-match',![])[_0x47114b(0x12c)]('fill',function(_0x25caaf){var _0xfce451=_0x47114b;return clickedCircles[_0xfce451(0x1ce)](_0x25caaf[0x1])?getLeagueColor(_0x25caaf[0x2]):_0xfce451(0x1a0);})[_0x47114b(0x12c)](_0x47114b(0x1f4),function(_0x19a808){var _0x272343=_0x47114b;return clickedCircles[_0x272343(0x1ce)](_0x19a808[0x1])?_0x272343(0x1e4):_0x272343(0x1a7);})[_0x47114b(0x12c)](_0x47114b(0x12d),function(_0x47e107){var _0x44a649=_0x47114b;return clickedCircles[_0x44a649(0x1ce)](_0x47e107[0x1])?0x2:0x0;})[_0x47114b(0x12c)](_0x47114b(0x148),_0x47114b(0x1a7))[_0x47114b(0x156)](function(){var _0x3101ff=_0x47114b;d3[_0x3101ff(0x17f)](this)[_0x3101ff(0x12c)]('r',null),d3[_0x3101ff(0x17f)](this)[_0x3101ff(0x177)]();}),svg[_0x47114b(0x115)](_0x47114b(0x187))[_0x47114b(0x171)](_0x47114b(0x1e0),![])[_0x47114b(0x171)](_0x47114b(0x1e3),![])[_0x47114b(0x156)](function(){var _0x17dcd1=_0x47114b;d3['select'](this)[_0x17dcd1(0x177)]();}),svg[_0x47114b(0x115)](_0x47114b(0x187))['each'](function(){var _0x5cb306=_0x47114b,_0x5be510=d3['select'](this),_0x5a3f98=_0x5be510['text']();!clickedCircles[_0x5cb306(0x1ce)](_0x5a3f98)&&_0x5be510['remove']();});}var toggleButton=document[_0x5ec352(0x140)](_0x5ec352(0x1d8));toggleButton[_0x5ec352(0x124)](_0x5ec352(0x19d),function(){var _0x4738ce=_0x5ec352;medianLinesVisible=!medianLinesVisible,updateChart();const _0x410eec=document[_0x4738ce(0x140)]('median-lines-tooltip');window[_0x4738ce(0x1e6)]&&window[_0x4738ce(0x1e6)][_0x4738ce(0x15b)]?_0x410eec['textContent']=medianLinesVisible?window[_0x4738ce(0x1e6)][_0x4738ce(0x15b)][_0x4738ce(0x1f1)]||_0x4738ce(0x1b7):window['currentTranslations'][_0x4738ce(0x15b)][_0x4738ce(0x13a)]||_0x4738ce(0x1e5):_0x410eec[_0x4738ce(0x158)]=medianLinesVisible?_0x4738ce(0x1b7):_0x4738ce(0x1e5);});function selectAllCircles(){var _0x404393=_0x5ec352,_0x2ec875=filteredData['every'](function(_0x38243b){return clickedCircles['includes'](_0x38243b[0x1]);});_0x2ec875?(clickedCircles=[],svg['selectAll'](_0x404393(0x15c))['style'](_0x404393(0x183),'rgba(70,\x20130,\x20180,\x200.7)')[_0x404393(0x12c)](_0x404393(0x1f4),_0x404393(0x1a7)),svg[_0x404393(0x115)](_0x404393(0x187))[_0x404393(0x17a)]()):(svg['selectAll'](_0x404393(0x15c))[_0x404393(0x156)](function(_0x9dd012){var _0x306d24=_0x404393;!clickedCircles[_0x306d24(0x1ce)](_0x9dd012[0x1])&&(clickedCircles[_0x306d24(0x1a1)](_0x9dd012[0x1]),d3[_0x306d24(0x17f)](this)[_0x306d24(0x12c)](_0x306d24(0x183),getLeagueColor(_0x9dd012[0x2]))[_0x306d24(0x12c)](_0x306d24(0x1f4),_0x306d24(0x1e4))['style'](_0x306d24(0x12d),0x2));}),filteredData[_0x404393(0x1e9)](function(_0x111ac5){addTeamLabel(_0x111ac5);}));updateSelectAllButtonText();var _0x2393d4=document[_0x404393(0x140)](_0x404393(0x157))[_0x404393(0x131)];updateLeagueLegend(_0x2393d4);}updateChart(),initializeCustomSelectors();function updateLeagueLegend(_0x3182e8){var _0x875b18=_0x5ec352,_0x25e0f1=document[_0x875b18(0x140)](_0x875b18(0x1d3));if(_0x3182e8!==_0x875b18(0x159)&&_0x3182e8!==_0x875b18(0x162)){_0x25e0f1[_0x875b18(0x12c)][_0x875b18(0x1b4)]='none';return;}if(clickedCircles[_0x875b18(0x1c2)]===0x0){_0x25e0f1['style'][_0x875b18(0x1b4)]=_0x875b18(0x1a7);return;}var _0x56b764=![];for(var _0x3f8e91=0x0;_0x3f8e91<filteredData[_0x875b18(0x1c2)];_0x3f8e91++){if(clickedCircles['includes'](filteredData[_0x3f8e91][0x1])){_0x56b764=!![];break;}}if(!_0x56b764){_0x25e0f1[_0x875b18(0x12c)]['display']='none';return;}_0x25e0f1[_0x875b18(0x12c)]['display']=_0x875b18(0x1eb),_0x25e0f1[_0x875b18(0x16d)]='';var _0x2a9f54=document[_0x875b18(0x16e)](_0x875b18(0x12e));_0x2a9f54['style'][_0x875b18(0x182)]='bold',_0x2a9f54[_0x875b18(0x12c)]['marginRight']=_0x875b18(0x14e),_0x25e0f1['appendChild'](_0x2a9f54);var _0x455430=[];if(_0x3182e8===_0x875b18(0x159))_0x455430=Object['keys'](leagueColors);else _0x3182e8===_0x875b18(0x162)&&(_0x455430=[_0x875b18(0x1e8),_0x875b18(0x173),_0x875b18(0x164),_0x875b18(0x120),'Ligue\x201']);_0x455430['forEach'](function(_0x280af2){var _0x5bbd4c=_0x875b18,_0x2705b0=document['createElement'](_0x5bbd4c(0x12e));_0x2705b0[_0x5bbd4c(0x1ae)]='legend-item';var _0x56c805=document[_0x5bbd4c(0x16e)]('div');_0x56c805[_0x5bbd4c(0x1ae)]=_0x5bbd4c(0x150),_0x56c805[_0x5bbd4c(0x12c)]['backgroundColor']=leagueColors[_0x280af2];var _0x139124=document['createElement'](_0x5bbd4c(0x1be));_0x139124['textContent']=_0x280af2,_0x2705b0[_0x5bbd4c(0x129)](_0x56c805),_0x2705b0['appendChild'](_0x139124),_0x25e0f1['appendChild'](_0x2705b0);});}function addTeamLabel(_0x2da657,_0x4433a2){var _0x3ac3c1=_0x5ec352,_0x59b8b0=xScale(_0x2da657[header['indexOf'](xMetric)]),_0x2ba606=yScale(_0x2da657[header[_0x3ac3c1(0x145)](yMetric)]),_0x219003=_0x3ac3c1(0x175)+_0x2da657[0x1]['toLowerCase']()[_0x3ac3c1(0x1bf)](/\s+/g,'-');if(svg[_0x3ac3c1(0x17f)]('.'+_0x219003)[_0x3ac3c1(0x18a)]()>0x0)return;var _0xbbe711=svg[_0x3ac3c1(0x1ed)]('text')[_0x3ac3c1(0x1fb)](_0x3ac3c1(0x14c),'temp-label')[_0x3ac3c1(0x190)](_0x2da657[0x1])[_0x3ac3c1(0x12c)]('font-family',_0x3ac3c1(0x1cd))['style'](_0x3ac3c1(0x126),_0x3ac3c1(0x1ef))[_0x3ac3c1(0x12c)]('opacity',0x0),_0x18fc5d=_0xbbe711[_0x3ac3c1(0x19b)]()[_0x3ac3c1(0x1d6)]();_0xbbe711[_0x3ac3c1(0x17a)]();var _0x22f682=[{'dx':0x8,'dy':0x0,'anchor':_0x3ac3c1(0x10a)},{'dx':-0x8,'dy':0x0,'anchor':'end'},{'dx':0x0,'dy':-0x8,'anchor':'middle'},{'dx':0x0,'dy':0x8,'anchor':_0x3ac3c1(0x139)}],_0x4e9207=[];svg[_0x3ac3c1(0x115)](_0x3ac3c1(0x19c))['each'](function(){var _0x2b91be=_0x3ac3c1,_0x3a5bfc=this[_0x2b91be(0x1dd)]();_0x4e9207['push']({'x1':_0x3a5bfc['x']-0x2,'y1':_0x3a5bfc['y']-0x2,'x2':_0x3a5bfc['x']+_0x3a5bfc['width']+0x2,'y2':_0x3a5bfc['y']+_0x3a5bfc[_0x2b91be(0x185)]+0x2});});var _0x3e4e54=null,_0x2337aa=0xc,_0x2713c1=width,_0x124fb6=height;if(!_0x4433a2){for(var _0x93e733=0x0;_0x93e733<_0x22f682[_0x3ac3c1(0x1c2)];_0x93e733++){var _0x33071c=_0x22f682[_0x93e733],_0x51ec40=_0x59b8b0+_0x33071c['dx'],_0x392bb1=_0x2ba606+_0x33071c['dy'],_0x40b03f={'x1':_0x33071c['anchor']===_0x3ac3c1(0x146)?_0x51ec40-_0x18fc5d:_0x33071c['anchor']===_0x3ac3c1(0x139)?_0x51ec40-_0x18fc5d/0x2:_0x51ec40,'y1':_0x33071c['dy']<0x0?_0x392bb1-_0x2337aa:_0x392bb1,'x2':_0x33071c[_0x3ac3c1(0x166)]==='start'?_0x51ec40+_0x18fc5d:_0x33071c[_0x3ac3c1(0x166)]===_0x3ac3c1(0x139)?_0x51ec40+_0x18fc5d/0x2:_0x51ec40,'y2':_0x33071c['dy']<0x0?_0x392bb1:_0x392bb1+_0x2337aa};if(_0x40b03f['x1']<0x0||_0x40b03f['x2']>_0x2713c1||_0x40b03f['y1']<0x0||_0x40b03f['y2']>_0x124fb6)continue;var _0x4bc15a=![];for(var _0x532b18=0x0;_0x532b18<_0x4e9207['length'];_0x532b18++){var _0x798a75=_0x4e9207[_0x532b18];if(!(_0x40b03f['x2']<_0x798a75['x1']||_0x40b03f['x1']>_0x798a75['x2']||_0x40b03f['y2']<_0x798a75['y1']||_0x40b03f['y1']>_0x798a75['y2'])){_0x4bc15a=!![];break;}}if(!_0x4bc15a){_0x3e4e54=_0x33071c;break;}}if(!_0x3e4e54){var _0x2a2ded=0x32,_0x3139f9=0x0;_0x4e9207[_0x3ac3c1(0x1e9)](function(_0x4baa6c){var _0x4b6c25=_0x3ac3c1,_0x5571e4=(_0x4baa6c['x1']+_0x4baa6c['x2'])/0x2,_0xee7773=(_0x4baa6c['y1']+_0x4baa6c['y2'])/0x2,_0x4cd12d=Math[_0x4b6c25(0x10c)](Math[_0x4b6c25(0x1e1)](_0x5571e4-_0x59b8b0,0x2)+Math[_0x4b6c25(0x1e1)](_0xee7773-_0x2ba606,0x2));_0x4cd12d<_0x2a2ded&&_0x3139f9++;});if(_0x3139f9>0x3)return;}}if(!_0x3e4e54){_0x3e4e54=_0x22f682[0x0];var _0x51ec40=_0x59b8b0+_0x3e4e54['dx'],_0x392bb1=_0x2ba606+_0x3e4e54['dy'],_0x40b03f={'x1':_0x3e4e54['anchor']==='end'?_0x51ec40-_0x18fc5d:_0x3e4e54[_0x3ac3c1(0x166)]===_0x3ac3c1(0x139)?_0x51ec40-_0x18fc5d/0x2:_0x51ec40,'y1':_0x3e4e54['dy']<0x0?_0x392bb1-_0x2337aa:_0x392bb1,'x2':_0x3e4e54['anchor']===_0x3ac3c1(0x10a)?_0x51ec40+_0x18fc5d:_0x3e4e54['anchor']==='middle'?_0x51ec40+_0x18fc5d/0x2:_0x51ec40,'y2':_0x3e4e54['dy']<0x0?_0x392bb1:_0x392bb1+_0x2337aa};if(_0x40b03f['x1']<0x0)_0x3e4e54=_0x22f682[0x0];else _0x40b03f['x2']>_0x2713c1&&(_0x3e4e54=_0x22f682[0x1]);if(_0x40b03f['y1']<0x0)_0x3e4e54=_0x22f682[0x3];else _0x40b03f['y2']>_0x124fb6&&(_0x3e4e54=_0x22f682[0x2]);}var _0x6de4ed=svg['append']('text')[_0x3ac3c1(0x1fb)](_0x3ac3c1(0x14c),_0x3ac3c1(0x14a)+_0x219003)[_0x3ac3c1(0x1fb)]('x',_0x59b8b0+_0x3e4e54['dx'])[_0x3ac3c1(0x1fb)]('y',_0x2ba606+_0x3e4e54['dy'])[_0x3ac3c1(0x1fb)](_0x3ac3c1(0x1d5),_0x3e4e54[_0x3ac3c1(0x166)])[_0x3ac3c1(0x1fb)](_0x3ac3c1(0x13f),_0x3e4e54['dy']<0x0?_0x3ac3c1(0x1c9):_0x3ac3c1(0x189))[_0x3ac3c1(0x190)](_0x2da657[0x1])[_0x3ac3c1(0x12c)](_0x3ac3c1(0x1d2),_0x3ac3c1(0x1cd))[_0x3ac3c1(0x12c)](_0x3ac3c1(0x126),_0x3ac3c1(0x1ef))[_0x3ac3c1(0x12c)](_0x3ac3c1(0x1f2),_0x3ac3c1(0x184))[_0x3ac3c1(0x12c)](_0x3ac3c1(0x183),_0x3ac3c1(0x1db));_0x4433a2&&_0x6de4ed[_0x3ac3c1(0x171)]('search-match',!![]);var _0x5351f3=_0x6de4ed[_0x3ac3c1(0x19b)]()[_0x3ac3c1(0x1dd)]();_0x4e9207[_0x3ac3c1(0x1a1)]({'x1':_0x5351f3['x']-0x2,'y1':_0x5351f3['y']-0x2,'x2':_0x5351f3['x']+_0x5351f3[_0x3ac3c1(0x1e7)]+0x2,'y2':_0x5351f3['y']+_0x5351f3['height']+0x2});}document[_0x5ec352(0x124)](_0x5ec352(0x12a),function(){var _0x5749ef=_0x5ec352;const _0x1d5729=document[_0x5749ef(0x140)](_0x5749ef(0x13d));_0x1d5729[_0x5749ef(0x158)]=medianLinesVisible?_0x5749ef(0x1b7):_0x5749ef(0x1e5);});
	    
    </script>
  <script>

        // Global translation helper function
        function getTranslation(key, defaultText) {
            // Split the key into parts (e.g., "tooltip.xg-line-title" -> ["tooltip", "xg-line-title"])
            const keys = key.split('.');
            
            // Try to find the translation in the current language
            try {
                let currentTranslations = window.currentTranslations || {};
                for (const k of keys) {
                    if (currentTranslations && currentTranslations[k]) {
                        currentTranslations = currentTranslations[k];
                    } else {
                        return defaultText;
                    }
                }
                return currentTranslations;
            } catch (e) {
                return defaultText;
            }
        }
        
  
  function getPreferredLanguage() {
    // PRIORITY 1: Check URL parameter first
    const urlParams = new URLSearchParams(window.location.search);
    const langParam = urlParams.get('lang');
    if (langParam) {
      return langParam;
    }
    // PRIORITY 2: Check localStorage
    const storedLang = localStorage.getItem('preferredLanguage');
    if (storedLang) {
      return storedLang;
    }
    // PRIORITY 3: Use browser language
    return getBrowserLanguage() || 'en';
  }

  function getBrowserLanguage() {
    return navigator.language.slice(0, 2);
  }

  function applyLanguage(language) {
    console.log(language);

    if (language === 'en') {
      return;
    }

    
    fetch(`locales/${language}.json`)
      .then(response => {
        // Don't throw an error, just return null if response is not OK
        return response.ok ? response.json() : null;
      })
      .then(translations => {
        // Only proceed if translations exist
        if (translations) {
            window.currentTranslations = translations;
          document.querySelectorAll('[data-i18n]').forEach(element => {
            const keys = element.getAttribute('data-i18n').split('.');
            let value = translations;
            for (const key of keys) {
              if (value === undefined || value === null) break;
              value = value[key];
            }
            if (value) {
              if (element.tagName === 'INPUT') {
              element.setAttribute('placeholder', value);
          } else if (value.includes('<')) {
              element.innerHTML = value;
          } else {
              element.textContent = value;
          }          }
          });
        }
      })
      .catch(() => {
        // Completely empty catch block to silently ignore any errors
      });
  }
  
  const preferredLanguage = getPreferredLanguage();
  applyLanguage(preferredLanguage);
  

function toggleDarkMode() {
            const body = document.querySelector("body");
            body.classList.toggle("dark-mode");
            
            const isDarkMode = body.classList.contains("dark-mode");
            localStorage.setItem("darkMode", isDarkMode);
            
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            const storedDarkMode = localStorage.getItem("darkMode");
            
            if (storedDarkMode === "true") {
                const body = document.querySelector("body");
                body.classList.add("dark-mode");
            }
            
 
        });

        function takeScreenshot() {
            const chartContainer = document.querySelector('.chart-container');
            const isDarkMode = document.body.classList.contains('dark-mode');
            
            html2canvas(chartContainer, {
                scale: 2, // Higher quality
                backgroundColor: isDarkMode ? '#2c2c2c' : '#FFFFFF',
                allowTaint: true,
                useCORS: true,
                logging: false
            }).then(function(renderedCanvas) {
                const finalCanvas = document.createElement('canvas');
                finalCanvas.width = renderedCanvas.width;
                finalCanvas.height = renderedCanvas.height;
                const finalCtx = finalCanvas.getContext('2d');
                finalCtx.drawImage(renderedCanvas, 0, 0);
                
                // Load the watermark
                const watermarkImg = new Image();
                watermarkImg.crossOrigin = "Anonymous";
                
                watermarkImg.onload = function() {
                    const watermarkWidth = finalCanvas.width * 0.3;
                    const watermarkHeight = (watermarkWidth / watermarkImg.width) * watermarkImg.height;
                    
                    const x = (finalCanvas.width - watermarkWidth) / 2;
                    const y = (finalCanvas.height - watermarkHeight) / 2;
                    
                    finalCtx.save();
                    finalCtx.globalAlpha = 0.04;
                    finalCtx.drawImage(watermarkImg, x, y, watermarkWidth, watermarkHeight);
                    finalCtx.restore();
                    
                    const dataURL = finalCanvas.toDataURL('image/png', 1.0);
                    const link = document.createElement('a');
                    link.download = 'DataMB Screenshot.png';
                    link.href = dataURL;
                    link.click();
                };
                watermarkImg.src = 'https://datamb.football/logo.png';
            }).catch(function(error) {
            });
        }
    </script>
    
</body>
</html>
