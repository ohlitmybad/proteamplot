<!DOCTYPE html>
<html>
<head>
    <meta name="robots" content="noindex">
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --background-color: #f5f7fa;
            --container-bg: #ffffff;
            --text-color: #333333;
            --border-color: #e0e0e0;
            --hover-color: #f0f0f0;
            --button-color: #3498db;
            --button-text: #ffffff;
            --header-bg: #ffffff;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .dark-mode {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --background-color: #0e0f0f;
            --container-bg: #1a1a1a;
            --text-color: #e0e0e0;
            --border-color: #333333;
            --hover-color: #252525;
            --button-color: #2980b9;
            --button-text: #ffffff;
            --header-bg: #0e0f0f;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            transition: background-color 0.3s, color 0.3s;
        }

 
        .container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 0 20px;
            box-sizing: border-box;
        }

        /* Replace plot-container with a simpler structure */
        .chart-wrapper {
            background-color: var(--container-bg);
            border-radius: 10px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 30px;
            position: relative;
            width: 100%;
        }

        .legend {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            padding: 10px;
            border-top: 1px solid var(--border-color);
            width: 100%;
        }

        .legend-item {
            display: flex;
            align-items: center;
            font-size: 12px;
        }

        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 5px;
            border: 1px solid rgba(0, 0, 0, 0.2);
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 20px;
            justify-content: center;
            align-items: center;
        }

        select, input {
            padding: 8px 12px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            background-color: var(--container-bg);
            color: var(--text-color);
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            transition: border-color 0.2s;
            height: 36px;
            box-sizing: border-box;
        }

        select:focus, input:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        /* Ensure consistent height for controls in the same row */
        select, input, .btn:not(.btn-icon), .custom-select-trigger, .metric-select-trigger {
            height: 36px;
            box-sizing: border-box;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            background-color: var(--button-color);
            color: var(--button-text);
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
            height: 36px;
            box-sizing: border-box;
        }

        .btn:hover {
            background-color: #2980b9;
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-color);
        }

        .btn-outline:hover {
            background-color: var(--hover-color);
        }

        .btn-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            padding: 0;
            border-radius: 6px;
        }

        #search-bar, #select-league {
            width: 178px;
        }

        #select-x, #select-y {
            width: 190px;
        }

        /* Add tooltip for icon buttons */
        .btn-icon .icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
        }

        .btn-icon i {
            font-size: 18px;
        }


        .chart-container {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            margin-top: 30px; /* Consistent spacing from controls */
        }

        #scatter-plot {
            width: 100%;
            height: auto; /* Height will be set dynamically */
            display: block;
            margin: 0 auto;
            max-width: 1082px;
        }

        .tooltip {
            position: absolute;
            background-color: var(--container-bg);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 10px;
            font-size: 12px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s;
            box-shadow: var(--shadow);
            z-index: 1000;
        }

        /* Custom button tooltips */
        .btn-tooltip {
            position: relative;
            display: inline-block;
        }

        .btn-tooltip .btn-tooltip-text {
            visibility: hidden;
            width: 120px;
            background-color: var(--container-bg);
            color: var(--text-color);
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1001;
            bottom: 125%;
            left: 50%;
            margin-left: -60px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 12px;
            font-weight: normal;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            pointer-events: none;
        }

        /* Hide button tooltips on mobile */
        @media (max-width: 768px) {
            .btn-tooltip .btn-tooltip-text {
                display: none;
            }
        }

        .btn-tooltip .btn-tooltip-text::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: var(--border-color) transparent transparent transparent;
        }

        .btn-tooltip:hover .btn-tooltip-text {
            visibility: visible;
            opacity: 1;
        }

        .player-name {
            font-size: 12px;
            font-weight: 500;
        }

        circle {
            cursor: pointer;
            transition: r 0.2s, fill 0.2s;
        }



        /* Add new styles for better search highlighting */
        circle.search-match {
            fill: #ff3366 !important; /* Bright pink fill */
            stroke: #ffffff;
            stroke-width: 2px;
            filter: drop-shadow(0 0 5px rgba(255, 51, 102, 0.7));
            animation: circlePulse 1.5s infinite ease-in-out;
        }

        .dark-mode circle.search-match {
            stroke: #000000;
        }

        @keyframes circlePulse {
            0% { r: 6; }
            50% { r: 9; }
            100% { r: 6; }
        }

        .team-label.search-match {
            font-weight: 700 !important;
            fill: #ff3366 !important;
            filter: drop-shadow(0 0 2px rgba(255, 255, 255, 1));
            opacity: 1 !important;
            animation: labelPulse 1.5s infinite ease-in-out;
        }

        @keyframes labelPulse {
            0% { font-size: 12px; }
            50% { font-size: 14px; }
            100% { font-size: 12px; }
        }

        .dark-mode .team-label.search-match {
            filter: drop-shadow(0 0 2px rgba(0, 0, 0, 1));
        }

        .team-label.search-dimmed {
            opacity: 0 !important;
        }

        .team-label {
            pointer-events: none;
            text-shadow: 0px 0px 2px white, 0px 0px 2px white, 0px 0px 2px white, 0px 0px 2px white;
        }

        .dark-mode .team-label {
            fill: #f5f5f5 !important;
            text-shadow: 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a;
        }

        .dark-mode-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--container-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: var(--shadow);
            z-index: 100;
            transition: background-color 0.3s;
        }

        .toggle-icon::before {
            font-family: "Ionicons";
            content: "\f467";
            font-size: 30px;
            color: var(--text-color);
        }

        .dark-mode .toggle-icon::before {
            content: "\f3b0";
            font-size: 20px;
        }

        @media (max-width: 768px) {
  
            
  .chart-wrapper {
      padding: 15px;
  }
  
  
  /* Remove fixed height for scatter plot - now handled by updateChartDimensions */
  #scatter-plot {
      min-height: 500px; /* Minimum height for mobile */
  }
  
  select, input {
      width: 100%;
  }
  
  
  /* Make text elements more readable on mobile */
  .x-label, .y-label {
      font-size: 12px;
  }
  
  /* Adjust tooltip position for mobile */
  .tooltip {
      max-width: 80%;
  }
}

        /* Styles for the diagonal reference line */
        .dark-mode .xy-line {
            stroke: #3cb371; /* Slightly different green for dark mode */
        }






  

/* Styles for flag icons in select dropdown */
#select-league option {
    display: flex;
    align-items: center;
    padding: 8px 12px;
}

#select-league iconify-icon {
    display: inline-flex;
    vertical-align: middle;
}

/* Styles for custom league selector dropdown */
.custom-select-container {
    position: relative;
    width: 172px;
}

.metric-select-container {
    position: relative;
    width: 192px;
}

.custom-select-option, .metric-select-option {
    display: flex;
    align-items: center;
    padding: 8px 16px;
    cursor: pointer;
    color: var(--text-color);
    background-color: var(--container-bg);
}

.custom-select-option iconify-icon, .metric-select-option iconify-icon {
    margin-right: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}


.custom-select-trigger, .metric-select-trigger {
    display: flex;
    align-items: center;
    padding: 0 12px;
    border: 1px solid var(--border-color);
    border-radius: 6px;
    background-color: var(--container-bg);
    color: var(--text-color);
    font-family: 'Inter', sans-serif;
    font-size: 14px;
    cursor: pointer;
    user-select: none;
    position: relative;
    line-height: 1;
}

.custom-select-trigger span, .metric-select-trigger span {
    display: inline-block;
    transform: translateY(1px);
    white-space: nowrap;
    overflow: hidden;
    max-width: calc(100% - 20px); /* Account for the icon width and margin */
    line-height: normal; /* Ensure consistent line height */
}

/* Make the league selector span 30px smaller */
#league-select-trigger span {
    max-width: calc(100% - 45px); /* 20px + 30px reduction */
}

.custom-select-trigger::after, .metric-select-trigger::after {
    content: '';
    width: 6px;
    height: 6px;
    margin-left: auto;
    border-right: 1.5px solid var(--text-color);
    border-bottom: 1.5px solid var(--text-color);
    transform: rotate(45deg) translateY(-2px);
    transition: transform 0.3s;
    opacity: 0.7;
    margin-right: 2px;
}

.custom-select-trigger.open::after, .metric-select-trigger.open::after {
    transform: rotate(-135deg) translateY(1px);
}

.custom-select-options, .metric-select-options {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background-color: var(--container-bg);
    border: 1px solid var(--border-color);
    border-radius: 6px;
    margin-top: 4px;
    max-height: 300px;
    overflow-y: auto;
    z-index: 100;
    font-size: 13px;
    display: none;
    box-shadow: var(--shadow);
}



.custom-select-option:hover, .metric-select-option:hover {
    background-color: var(--hover-color);
}



.custom-select-option.selected {
    background-color: var(--primary-color);
    color: white;
}

.metric-select-option.selected {
    background-color: var(--primary-color);
    color: white;
}


.dark-mode .custom-select-option:hover {
    background-color: var(--hover-color);
}

.dark-mode .custom-select-option.selected {
    background-color: var(--primary-color);
    color: white;
}

@media (max-width: 768px) {
    .custom-select-option {
        padding: 6px 12px;
    }
}


/* Dark mode styles for custom dropdown */
.dark-mode .custom-select-trigger,
.dark-mode .custom-select-options,
.dark-mode .metric-select-trigger,
.dark-mode .metric-select-options {
    border-color: var(--border-color);
    background-color: var(--container-bg);
    color: var(--text-color);
}

.dark-mode .custom-select-option:hover,
.dark-mode .metric-select-option:hover {
    background-color: var(--hover-color);
}

.dark-mode .custom-select-option.selected,
.dark-mode .metric-select-option.selected {
    background-color: rgba(52, 152, 219, 0.2);
}


/* Adjust flag icon alignment in the trigger */
#league-select-trigger iconify-icon {
    margin-right: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transform: translateY(-1px);
}
        /* Enhanced Dark Mode Styles */
        .dark-mode .chart-wrapper {
            background-color: var(--container-bg);
            border: 1px solid #333;
        }

        .dark-mode .btn {
            background-color: var(--button-color);
        }

        .dark-mode .btn-outline {
            background-color: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-color);
        }

        .dark-mode .btn-outline:hover {
            background-color: var(--hover-color);
            border-color: #444;
        }


        .dark-mode input, 
        .dark-mode select {
            background-color: #1a1a1a;
            color: var(--text-color);
            border-color: #333;
        }

        .dark-mode input::placeholder {
            color: #777;
        }

        .dark-mode input:focus, 
        .dark-mode select:focus {
            border-color: var(--primary-color);
            outline: none;
        }

        .dark-mode .tooltip {
            background-color: #1a1a1a;
            border-color: #333;
            color: var(--text-color);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .legend {
            border-top-color: #333;
        }

        .dark-mode .legend-item {
            color: #ccc;
        }

        .dark-mode .btn-tooltip .btn-tooltip-text {
            background-color: #1a1a1a;
            border-color: #333;
            color: #e0e0e0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .btn-tooltip .btn-tooltip-text::after {
            border-color: #333 transparent transparent transparent;
        }

        .dark-mode .team-label {
            fill: #e0e0e0 !important;
            text-shadow: 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f;
        }

        .dark-mode .x-axis path,
        .dark-mode .y-axis path,
        .dark-mode .x-axis line,
        .dark-mode .y-axis line {
            stroke: #444;
        }

        .dark-mode .x-axis text,
        .dark-mode .y-axis text {
            fill: #aaa;
        }

        .dark-mode .x-label,
        .dark-mode .y-label {
            fill: #ccc;
        }

        .dark-mode .median-line {
            stroke: rgba(255, 255, 255, 0.2) !important;
        }

        .dark-mode .xy-line {
            stroke: #2ecc71;
            opacity: 0.8;
        }

        .dark-mode .dark-mode-toggle {
            background-color: #1a1a1a;
            border: 1px solid #333;
        }

        .dark-mode .toggle-icon::before {
            color: #e0e0e0;
        }

 




        .dark-mode #search-bar::placeholder {
            color: #777;
        }

        .dark-mode circle {
            stroke-width: 1px;
        }



        .dark-mode circle.search-match {
            fill: #ff3366 !important;
            stroke: #0e0f0f;
            stroke-width: 2px;
            filter: drop-shadow(0 0 5px rgba(255, 51, 102, 0.7));
        }


        
        /* Additional dark mode styles for chart elements */
        .dark-mode .chart-container {
            background-color: var(--container-bg);
        }
        
  
        
    
        

        
        /* Fix for custom select dropdown in dark mode */
        .dark-mode .custom-select-trigger::after, 
        .dark-mode .metric-select-trigger::after {
            border-right: 1.5px solid var(--text-color);
            border-bottom: 1.5px solid var(--text-color);
        }
        
        /* Improve contrast for selected items in dark mode */
        .dark-mode .custom-select-option.selected, 
        .dark-mode .metric-select-option.selected {
            background-color: rgba(52, 152, 219, 0.3);
        }
        
        /* Improve visibility of SVG elements in dark mode */
        .dark-mode svg text {
            fill: #ccc;
        }
        
        .dark-mode .legend-color {
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        /* Improve button states in dark mode */
        .dark-mode .btn:hover {
            background-color: #3498db;
        }
        
        .dark-mode .btn-outline:active {
            background-color: #333;
        }
        
        /* Improve focus states for accessibility */
        .dark-mode input:focus,
        .dark-mode select:focus,
        .dark-mode .btn:focus {
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.5);
        }
        
        /* Fix for buttons staying focused with blue outline */
        button:focus, 
        .btn:focus, 
        select:focus, 
        input:focus {
            outline: none;
        }
        
        /* Custom focus styles for better accessibility */
        button:focus-visible, 
        .btn:focus-visible, 
        select:focus-visible, 
        input:focus-visible {
            outline: none;
            box-shadow: 0 0 0 2px var(--primary-color);
        }
        
        /* Remove focus styles when using mouse */
        button:focus:not(:focus-visible), 
        .btn:focus:not(:focus-visible), 
        select:focus:not(:focus-visible), 
        input:focus:not(:focus-visible) {
            box-shadow: none;
        }



.logo img {
  width: 50px;
  height: 50px;
}


/* Promo links styling */
.promo-links-container {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin: 15px auto 25px;
    max-width: 800px;
    flex-wrap: wrap;
    padding: 0 20px;
}

.promo-link {
    display: flex;
    align-items: center;
    padding: 10px 15px;
    background-color: var(--container-bg);
    color: var(--text-color);
    text-decoration: none;
    border-radius: 8px;
    border: 1px solid var(--border-color);
    transition: all 0.3s ease;
    box-shadow: var(--shadow);
    font-weight: 500;
    flex: 1;
    min-width: 220px;
    max-width: 350px;
    justify-content: center;
}

.promo-link iconify-icon {
    margin-right: 8px;
}

.promo-link:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.radar-link {
    border-left: 4px solid #3498db;
}

.pro-link {
    border-left: 4px solid #f39c12;
}

.dark-mode .radar-link {
    border-left: 4px solid #2980b9;
}

.dark-mode .pro-link {
    border-left: 4px solid #d35400;
}

@media (max-width: 768px) {
  
    

    
    select, input {
        width: 100%;
    }
    
    /* Make text elements more readable on mobile */
    .x-label, .y-label {
        font-size: 12px;
    }
    
    /* Adjust tooltip position for mobile */
    .tooltip {
        max-width: 80%;
    }
    
    /* Adjust promo links for mobile */
    .promo-links-container {
        flex-direction: column;
        align-items: center;
        gap: 10px;
        padding: 0 15px;
    }
}




.custom-select-option {
    -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            
}
        /* Disable text selection for SVG text elements */
        svg text, .legend,
        .x-label,
        .y-label,
        .team-label,
        .player-name,
        .x-axis text,
        .y-axis text {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            pointer-events: none;
        }


        body.dark-mode #SFctr {
color: #ffffff
}
  #SFctr {
	font-family: Arial, Helvetica, sans-serif !important;
  margin-left: 21.4px;
}

#SFusrlogpst strong:first-child {
  font-size: 0px;
}

#SFusrlogpst input[type="checkbox"],
#SFusrlogpwd input[type="checkbox"],
#SFusrlogpst i,
#SFusrlogpwd i {
  display: none !important;
}

#SFctr .SFfrm input[type="text"],
#SFctr .SFfrm input[type="password"],
#SFctr .SFfrm button {
  border-radius: 6px;
}

#SFusrlogpwd strong {
  visibility: hidden; /* Hide the original text */
  position: relative;
}

#SFusrlogpwd strong::after {
  content: "Forgot Password?"; /* Add the new text */
  visibility: visible;
  position: absolute;
  font-size: 12px;
  font-weight: 400;
  left: 80px;
  white-space: nowrap; /* Prevent text from wrapping */
  top: -15px;
}

    </style>
</head>


<body>
    <script type="text/javascript">document.body.style.visibility="hidden";</script><div id="SFctr" data-org="31002" data-mfl="64c215764c0b6076026762a3"><div style="clear:both"></div></div><script type="text/javascript" src="https://cdn.membershipworks.com/mfl.js"></script>
    <div class="container">
        <div class="chart-wrapper">
            <div class="controls">
                <select id="select-x" style="display: none;"></select>
                <select id="select-y" style="display: none;"></select>
                <select id="select-league" style="display: none;" onchange="updateChart()">
                    <option value="all">Top 7 Leagues</option>
                    <option value="Top 5 Leagues">Top 5 Leagues</option>
                    <option value="Premier League">Premier League</option>
                    <option value="La Liga">La Liga</option>
                    <option value="Bundesliga">Bundesliga</option>
                    <option value="Serie A">Serie A</option> 
                    <option value="Ligue 1">Ligue 1</option>
                    <option value="Eredivisie">Eredivisie</option>
                    <option value="Primeira Liga">Liga Portugal</option>
                </select>
                
                <!-- Custom X metric selector -->
                <div class="metric-select-container">
                    <div class="metric-select-trigger" id="x-metric-trigger">
                        <span data-i18n="metrics.goals-per-90">Goals per 90</span>
                    </div>
                    <div class="metric-select-options" id="x-metric-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
                
                <!-- Custom Y metric selector -->
                <div class="metric-select-container">
                    <div class="metric-select-trigger" id="y-metric-trigger">
                        <span data-i18n="metrics.xg-per-90">xG per 90</span>
                    </div>
                    <div class="metric-select-options" id="y-metric-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
                
                <!-- Custom league selector with flag icons -->
                <div class="custom-select-container">
                    <div class="custom-select-trigger" id="league-select-trigger">
                        <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                        <span data-i18n="leagues.top7">Top 7 Leagues</span>
                    </div>
                    <div class="custom-select-options" id="league-select-options">
                        <div class="custom-select-option selected" data-value="all">
                            <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                            <span data-i18n="leagues.top7">Top 7 Leagues</span>
                        </div>
                        <div class="custom-select-option" data-value="Top 5 Leagues">
                            <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                            <span data-i18n="leagues.top5">Top 5 Leagues</span>
                        </div>
                        <div class="custom-select-option" data-value="Premier League">
                            <iconify-icon icon="emojione:flag-for-united-kingdom" width="18" height="18"></iconify-icon>
                            <span>Premier League</span>
                        </div>
                        <div class="custom-select-option" data-value="La Liga">
                            <iconify-icon icon="emojione:flag-for-spain" width="18" height="18"></iconify-icon>
                            <span>La Liga</span>
                        </div>
                        <div class="custom-select-option" data-value="Bundesliga">
                            <iconify-icon icon="emojione:flag-for-germany" width="18" height="18"></iconify-icon>
                            <span>Bundesliga</span>
                        </div>
                        <div class="custom-select-option" data-value="Serie A">
                            <iconify-icon icon="emojione:flag-for-italy" width="18" height="18"></iconify-icon>
                            <span>Serie A</span>
                        </div>
                        <div class="custom-select-option" data-value="Ligue 1">
                            <iconify-icon icon="emojione:flag-for-france" width="18" height="18"></iconify-icon>
                            <span>Ligue 1</span>
                        </div>
                        <div class="custom-select-option" data-value="Eredivisie">
                            <iconify-icon icon="emojione:flag-for-netherlands" width="18" height="18"></iconify-icon>
                            <span>Eredivisie</span>
                        </div>
                        <div class="custom-select-option" data-value="Primeira Liga">
                            <iconify-icon icon="emojione:flag-for-portugal" width="18" height="18"></iconify-icon>
                            <span>Liga Portugal</span>
                        </div>
                    </div>
                </div>
                
                <input type="text" id="search-bar" data-i18n="search.placeholder2" placeholder="Search team...">
                <div class="btn-tooltip">
                    <button id="toggle-median-lines" class="btn btn-outline btn-icon">
                        <div class="icon">
                            <i class="ion-stats-bars"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" id="median-lines-tooltip" data-i18n="tooltip.median-lines">Show median lines</span>
                </div>
                <div class="btn-tooltip">
                    <button class="btn btn-outline btn-icon" id="select-all-button" onclick="selectAllCircles()">
                        <div class="icon">
                            <i class="ion-ios-circle-filled" id="select-icon"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" id="select-all-tooltip" data-i18n="tooltip.select-all">Select all teams</span>
                </div>
                <div class="btn-tooltip">
                    <button class="btn btn-outline btn-icon" onclick="takeScreenshot()">
                        <div class="icon">
                            <i class="ion-camera"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" data-i18n="tooltip.screenshot">Download chart as image</span>
                </div>
            </div>
       
            <div class="chart-container">
              <svg id="scatter-plot"></svg>
            </div>

            <div class="legend" id="league-legend">
              <!-- Legend items will be added here dynamically -->
            </div>
        </div>

        <div class="promo-links-container">
            <a href="https://datamb.football/proteamradar" class="promo-link radar-link"  target="_self" rel="noopener noreferrer">
                <iconify-icon icon="mdi:radar" width="20" height="20"></iconify-icon>
                <span data-i18n="promo.radar-link">Compare Teams with Radars</span>
            </a>
        </div>
    </div>

    <div class="dark-mode-toggle" onclick="toggleDarkMode()">
        <div class="toggle-icon"></div>
    </div>



    <script>
        
        var _0x5382c7=_0x2989;(function(_0x9f0e4b,_0x34c010){var _0x273748=_0x2989,_0x2c6fa5=_0x9f0e4b();while(!![]){try{var _0x4a3f64=-parseInt(_0x273748(0x23d))/0x1+-parseInt(_0x273748(0x189))/0x2+parseInt(_0x273748(0x1b0))/0x3*(-parseInt(_0x273748(0x20b))/0x4)+-parseInt(_0x273748(0x265))/0x5+-parseInt(_0x273748(0x269))/0x6+-parseInt(_0x273748(0x257))/0x7+parseInt(_0x273748(0x1a6))/0x8*(parseInt(_0x273748(0x270))/0x9);if(_0x4a3f64===_0x34c010)break;else _0x2c6fa5['push'](_0x2c6fa5['shift']());}catch(_0x5af634){_0x2c6fa5['push'](_0x2c6fa5['shift']());}}}(_0x20c7,0xd442f));let initializeCustomSelectors=function(){var _0x51d8bf=_0x2989;const _0x8e0614=document[_0x51d8bf(0x1c0)](_0x51d8bf(0x25b)),_0x1643c5=document[_0x51d8bf(0x1c0)](_0x51d8bf(0x1f6)),_0xaf0c74=document[_0x51d8bf(0x1c0)]('select-league');setupCustomSelect(_0x8e0614,_0x1643c5,_0xaf0c74);const _0x84a776=document['getElementById'](_0x51d8bf(0x242)),_0x321430=document['getElementById'](_0x51d8bf(0x1b2)),_0x4bde43=document['getElementById'](_0x51d8bf(0x236));populateMetricOptions(_0x321430,header['slice'](0x3),function(_0x2c937d,_0x94267){var _0x1ab70b=_0x51d8bf;_0x84a776[_0x1ab70b(0x19c)](_0x1ab70b(0x1dd))[_0x1ab70b(0x239)]===_0x94267&&_0x2c937d[_0x1ab70b(0x1db)][_0x1ab70b(0x1a9)](_0x1ab70b(0x19d));if(_0x94267===header[0x3]){_0x2c937d['classList']['add'](_0x1ab70b(0x19d)),_0x84a776[_0x1ab70b(0x19c)](_0x1ab70b(0x1dd))['textContent']=_0x94267;const _0xeb0b08=_0x94267[_0x1ab70b(0x244)]()[_0x1ab70b(0x1da)](/ /g,'-')[_0x1ab70b(0x1da)](/%/g,_0x1ab70b(0x1f3));_0x84a776[_0x1ab70b(0x19c)](_0x1ab70b(0x1dd))['setAttribute'](_0x1ab70b(0x1cb),_0x1ab70b(0x206)+_0xeb0b08);}}),setupCustomSelect(_0x84a776,_0x321430,_0x4bde43);const _0x911728=document[_0x51d8bf(0x1c0)](_0x51d8bf(0x23a)),_0x1e9814=document[_0x51d8bf(0x1c0)](_0x51d8bf(0x1a5)),_0x1538a2=document[_0x51d8bf(0x1c0)](_0x51d8bf(0x1bb));populateMetricOptions(_0x1e9814,header['slice'](0x3),function(_0x30f428,_0x3e2d7e){var _0x58f9ce=_0x51d8bf;_0x911728[_0x58f9ce(0x19c)](_0x58f9ce(0x1dd))['textContent']===_0x3e2d7e&&_0x30f428[_0x58f9ce(0x1db)][_0x58f9ce(0x1a9)](_0x58f9ce(0x19d));if(_0x3e2d7e===header[0x4]){_0x30f428[_0x58f9ce(0x1db)][_0x58f9ce(0x1a9)](_0x58f9ce(0x19d)),_0x911728['querySelector'](_0x58f9ce(0x1dd))['textContent']=_0x3e2d7e;const _0x19f289=_0x3e2d7e[_0x58f9ce(0x244)]()['replace'](/ /g,'-')[_0x58f9ce(0x1da)](/%/g,_0x58f9ce(0x1f3));_0x911728[_0x58f9ce(0x19c)](_0x58f9ce(0x1dd))[_0x58f9ce(0x26f)](_0x58f9ce(0x1cb),'metrics.'+_0x19f289);}}),setupCustomSelect(_0x911728,_0x1e9814,_0x1538a2);};function populateMetricOptions(_0x187979,_0x1ee726,_0xf1cd75){_0x187979['innerHTML']='',_0x1ee726['forEach'](function(_0x5a7a8e){var _0x26c241=_0x2989;const _0x1defb2=document['createElement'](_0x26c241(0x1f5));_0x1defb2[_0x26c241(0x215)]='metric-select-option',_0x1defb2[_0x26c241(0x26f)](_0x26c241(0x24d),_0x5a7a8e);const _0x144f40=document[_0x26c241(0x216)]('span');_0x144f40[_0x26c241(0x239)]=_0x5a7a8e;const _0x5b3f97=_0x5a7a8e[_0x26c241(0x244)]()['replace'](/ /g,'-')[_0x26c241(0x1da)](/%/g,_0x26c241(0x1f3));_0x144f40['setAttribute'](_0x26c241(0x1cb),_0x26c241(0x206)+_0x5b3f97),_0x1defb2[_0x26c241(0x1b8)](_0x144f40);if(_0xf1cd75)_0xf1cd75(_0x1defb2,_0x5a7a8e);_0x187979['appendChild'](_0x1defb2);});}function setupCustomSelect(_0x1a957e,_0x22f5d0,_0x41f5d1){var _0xb9e57c=_0x2989;_0x1a957e['addEventListener'](_0xb9e57c(0x188),function(){var _0x268627=_0xb9e57c;document[_0x268627(0x1ae)](_0x268627(0x200))['forEach'](function(_0x16a433){var _0x34a93d=_0x268627;if(_0x16a433!==_0x1a957e){_0x16a433[_0x34a93d(0x1db)][_0x34a93d(0x1a4)](_0x34a93d(0x272));const _0x1da817=_0x16a433[_0x34a93d(0x193)];if(_0x1da817)_0x1da817[_0x34a93d(0x187)][_0x34a93d(0x1d2)]=_0x34a93d(0x1c4);}}),_0x1a957e[_0x268627(0x1db)][_0x268627(0x27a)](_0x268627(0x272));const _0x49dfc4=_0x1a957e['classList'][_0x268627(0x1f0)]('open');_0x22f5d0[_0x268627(0x187)][_0x268627(0x1d2)]=_0x49dfc4?_0x268627(0x1f8):_0x268627(0x1c4);});const _0x199764=_0x22f5d0[_0xb9e57c(0x1ae)]('.custom-select-option,\x20.metric-select-option');_0x199764[_0xb9e57c(0x1c6)](_0x1afca4=>{var _0x2a94f7=_0xb9e57c;_0x1afca4[_0x2a94f7(0x1ab)](_0x2a94f7(0x188),function(){var _0x1e96dc=_0x2a94f7;_0x199764[_0x1e96dc(0x1c6)](_0x5809c3=>_0x5809c3[_0x1e96dc(0x1db)][_0x1e96dc(0x1a4)](_0x1e96dc(0x19d))),this[_0x1e96dc(0x1db)][_0x1e96dc(0x1a9)](_0x1e96dc(0x19d));const _0x4dd6e0=this[_0x1e96dc(0x19c)](_0x1e96dc(0x1dd))[_0x1e96dc(0x239)],_0x3186ea=this[_0x1e96dc(0x19c)](_0x1e96dc(0x1dd))['getAttribute'](_0x1e96dc(0x1cb)),_0x2026bb=this[_0x1e96dc(0x19c)](_0x1e96dc(0x1f4));_0x1a957e[_0x1e96dc(0x278)]='';if(_0x2026bb){const _0x343796=_0x2026bb[_0x1e96dc(0x1a8)](!![]);_0x343796['style'][_0x1e96dc(0x1ea)]=_0x1e96dc(0x26d),_0x1a957e['appendChild'](_0x343796);}const _0x5d0ac5=document['createElement'](_0x1e96dc(0x1dd));_0x5d0ac5[_0x1e96dc(0x239)]=_0x4dd6e0;_0x3186ea&&_0x5d0ac5[_0x1e96dc(0x26f)](_0x1e96dc(0x1cb),_0x3186ea);_0x1a957e[_0x1e96dc(0x1b8)](_0x5d0ac5);const _0x39ab91=this['getAttribute'](_0x1e96dc(0x24d));_0x41f5d1[_0x1e96dc(0x266)]=_0x39ab91||_0x4dd6e0;const _0x379dcd=new Event(_0x1e96dc(0x23c));_0x41f5d1['dispatchEvent'](_0x379dcd),_0x1a957e[_0x1e96dc(0x1db)][_0x1e96dc(0x1a4)](_0x1e96dc(0x272)),_0x22f5d0[_0x1e96dc(0x187)][_0x1e96dc(0x1d2)]=_0x1e96dc(0x1c4);});});let _0x5c9765='',_0x5696e3;document[_0xb9e57c(0x1ab)]('keydown',function(_0xf763c3){var _0x31f0ae=_0xb9e57c;if(!_0x1a957e[_0x31f0ae(0x1db)][_0x31f0ae(0x1f0)](_0x31f0ae(0x272)))return;if(_0xf763c3['key']===_0x31f0ae(0x222)||_0xf763c3[_0x31f0ae(0x214)]===_0x31f0ae(0x247)){_0xf763c3[_0x31f0ae(0x1aa)]();const _0x55370e=Array[_0x31f0ae(0x255)](_0x199764),_0x29b189=_0x55370e[_0x31f0ae(0x21b)](_0x8be28a=>_0x8be28a[_0x31f0ae(0x1db)][_0x31f0ae(0x1f0)](_0x31f0ae(0x19d)));let _0x224ae7;_0xf763c3['key']===_0x31f0ae(0x222)?_0x224ae7=_0x29b189<_0x55370e[_0x31f0ae(0x18c)]-0x1?_0x29b189+0x1:0x0:_0x224ae7=_0x29b189>0x0?_0x29b189-0x1:_0x55370e['length']-0x1;_0x199764['forEach'](_0x193b9d=>_0x193b9d[_0x31f0ae(0x1db)][_0x31f0ae(0x1a4)](_0x31f0ae(0x19d))),_0x55370e[_0x224ae7][_0x31f0ae(0x1db)][_0x31f0ae(0x1a9)](_0x31f0ae(0x19d)),_0x55370e[_0x224ae7]['scrollIntoView']({'block':_0x31f0ae(0x26a)});return;}if(_0xf763c3[_0x31f0ae(0x214)]===_0x31f0ae(0x262)){_0xf763c3[_0x31f0ae(0x1aa)]();const _0x2b62f4=_0x22f5d0[_0x31f0ae(0x19c)](_0x31f0ae(0x23b));_0x2b62f4&&_0x2b62f4['click']();return;}if(_0xf763c3[_0x31f0ae(0x214)]===_0x31f0ae(0x1cd)){_0xf763c3[_0x31f0ae(0x1aa)](),_0x1a957e[_0x31f0ae(0x1db)][_0x31f0ae(0x1a4)](_0x31f0ae(0x272)),_0x22f5d0['style'][_0x31f0ae(0x1d2)]=_0x31f0ae(0x1c4);return;}if(_0xf763c3[_0x31f0ae(0x214)][_0x31f0ae(0x18c)]===0x1&&_0xf763c3[_0x31f0ae(0x214)][_0x31f0ae(0x196)](/[a-zA-Z0-9%]/)){clearTimeout(_0x5696e3),_0x5c9765+=_0xf763c3['key'][_0x31f0ae(0x244)]();const _0x23f337=Array['from'](_0x199764)['find'](_0x4a480a=>{var _0x5e34fa=_0x31f0ae;const _0x4ae755=_0x4a480a[_0x5e34fa(0x19c)](_0x5e34fa(0x1dd))['textContent'][_0x5e34fa(0x244)]();return _0x4ae755[_0x5e34fa(0x1e8)](_0x5c9765);});_0x23f337&&(_0x199764[_0x31f0ae(0x1c6)](_0x1afdec=>_0x1afdec['classList'][_0x31f0ae(0x1a4)](_0x31f0ae(0x19d))),_0x23f337[_0x31f0ae(0x1db)][_0x31f0ae(0x1a9)]('selected'),_0x23f337[_0x31f0ae(0x23e)]({'block':_0x31f0ae(0x26a)})),_0x5696e3=setTimeout(()=>{_0x5c9765='';},0x3e8);}});}document[_0x5382c7(0x1ab)]('click',function(_0x3a1969){var _0x3bb398=_0x5382c7;const _0x2d4ca0=document[_0x3bb398(0x1ae)](_0x3bb398(0x1d4)),_0xa94e78=document[_0x3bb398(0x1ae)]('.custom-select-options,\x20.metric-select-options');let _0x42306f=![];_0x2d4ca0[_0x3bb398(0x1c6)](function(_0x447595,_0x346716){var _0xd8e31=_0x3bb398;const _0x32b399=_0xa94e78[_0x346716];_0x447595&&_0x32b399&&(_0x447595['contains'](_0x3a1969[_0xd8e31(0x19f)])||_0x32b399[_0xd8e31(0x1f0)](_0x3a1969[_0xd8e31(0x19f)]))&&(_0x42306f=!![]);}),!_0x42306f&&_0x2d4ca0[_0x3bb398(0x1c6)](function(_0x113bc3,_0x1fb367){var _0x22517f=_0x3bb398;_0x113bc3&&_0xa94e78[_0x1fb367]&&(_0x113bc3[_0x22517f(0x1db)]['remove'](_0x22517f(0x272)),_0xa94e78[_0x1fb367]['style']['display']=_0x22517f(0x1c4));});});const xhr=new XMLHttpRequest();xhr[_0x5382c7(0x272)](_0x5382c7(0x1e9),_0x5382c7(0x1f2),![]),xhr[_0x5382c7(0x251)](null);let csvData=xhr[_0x5382c7(0x191)],extraHeaderRow=_0x5382c7(0x1ba);csvData=extraHeaderRow+csvData;function _0x2989(_0x1b0e80,_0x5617bc){var _0x20c77d=_0x20c7();return _0x2989=function(_0x298938,_0x299c1c){_0x298938=_0x298938-0x183;var _0x5e4809=_0x20c77d[_0x298938];return _0x5e4809;},_0x2989(_0x1b0e80,_0x5617bc);}var rows=csvData[_0x5382c7(0x1f9)]()[_0x5382c7(0x253)]('\x0a'),header=rows[0x0][_0x5382c7(0x253)](','),data=rows[_0x5382c7(0x26c)](0x1)[_0x5382c7(0x19a)](function(_0xc6baba){var _0x1ce450=_0x5382c7;return _0xc6baba[_0x1ce450(0x253)](',')[_0x1ce450(0x19a)](function(_0x357bca,_0x9c8250){return _0x9c8250>=0x3?parseFloat(_0x357bca):_0x357bca;});}),margin={'top':0x0,'right':0x0,'bottom':0x0,'left':0x0},width=0x43a-margin[_0x5382c7(0x256)]-margin['right'],height=0x302-margin[_0x5382c7(0x220)]-margin[_0x5382c7(0x22f)],leagueColors={'Premier\x20League':'rgb(255,\x200,\x200,\x200.7)','La\x20Liga':_0x5382c7(0x22b),'Bundesliga':_0x5382c7(0x268),'Serie\x20A':'rgb(0,\x20191,\x20255,\x200.7)','Ligue\x201':_0x5382c7(0x1c1),'Eredivisie':_0x5382c7(0x186),'Primeira\x20Liga':_0x5382c7(0x279)};function getLeagueColor(_0x139afb){var _0x8f1564=_0x5382c7;return leagueColors[_0x139afb]||_0x8f1564(0x240);}function updateChartDimensions(){var _0x2c1393=_0x5382c7,_0x29c5c0=document[_0x2c1393(0x19c)](_0x2c1393(0x1c7))['clientWidth'],_0x14720=window[_0x2c1393(0x204)]*0.7,_0x56a261=0x1e,_0x1bd27a=Math[_0x2c1393(0x1af)](0x43a,_0x29c5c0-_0x56a261*0x2),_0x239bc2=window[_0x2c1393(0x1e6)]/window[_0x2c1393(0x204)]<0x1;if(_0x239bc2){margin={'top':0x28,'right':0x1e,'bottom':0x3c,'left':0x4b};var _0x211d88=1.4,_0x45eb94=Math['min'](_0x14720,_0x1bd27a*_0x211d88);_0x45eb94=Math['max'](_0x45eb94,0x1f4);}else{margin={'top':0x28,'right':0x1e,'bottom':0x3c,'left':0x4f};var _0xce5d76=0.7,_0x45eb94=_0x1bd27a*_0xce5d76;}width=_0x1bd27a-margin[_0x2c1393(0x256)]-margin[_0x2c1393(0x22a)],height=_0x45eb94-margin[_0x2c1393(0x220)]-margin[_0x2c1393(0x22f)],d3[_0x2c1393(0x1bc)](_0x2c1393(0x261))['attr']('width',_0x1bd27a)[_0x2c1393(0x260)]('height',_0x45eb94),document['querySelector']('.chart-container')[_0x2c1393(0x187)][_0x2c1393(0x227)]=_0x45eb94+'px';}window[_0x5382c7(0x1ab)](_0x5382c7(0x20d),function(){updateChartDimensions(),requestAnimationFrame(function(){updateChart();});}),updateChartDimensions();function debounce(_0xfc4c00,_0x3f164e){let _0x4a20cb;return function(){const _0x50ae42=this,_0x225483=arguments;clearTimeout(_0x4a20cb),_0x4a20cb=setTimeout(function(){var _0x570cb4=_0x2989;_0xfc4c00[_0x570cb4(0x1c2)](_0x50ae42,_0x225483);},_0x3f164e);};}var prevWindowWidth=window['innerWidth'],prevWindowHeight=window[_0x5382c7(0x204)];window[_0x5382c7(0x1ab)](_0x5382c7(0x20d),debounce(function(){var _0x51b1c3=_0x5382c7,_0xead257=prevWindowWidth/prevWindowHeight<0x1,_0x1620c3=window['innerWidth']/window[_0x51b1c3(0x204)]<0x1;prevWindowWidth=window[_0x51b1c3(0x1e6)],prevWindowHeight=window[_0x51b1c3(0x204)],requestAnimationFrame(function(){updateChart();});},0x32));var medianLinesVisible=![],selectX=d3[_0x5382c7(0x1bc)](_0x5382c7(0x195)),selectY=d3[_0x5382c7(0x1bc)]('#select-y'),names=data[_0x5382c7(0x19a)](function(_0x401b56){return _0x401b56[0x1];});header[_0x5382c7(0x26c)](0x3)[_0x5382c7(0x1c6)](function(_0x3875c1){var _0x5dca71=_0x5382c7;selectX[_0x5dca71(0x211)](_0x5dca71(0x25d))[_0x5dca71(0x1ee)](_0x3875c1)[_0x5dca71(0x260)](_0x5dca71(0x266),_0x3875c1),selectY['append'](_0x5dca71(0x25d))[_0x5dca71(0x1ee)](_0x3875c1)[_0x5dca71(0x260)](_0x5dca71(0x266),_0x3875c1);}),selectX[_0x5382c7(0x1e3)](_0x5382c7(0x266),header[0x3]),selectY['property'](_0x5382c7(0x266),header[0x4]);var svg=d3[_0x5382c7(0x1bc)](_0x5382c7(0x261))[_0x5382c7(0x260)](_0x5382c7(0x277),width+margin[_0x5382c7(0x256)]+margin[_0x5382c7(0x22a)])[_0x5382c7(0x260)](_0x5382c7(0x227),height+margin[_0x5382c7(0x220)]+margin[_0x5382c7(0x22f)])[_0x5382c7(0x211)]('g')[_0x5382c7(0x260)](_0x5382c7(0x219),_0x5382c7(0x1bd)+margin[_0x5382c7(0x256)]+','+margin[_0x5382c7(0x220)]+')'),xMetric=header[0x3],yMetric=header[0x4],xScale=d3[_0x5382c7(0x1ed)]()[_0x5382c7(0x221)]([0x0,width]),yScale=d3[_0x5382c7(0x1ed)]()['range']([height,0x0]),xAxis=d3[_0x5382c7(0x1a1)](xScale)['tickSize'](0x0),yAxis=d3[_0x5382c7(0x271)](yScale)[_0x5382c7(0x226)](0x0),gXAxis=svg[_0x5382c7(0x211)]('g')[_0x5382c7(0x260)](_0x5382c7(0x273),_0x5382c7(0x235))[_0x5382c7(0x260)](_0x5382c7(0x219),_0x5382c7(0x1cc)+height+')'),gYAxis=svg[_0x5382c7(0x211)]('g')[_0x5382c7(0x260)](_0x5382c7(0x273),_0x5382c7(0x25e)),xLabel=svg['append']('text')[_0x5382c7(0x260)]('class',_0x5382c7(0x20e))[_0x5382c7(0x260)]('text-anchor',_0x5382c7(0x1b7))['attr']('x',width)[_0x5382c7(0x260)]('y',height+0x23)[_0x5382c7(0x187)]('font-family',_0x5382c7(0x1d3))[_0x5382c7(0x187)]('font-size',_0x5382c7(0x250)),yLabel=svg['append']('text')[_0x5382c7(0x260)](_0x5382c7(0x273),_0x5382c7(0x1ef))[_0x5382c7(0x260)](_0x5382c7(0x209),_0x5382c7(0x1b7))[_0x5382c7(0x260)](_0x5382c7(0x219),_0x5382c7(0x19b))[_0x5382c7(0x260)]('y',-0x35)[_0x5382c7(0x260)]('x',0x0)[_0x5382c7(0x187)](_0x5382c7(0x202),'Inter,\x20sans-serif')[_0x5382c7(0x187)](_0x5382c7(0x245),_0x5382c7(0x250)),tooltip=d3[_0x5382c7(0x1bc)]('body')[_0x5382c7(0x211)]('div')[_0x5382c7(0x260)]('class',_0x5382c7(0x24c));function _0x20c7(){var _0x14c314=['querySelectorAll','min','1448835VUdeQZ','Bundesliga','x-metric-options','Goals\x20per\x2090','<strong>','select-icon','xy-line-hover','end','appendChild','fontWeight','ID,Player,Top\x207\x20Leagues,Goals\x20per\x2090,xG\x20per\x2090,Shots\x20on\x20target\x20per\x2090,Shots\x20on\x20target\x20%,Passes\x20completed,Pass\x20accuracy\x20%,Possession\x20%,Positional\x20attacks\x20per\x2090,Counter\x20attacks\x20per\x2090,Touches\x20in\x20the\x20box\x20per\x2090,Goals\x20conceded\x20per\x2090,SoT\x20against\x20per\x2090,Defensive\x20duels\x20per\x2090,Defensive\x20duel\x20%,Aerial\x20duels\x20per\x2090,Aerial\x20duels\x20%,Passes\x20per\x20possession,PPDA\x0a','select-y','select','translate(','help','enter','getElementById','rgb(153,\x2050,\x20204,\x200.7)','apply','all','none','getComputedTextLength','forEach','.chart-wrapper','median-lines-tooltip','event','legend-color','data-i18n','translate(0,','Escape','bold','DOMContentLoaded','tooltip.xg-line-left','.xy-line-hover','display','Inter,\x20sans-serif','.custom-select-trigger,\x20.metric-select-trigger','showMedianLines','.xy-line-label-bg','normalize','parentNode','#000','replace','classList','html','span','marker#arrow-over,\x20marker#arrow-under','Top\x205\x20Leagues','.team-label-','xG\x20per\x2090','Teams\x20right\x20of\x20this\x20line\x20are\x20scoring\x20more\x20goals\x20than\x20expected.','property','hideMedianLines','search-dimmed','innerWidth','getBoundingClientRect','startsWith','GET','marginRight','mouseover','pointer','scaleLinear','text','y-label','contains','<br/>','https://datamb.football/database/TEAM/teamplots.csv','pct','iconify-icon','div','league-select-options','push','block','trim','hanging','Hide\x20median\x20lines','Ligue\x201','15px','node','pow','.custom-select-trigger.open,\x20.metric-select-trigger.open','Show\x20median\x20lines','font-family','tooltip.xg-line-below','innerHeight','data','metrics.','</span>','5,3','text-anchor','toFixed','4YVGseu','#2ecc71','resize','x-label','.median-line','duration','append','search-match','Select\x20all\x20teams','key','className','createElement','each','.team-label','transform','start','findIndex','search-bar','transparent','flex','Premier\x20League','top','range','ArrowDown','fill','.xy-line-label','linearGradient#line-gradient','tickSize','height','toggle-median-lines','transition','right','rgb(255,\x20223,\x200,\x200.7)','league-legend','stroke','median-line','bottom','middle','</span><br/>','La\x20Liga','selectAll','size','x-axis','select-x','Unselect\x20all\x20teams','</strong><br/>','textContent','y-metric-trigger','.selected','change','209627FDudgd','scrollIntoView','nice','rgba(255,\x200,\x200,\x200.7)','G\x20=\x20xG\x20Line','x-metric-trigger','pageX','toLowerCase','font-size','classed','ArrowUp','getBBox','circle','500','.xy-line-bg','tooltip','data-value','filter','currentTranslations','14px','send','indexOf','split','sqrt','from','left','2892260EwkjuQ','stroke-dasharray','includes','input','league-select-trigger','anchor','option','y-axis','cursor','attr','#scatter-plot','Enter','find','stroke-width','5587285xGxcxS','value','team-label\x20','rgb(85,\x20209,\x2073,\x200.7)','2044032eFuCfS','nearest','pageY','slice','8px','max','setAttribute','38521287rrcXYv','axisLeft','open','class','opacity','NFD','metrics','width','innerHTML','rgb(255,\x2020,\x20147,\x200.7)','toggle','call','team-label-','dark-mode','rgb(255,\x20140,\x200,\x200.7)','style','click','1693678kKvGyr','Teams\x20above\x20this\x20line\x20are\x20scoring\x20more\x20goals\x20than\x20expected.','line','length','domain','ion-ios-circle-filled','rgba(70,\x20130,\x20180,\x200.7)','tooltip.xg-line-right','responseText','extent','nextElementSibling','body','#select-x','match','Serie\x20A','select-league','Teams\x20below\x20this\x20line\x20are\x20scoring\x20fewer\x20goals\x20than\x20expected.','map','rotate(-90)','querySelector','selected','Teams\x20left\x20of\x20this\x20line\x20are\x20scoring\x20fewer\x20goals\x20than\x20expected.','target','splice','axisBottom','tooltip.xg-line-above','median','remove','y-metric-options','8VfBNed','text.team-label','cloneNode','add','preventDefault','addEventListener','tooltip.xg-line-title','<span>'];_0x20c7=function(){return _0x14c314;};return _0x20c7();}function isMobileDevice(){var _0x3e84dd=_0x5382c7;return window[_0x3e84dd(0x1e6)]<=0x300;}function positionTooltip(_0x1a5ed3,_0x3f445b){var _0x29fe29=_0x5382c7;const _0xc7dd38=_0x3f445b[_0x29fe29(0x1fe)]();if(!_0xc7dd38)return{'left':0x0,'top':0x0};const _0x1d5779=_0xc7dd38['getBoundingClientRect'](),_0x2d1be8=window[_0x29fe29(0x1e6)],_0x1a8e14=window[_0x29fe29(0x204)];let _0x1ffec3=_0x1a5ed3[_0x29fe29(0x243)]+0xa,_0x557d4e=_0x1a5ed3['pageY']-0x1c;return _0x1ffec3+_0x1d5779['width']>_0x2d1be8-0xa&&(_0x1ffec3=_0x1a5ed3['pageX']-_0x1d5779[_0x29fe29(0x277)]-0xa),_0x557d4e+_0x1d5779[_0x29fe29(0x227)]>_0x1a8e14-0xa&&(_0x557d4e=_0x1a5ed3[_0x29fe29(0x26b)]-_0x1d5779[_0x29fe29(0x227)]-0xa),_0x1ffec3=Math['max'](0xa,_0x1ffec3),_0x557d4e=Math[_0x29fe29(0x26e)](0xa,_0x557d4e),{'left':_0x1ffec3,'top':_0x557d4e};}var clickedCircles=[],filteredData=data,filteredNames=names,circles;function updateChart(){var _0x13c63c=_0x5382c7;updateChartDimensions(),d3[_0x13c63c(0x1bc)]('#scatter-plot')[_0x13c63c(0x260)]('width',width+margin['left']+margin[_0x13c63c(0x22a)])[_0x13c63c(0x260)](_0x13c63c(0x227),height+margin[_0x13c63c(0x220)]+margin['bottom']),gXAxis['attr'](_0x13c63c(0x219),_0x13c63c(0x1cc)+height+')'),xLabel[_0x13c63c(0x260)]('x',width)[_0x13c63c(0x260)]('y',height+0x23),yLabel['attr']('x',0x0);const _0x1d317d=document[_0x13c63c(0x194)][_0x13c63c(0x1db)][_0x13c63c(0x1f0)](_0x13c63c(0x185));var _0x94d49f=document[_0x13c63c(0x1c0)](_0x13c63c(0x198))[_0x13c63c(0x266)];if(_0x94d49f==='all')filteredData=data;else _0x94d49f===_0x13c63c(0x1df)?filteredData=data[_0x13c63c(0x24e)](function(_0x432b4e){var _0x3950ff=_0x13c63c;return _0x432b4e[0x2]===_0x3950ff(0x21f)||_0x432b4e[0x2]===_0x3950ff(0x232)||_0x432b4e[0x2]===_0x3950ff(0x1b1)||_0x432b4e[0x2]===_0x3950ff(0x197)||_0x432b4e[0x2]===_0x3950ff(0x1fc);}):filteredData=data['filter'](function(_0xbab92e){return _0xbab92e[0x2]===_0x94d49f;});filteredNames=filteredData[_0x13c63c(0x19a)](function(_0x152ea2){return _0x152ea2[0x1];}),xMetric=selectX[_0x13c63c(0x1e3)](_0x13c63c(0x266)),yMetric=selectY[_0x13c63c(0x1e3)](_0x13c63c(0x266)),xScale['range']([0x0,width])[_0x13c63c(0x18d)]((function(){var _0x5723fa=_0x13c63c;const _0x32d83c=d3['extent'](filteredData,function(_0x36e547){var _0x177fcf=_0x2989;return+_0x36e547[header[_0x177fcf(0x252)](xMetric)];}),_0x3fea8b=d3[_0x5723fa(0x1ed)]()[_0x5723fa(0x18d)](_0x32d83c)[_0x5723fa(0x23f)](),_0x1997b6=_0x3fea8b[_0x5723fa(0x18d)](),_0x35f6ce=_0x32d83c[0x1]-_0x32d83c[0x0],_0x2d0a96=_0x1997b6[0x1]-_0x1997b6[0x0];if(_0x2d0a96/_0x35f6ce>1.2){const _0x4eda5a=_0x35f6ce*0.1;return[_0x32d83c[0x0]-_0x4eda5a,_0x32d83c[0x1]+_0x4eda5a];}else return _0x1997b6;}())),yScale[_0x13c63c(0x221)]([height,0x0])['domain']((function(){var _0x29f7fa=_0x13c63c;const _0x479f16=d3[_0x29f7fa(0x192)](filteredData,function(_0x139362){var _0x38ccc3=_0x29f7fa;return+_0x139362[header[_0x38ccc3(0x252)](yMetric)];}),_0x3d4e18=d3['scaleLinear']()[_0x29f7fa(0x18d)](_0x479f16)[_0x29f7fa(0x23f)](),_0x411df1=_0x3d4e18[_0x29f7fa(0x18d)](),_0x1bfe13=_0x479f16[0x1]-_0x479f16[0x0],_0x816943=_0x411df1[0x1]-_0x411df1[0x0];if(_0x816943/_0x1bfe13>1.2){const _0x4717fc=_0x1bfe13*0.1;return[_0x479f16[0x0]-_0x4717fc,_0x479f16[0x1]+_0x4717fc];}else return _0x411df1;}())),gXAxis['call'](d3['axisBottom'](xScale)[_0x13c63c(0x226)](0x0)),gYAxis[_0x13c63c(0x183)](d3['axisLeft'](yScale)[_0x13c63c(0x226)](0x0));const _0x1dcf01=_0x13c63c(0x206)+xMetric['toLowerCase']()[_0x13c63c(0x1da)](/ /g,'-')['replace'](/%/g,_0x13c63c(0x1f3)),_0x2a483c=_0x13c63c(0x206)+yMetric[_0x13c63c(0x244)]()[_0x13c63c(0x1da)](/ /g,'-')[_0x13c63c(0x1da)](/%/g,'pct');xLabel['attr'](_0x13c63c(0x1cb),_0x1dcf01),yLabel[_0x13c63c(0x260)](_0x13c63c(0x1cb),_0x2a483c);if(window['currentTranslations']&&window['currentTranslations'][_0x13c63c(0x276)]){const _0x3a7fa2=xMetric[_0x13c63c(0x244)]()[_0x13c63c(0x1da)](/ /g,'-')[_0x13c63c(0x1da)](/%/g,_0x13c63c(0x1f3)),_0x24758a=yMetric[_0x13c63c(0x244)]()[_0x13c63c(0x1da)](/ /g,'-')[_0x13c63c(0x1da)](/%/g,_0x13c63c(0x1f3)),_0x3a23cc=window['currentTranslations'][_0x13c63c(0x276)][_0x3a7fa2],_0x58eee3=window[_0x13c63c(0x24f)][_0x13c63c(0x276)][_0x24758a];xLabel['text'](_0x3a23cc||xMetric),yLabel[_0x13c63c(0x1ee)](_0x58eee3||yMetric);}else xLabel[_0x13c63c(0x1ee)](xMetric),yLabel[_0x13c63c(0x1ee)](yMetric);svg['selectAll']('circle')['remove'](),svg[_0x13c63c(0x233)]('.team-label')[_0x13c63c(0x1a4)](),svg['selectAll']('.xy-line')['remove'](),svg[_0x13c63c(0x233)](_0x13c63c(0x24b))[_0x13c63c(0x1a4)](),svg[_0x13c63c(0x233)](_0x13c63c(0x224))[_0x13c63c(0x1a4)](),svg[_0x13c63c(0x233)](_0x13c63c(0x1d6))[_0x13c63c(0x1a4)](),svg[_0x13c63c(0x233)]('.performance-label')[_0x13c63c(0x1a4)](),svg[_0x13c63c(0x233)](_0x13c63c(0x225))[_0x13c63c(0x1a4)](),svg[_0x13c63c(0x233)](_0x13c63c(0x1de))[_0x13c63c(0x1a4)](),svg['selectAll'](_0x13c63c(0x1d1))[_0x13c63c(0x1a4)](),svg['selectAll'](_0x13c63c(0x20f))['remove']();if(xMetric===_0x13c63c(0x1e1)&&yMetric===_0x13c63c(0x1b3)||xMetric===_0x13c63c(0x1b3)&&yMetric==='xG\x20per\x2090'){var _0x29d7fc=null,_0x5828c0=d3[_0x13c63c(0x1af)](filteredData,function(_0x1bc126){var _0x31c678=_0x13c63c;return _0x1bc126[header[_0x31c678(0x252)](xMetric)];}),_0x5caa90=d3['max'](filteredData,function(_0x3b5ccd){var _0x4ebaaa=_0x13c63c;return _0x3b5ccd[header[_0x4ebaaa(0x252)](xMetric)];}),_0x1bdfc0=d3[_0x13c63c(0x1af)](filteredData,function(_0x347927){return _0x347927[header['indexOf'](yMetric)];}),_0x41ea9e=d3[_0x13c63c(0x26e)](filteredData,function(_0x36069b){return _0x36069b[header['indexOf'](yMetric)];}),_0x473656=Math[_0x13c63c(0x1af)](_0x5caa90,_0x41ea9e),_0x43d065=Math[_0x13c63c(0x26e)](_0x5828c0,_0x1bdfc0);svg[_0x13c63c(0x211)](_0x13c63c(0x18b))[_0x13c63c(0x260)](_0x13c63c(0x273),'xy-line')[_0x13c63c(0x260)]('x1',xScale(_0x43d065))[_0x13c63c(0x260)]('y1',yScale(_0x43d065))[_0x13c63c(0x260)]('x2',xScale(_0x473656))['attr']('y2',yScale(_0x473656))[_0x13c63c(0x187)](_0x13c63c(0x22d),_0x13c63c(0x20c))[_0x13c63c(0x187)](_0x13c63c(0x264),'2')[_0x13c63c(0x187)](_0x13c63c(0x258),_0x13c63c(0x208)),svg[_0x13c63c(0x211)]('line')[_0x13c63c(0x260)](_0x13c63c(0x273),_0x13c63c(0x1b6))[_0x13c63c(0x260)]('x1',xScale(_0x43d065))[_0x13c63c(0x260)]('y1',yScale(_0x43d065))[_0x13c63c(0x260)]('x2',xScale(_0x473656))[_0x13c63c(0x260)]('y2',yScale(_0x473656))[_0x13c63c(0x187)](_0x13c63c(0x22d),_0x13c63c(0x21d))['style'](_0x13c63c(0x264),'15')[_0x13c63c(0x187)](_0x13c63c(0x25f),_0x13c63c(0x1be))['on']('mouseover',function(){var _0x131a81=_0x13c63c;_0x29d7fc&&clearTimeout(_0x29d7fc);var _0x4e1a00=d3[_0x131a81(0x1c9)][_0x131a81(0x243)],_0xd645c0=d3['event'][_0x131a81(0x26b)];_0x29d7fc=setTimeout(function(){var _0x208c80=_0x131a81;tooltip['transition']()['duration'](0xc8)[_0x208c80(0x187)](_0x208c80(0x274),0.9);var _0x34d5ea='<strong>'+getTranslation(_0x208c80(0x1ac),_0x208c80(0x241))+_0x208c80(0x238);xMetric===_0x208c80(0x1e1)&&yMetric==='Goals\x20per\x2090'?_0x34d5ea+=_0x208c80(0x1ad)+getTranslation(_0x208c80(0x1a2),_0x208c80(0x18a))+_0x208c80(0x231)+_0x208c80(0x1ad)+getTranslation(_0x208c80(0x203),_0x208c80(0x199))+_0x208c80(0x207):_0x34d5ea+=_0x208c80(0x1ad)+getTranslation(_0x208c80(0x190),_0x208c80(0x1e2))+'</span><br/>'+_0x208c80(0x1ad)+getTranslation(_0x208c80(0x1d0),_0x208c80(0x19e))+_0x208c80(0x207),tooltip['html'](_0x34d5ea)['style'](_0x208c80(0x256),_0x4e1a00+0xa+'px')[_0x208c80(0x187)](_0x208c80(0x220),_0xd645c0-0x1c+'px');},0x258);})['on']('mouseout',function(){var _0x45a1e0=_0x13c63c;_0x29d7fc&&(clearTimeout(_0x29d7fc),_0x29d7fc=null),tooltip[_0x45a1e0(0x229)]()[_0x45a1e0(0x210)](0x1f4)[_0x45a1e0(0x187)](_0x45a1e0(0x274),0x0);});}if(medianLinesVisible){var _0x480373=d3[_0x13c63c(0x1a3)](filteredData,function(_0x2777c8){var _0x2a0c61=_0x13c63c;return _0x2777c8[header[_0x2a0c61(0x252)](xMetric)];}),_0x59b037=d3[_0x13c63c(0x1a3)](filteredData,function(_0x2326ce){var _0x19a871=_0x13c63c;return _0x2326ce[header[_0x19a871(0x252)](yMetric)];});svg[_0x13c63c(0x211)](_0x13c63c(0x18b))[_0x13c63c(0x260)](_0x13c63c(0x273),_0x13c63c(0x22e))[_0x13c63c(0x260)]('x1',xScale(_0x480373))['attr']('y1',0x0)['attr']('x2',xScale(_0x480373))[_0x13c63c(0x260)]('y2',height)[_0x13c63c(0x187)]('stroke','rgba(0,\x200,\x200,\x200.3)')[_0x13c63c(0x187)](_0x13c63c(0x258),'4'),svg[_0x13c63c(0x211)]('line')[_0x13c63c(0x260)](_0x13c63c(0x273),_0x13c63c(0x22e))[_0x13c63c(0x260)]('x1',0x0)[_0x13c63c(0x260)]('y1',yScale(_0x59b037))[_0x13c63c(0x260)]('x2',width)['attr']('y2',yScale(_0x59b037))[_0x13c63c(0x187)]('stroke','rgba(0,\x200,\x200,\x200.3)')[_0x13c63c(0x187)](_0x13c63c(0x258),'4');}circles=svg['selectAll'](_0x13c63c(0x249))[_0x13c63c(0x205)](filteredData)[_0x13c63c(0x1bf)]()[_0x13c63c(0x211)](_0x13c63c(0x249))[_0x13c63c(0x260)]('cx',function(_0x348a4b){var _0xfe7704=_0x13c63c;return xScale(_0x348a4b[header[_0xfe7704(0x252)](xMetric)]);})[_0x13c63c(0x260)]('cy',function(_0x44ed5a){var _0xb19ede=_0x13c63c;return yScale(_0x44ed5a[header[_0xb19ede(0x252)](yMetric)]);})['attr']('r',0x8)[_0x13c63c(0x187)](_0x13c63c(0x223),function(_0x18e838){var _0x152281=_0x13c63c;if(clickedCircles[_0x152281(0x259)](_0x18e838[0x1]))return getLeagueColor(_0x18e838[0x2]);return _0x152281(0x18f);})[_0x13c63c(0x187)](_0x13c63c(0x22d),function(_0x2987c6){var _0x2b4943=_0x13c63c;return clickedCircles[_0x2b4943(0x259)](_0x2987c6[0x1])?_0x2b4943(0x1d9):_0x2b4943(0x1c4);})[_0x13c63c(0x187)](_0x13c63c(0x264),function(_0x2453f6){var _0x46b192=_0x13c63c;return clickedCircles[_0x46b192(0x259)](_0x2453f6[0x1])?0x2:0x0;})[_0x13c63c(0x187)](_0x13c63c(0x25f),_0x13c63c(0x1ec))['on'](_0x13c63c(0x1eb),function(_0x1aea01){var _0x25ee2a=_0x13c63c;d3[_0x25ee2a(0x1bc)](this)[_0x25ee2a(0x229)]()['duration'](0xc8)['attr']('r',0xa)[_0x25ee2a(0x187)](_0x25ee2a(0x223),getLeagueColor(_0x1aea01[0x2])),tooltip['transition']()[_0x25ee2a(0x210)](0xc8)[_0x25ee2a(0x187)](_0x25ee2a(0x274),0.9);const _0x2d9a31=_0x25ee2a(0x206)+xMetric[_0x25ee2a(0x244)]()[_0x25ee2a(0x1da)](/ /g,'-')['replace'](/%/g,_0x25ee2a(0x1f3)),_0x5dc07a='metrics.'+yMetric[_0x25ee2a(0x244)]()[_0x25ee2a(0x1da)](/ /g,'-')[_0x25ee2a(0x1da)](/%/g,'pct'),_0x40290b=getTranslation(_0x2d9a31,xMetric),_0x4ec594=getTranslation(_0x5dc07a,yMetric);tooltip[_0x25ee2a(0x1dc)](_0x25ee2a(0x1b4)+_0x1aea01[0x1]+'</strong><br/>'+_0x40290b+':\x20'+_0x1aea01[header[_0x25ee2a(0x252)](xMetric)][_0x25ee2a(0x20a)](0x2)+_0x25ee2a(0x1f1)+_0x4ec594+':\x20'+_0x1aea01[header['indexOf'](yMetric)][_0x25ee2a(0x20a)](0x2));const _0x3a809b=tooltip['node']();if(_0x3a809b){const _0x2877df=_0x3a809b[_0x25ee2a(0x1e7)](),_0x4a2e7a=window[_0x25ee2a(0x1e6)],_0x69d366=window[_0x25ee2a(0x204)];let _0x3d110d=d3[_0x25ee2a(0x1c9)][_0x25ee2a(0x243)]+0xa,_0xd40031=d3['event'][_0x25ee2a(0x26b)]-0x1c;_0x3d110d+_0x2877df[_0x25ee2a(0x277)]>_0x4a2e7a-0xa&&(_0x3d110d=d3[_0x25ee2a(0x1c9)][_0x25ee2a(0x243)]-_0x2877df[_0x25ee2a(0x277)]-0xa),_0xd40031+_0x2877df[_0x25ee2a(0x227)]>_0x69d366-0xa&&(_0xd40031=d3[_0x25ee2a(0x1c9)][_0x25ee2a(0x26b)]-_0x2877df[_0x25ee2a(0x227)]-0xa),_0x3d110d=Math[_0x25ee2a(0x26e)](0xa,_0x3d110d),_0xd40031=Math[_0x25ee2a(0x26e)](0xa,_0xd40031),tooltip[_0x25ee2a(0x187)](_0x25ee2a(0x256),_0x3d110d+'px')[_0x25ee2a(0x187)]('top',_0xd40031+'px');}window[_0x25ee2a(0x1e6)]<=0x300&&setTimeout(function(){var _0x38b404=_0x25ee2a;tooltip['transition']()[_0x38b404(0x210)](0xc8)[_0x38b404(0x187)](_0x38b404(0x274),0x0);},0x3e8);})['on']('mouseout',function(_0x2755e1){var _0x5d6879=_0x13c63c;window[_0x5d6879(0x1e6)]>0x300&&tooltip[_0x5d6879(0x229)]()['duration'](0x1f4)[_0x5d6879(0x187)]('opacity',0x0);var _0x409429=clickedCircles[_0x5d6879(0x259)](_0x2755e1[0x1]);d3[_0x5d6879(0x1bc)](this)[_0x5d6879(0x229)]()[_0x5d6879(0x210)](0xc8)['attr']('r',0x8)[_0x5d6879(0x187)](_0x5d6879(0x223),function(){var _0x17039d=_0x5d6879;return _0x409429?getLeagueColor(_0x2755e1[0x2]):_0x17039d(0x18f);});})['on'](_0x13c63c(0x188),function(_0x2b6c71){var _0x39c7dc=_0x13c63c,_0x5f441a=d3[_0x39c7dc(0x1bc)](this)[_0x39c7dc(0x246)](_0x39c7dc(0x212));_0x5f441a&&resetSearch();var _0x210a44=clickedCircles[_0x39c7dc(0x252)](_0x2b6c71[0x1]);_0x210a44===-0x1?(clickedCircles['push'](_0x2b6c71[0x1]),d3[_0x39c7dc(0x1bc)](this)['style'](_0x39c7dc(0x223),getLeagueColor(_0x2b6c71[0x2]))['style'](_0x39c7dc(0x22d),_0x39c7dc(0x1d9))[_0x39c7dc(0x187)](_0x39c7dc(0x264),0x2),addTeamLabel(_0x2b6c71)):(clickedCircles[_0x39c7dc(0x1a0)](_0x210a44,0x1),d3[_0x39c7dc(0x1bc)](this)[_0x39c7dc(0x187)]('fill',_0x39c7dc(0x18f))[_0x39c7dc(0x187)](_0x39c7dc(0x22d),_0x39c7dc(0x1c4)),svg[_0x39c7dc(0x233)](_0x39c7dc(0x1e0)+_0x2b6c71[0x1]['replace'](/\s+/g,'-')[_0x39c7dc(0x244)]())[_0x39c7dc(0x1a4)]());updateSelectAllButtonText();var _0x318309=document['getElementById'](_0x39c7dc(0x198))[_0x39c7dc(0x266)];updateLeagueLegend(_0x318309);}),clickedCircles['forEach'](function(_0x1fcf24){var _0x2da653=_0x13c63c,_0x2d5eb4=filteredData[_0x2da653(0x263)](function(_0x8df5f3){return _0x8df5f3[0x1]===_0x1fcf24;});_0x2d5eb4&&addTeamLabel(_0x2d5eb4);}),updateSelectAllButtonText(),updateLeagueLegend(_0x94d49f);}function updateSelectAllButtonText(){var _0x1c3282=_0x5382c7,_0x520440=document[_0x1c3282(0x1c0)](_0x1c3282(0x1b5)),_0x2b5a04=document['getElementById']('select-all-tooltip'),_0x4fc7f0=filteredData['every'](function(_0xdc6055){var _0x2a45f9=_0x1c3282;return clickedCircles[_0x2a45f9(0x259)](_0xdc6055[0x1]);});_0x4fc7f0?(_0x520440[_0x1c3282(0x215)]='ion-ios-circle-outline',_0x2b5a04&&(window[_0x1c3282(0x24f)]&&window['currentTranslations'][_0x1c3282(0x24c)]?_0x2b5a04['textContent']=window['currentTranslations']['tooltip']['unselectAll']||_0x1c3282(0x237):_0x2b5a04['textContent']=_0x1c3282(0x237))):(_0x520440[_0x1c3282(0x215)]=_0x1c3282(0x18e),_0x2b5a04&&(window[_0x1c3282(0x24f)]&&window['currentTranslations'][_0x1c3282(0x24c)]?_0x2b5a04[_0x1c3282(0x239)]=window[_0x1c3282(0x24f)][_0x1c3282(0x24c)][_0x1c3282(0x233)]||_0x1c3282(0x213):_0x2b5a04[_0x1c3282(0x239)]=_0x1c3282(0x213)));}selectX['on'](_0x5382c7(0x23c),updateChart),selectY['on']('change',updateChart);function removeSpecialCharsAndDiacritics(_0x31171c){var _0x36d829=_0x5382c7;if(!_0x31171c)return'';return _0x31171c[_0x36d829(0x1d7)](_0x36d829(0x275))[_0x36d829(0x1da)](/[\u0300-\u036f]/g,'')[_0x36d829(0x1da)](//g,'O')[_0x36d829(0x1da)](//g,'o');}var searchBar=document[_0x5382c7(0x1c0)](_0x5382c7(0x21c));searchBar[_0x5382c7(0x1ab)](_0x5382c7(0x25a),function(){var _0x48135c=_0x5382c7,_0x363f20=searchBar['value']['toLowerCase']();if(_0x363f20===''){resetSearch();return;}var _0x5ced52=removeSpecialCharsAndDiacritics(_0x363f20);svg[_0x48135c(0x233)](_0x48135c(0x249))[_0x48135c(0x246)](_0x48135c(0x212),![])[_0x48135c(0x187)]('fill',function(_0x1da74b){var _0xdeadc8=_0x48135c;return clickedCircles[_0xdeadc8(0x259)](_0x1da74b[0x1])?getLeagueColor(_0x1da74b[0x2]):_0xdeadc8(0x18f);})[_0x48135c(0x187)](_0x48135c(0x22d),function(_0x5a143c){var _0x479970=_0x48135c;return clickedCircles[_0x479970(0x259)](_0x5a143c[0x1])?_0x479970(0x1d9):_0x479970(0x1c4);})['style']('stroke-width',function(_0x209131){return clickedCircles['includes'](_0x209131[0x1])?0x2:0x0;})['style'](_0x48135c(0x24e),_0x48135c(0x1c4))[_0x48135c(0x217)](function(){var _0x60d3fa=_0x48135c;d3[_0x60d3fa(0x1bc)](this)[_0x60d3fa(0x187)]('r',null);}),svg[_0x48135c(0x233)](_0x48135c(0x218))['classed']('search-match',![])['classed'](_0x48135c(0x1e5),![]);var _0x2ea7f4=[];svg['selectAll']('circle')[_0x48135c(0x24e)](function(_0x2443bd){var _0x294fc4=_0x48135c,_0x2207a8=_0x2443bd[0x1][_0x294fc4(0x244)](),_0x18be2b=removeSpecialCharsAndDiacritics(_0x2207a8),_0x1d680d=_0x2207a8[_0x294fc4(0x259)](_0x363f20)||_0x18be2b[_0x294fc4(0x259)](_0x5ced52);return _0x1d680d&&_0x2ea7f4['push'](_0x2443bd[0x1]),_0x1d680d;})['classed'](_0x48135c(0x212),!![])[_0x48135c(0x217)](function(){this['parentNode']['appendChild'](this);}),_0x2ea7f4['length']>0x0?(svg[_0x48135c(0x233)](_0x48135c(0x218))[_0x48135c(0x246)]('search-dimmed',!![]),svg[_0x48135c(0x233)](_0x48135c(0x218))[_0x48135c(0x24e)](function(){var _0x3d6878=_0x48135c,_0x4b8c8d=d3[_0x3d6878(0x1bc)](this)[_0x3d6878(0x1ee)]();return _0x2ea7f4[_0x3d6878(0x259)](_0x4b8c8d);})['classed']('search-match',!![])[_0x48135c(0x246)](_0x48135c(0x1e5),![])[_0x48135c(0x217)](function(){var _0x22f951=_0x48135c;this[_0x22f951(0x1d8)]['appendChild'](this);}),_0x2ea7f4['forEach'](function(_0x207578){var _0x291fa0=_0x48135c,_0x24086b=_0x291fa0(0x184)+_0x207578['replace'](/\s+/g,'-')[_0x291fa0(0x244)]();if(svg[_0x291fa0(0x1bc)]('.'+_0x24086b)['size']()===0x0){var _0x3d8420=filteredData[_0x291fa0(0x263)](function(_0x3a890d){return _0x3a890d[0x1]===_0x207578;});_0x3d8420&&(addTeamLabel(_0x3d8420),svg[_0x291fa0(0x1bc)]('.'+_0x24086b)[_0x291fa0(0x246)](_0x291fa0(0x212),!![]));}})):(svg[_0x48135c(0x233)]('.team-label')['each'](function(){var _0x59f2cd=_0x48135c,_0x1973c0=d3['select'](this),_0x3258ff=_0x1973c0['text']();!clickedCircles['includes'](_0x3258ff)&&_0x1973c0[_0x59f2cd(0x1a4)]();}),svg[_0x48135c(0x233)](_0x48135c(0x249))[_0x48135c(0x187)]('fill',function(_0xb2de69){var _0x26f90c=_0x48135c;return clickedCircles[_0x26f90c(0x259)](_0xb2de69[0x1])?getLeagueColor(_0xb2de69[0x2]):'rgba(70,\x20130,\x20180,\x200.7)';})['style'](_0x48135c(0x22d),function(_0x4be16d){var _0x288417=_0x48135c;return clickedCircles[_0x288417(0x259)](_0x4be16d[0x1])?_0x288417(0x1d9):_0x288417(0x1c4);})[_0x48135c(0x187)](_0x48135c(0x264),function(_0x2aaf52){var _0x4d61e8=_0x48135c;return clickedCircles[_0x4d61e8(0x259)](_0x2aaf52[0x1])?0x2:0x0;}));});function resetSearch(){var _0x257fe5=_0x5382c7;searchBar[_0x257fe5(0x266)]='',svg['selectAll'](_0x257fe5(0x249))[_0x257fe5(0x246)]('search-match',![])['style'](_0x257fe5(0x223),function(_0x1bf86e){var _0x223fc3=_0x257fe5;return clickedCircles[_0x223fc3(0x259)](_0x1bf86e[0x1])?getLeagueColor(_0x1bf86e[0x2]):_0x223fc3(0x18f);})[_0x257fe5(0x187)](_0x257fe5(0x22d),function(_0x2c4008){var _0x493dc3=_0x257fe5;return clickedCircles[_0x493dc3(0x259)](_0x2c4008[0x1])?'#000':_0x493dc3(0x1c4);})[_0x257fe5(0x187)]('stroke-width',function(_0x5e098c){var _0x4d8d12=_0x257fe5;return clickedCircles[_0x4d8d12(0x259)](_0x5e098c[0x1])?0x2:0x0;})[_0x257fe5(0x187)]('filter',_0x257fe5(0x1c4))[_0x257fe5(0x217)](function(){var _0x470739=_0x257fe5;d3[_0x470739(0x1bc)](this)[_0x470739(0x187)]('r',null),d3['select'](this)['interrupt']();}),svg[_0x257fe5(0x233)](_0x257fe5(0x218))[_0x257fe5(0x246)](_0x257fe5(0x212),![])['classed'](_0x257fe5(0x1e5),![])[_0x257fe5(0x217)](function(){d3['select'](this)['interrupt']();}),svg[_0x257fe5(0x233)](_0x257fe5(0x218))[_0x257fe5(0x217)](function(){var _0x53b0d6=_0x257fe5,_0x5e30d9=d3[_0x53b0d6(0x1bc)](this),_0x48826c=_0x5e30d9['text']();!clickedCircles[_0x53b0d6(0x259)](_0x48826c)&&_0x5e30d9['remove']();});}var toggleButton=document[_0x5382c7(0x1c0)](_0x5382c7(0x228));toggleButton[_0x5382c7(0x1ab)](_0x5382c7(0x188),function(){var _0x51efc1=_0x5382c7;medianLinesVisible=!medianLinesVisible,updateChart();const _0x115ab1=document[_0x51efc1(0x1c0)](_0x51efc1(0x1c8));window[_0x51efc1(0x24f)]&&window[_0x51efc1(0x24f)][_0x51efc1(0x24c)]?_0x115ab1[_0x51efc1(0x239)]=medianLinesVisible?window[_0x51efc1(0x24f)][_0x51efc1(0x24c)][_0x51efc1(0x1e4)]||'Hide\x20median\x20lines':window[_0x51efc1(0x24f)][_0x51efc1(0x24c)][_0x51efc1(0x1d5)]||_0x51efc1(0x201):_0x115ab1[_0x51efc1(0x239)]=medianLinesVisible?_0x51efc1(0x1fb):_0x51efc1(0x201);});function selectAllCircles(){var _0x42cb61=_0x5382c7,_0x2acfeb=filteredData['every'](function(_0x1e3e65){var _0x13cd9e=_0x2989;return clickedCircles[_0x13cd9e(0x259)](_0x1e3e65[0x1]);});_0x2acfeb?(clickedCircles=[],svg[_0x42cb61(0x233)](_0x42cb61(0x249))[_0x42cb61(0x187)](_0x42cb61(0x223),'rgba(70,\x20130,\x20180,\x200.7)')[_0x42cb61(0x187)]('stroke',_0x42cb61(0x1c4)),svg[_0x42cb61(0x233)](_0x42cb61(0x218))[_0x42cb61(0x1a4)]()):(svg['selectAll'](_0x42cb61(0x249))['each'](function(_0x170645){var _0x15e3da=_0x42cb61;!clickedCircles[_0x15e3da(0x259)](_0x170645[0x1])&&(clickedCircles[_0x15e3da(0x1f7)](_0x170645[0x1]),d3[_0x15e3da(0x1bc)](this)[_0x15e3da(0x187)](_0x15e3da(0x223),getLeagueColor(_0x170645[0x2]))[_0x15e3da(0x187)](_0x15e3da(0x22d),_0x15e3da(0x1d9))['style'](_0x15e3da(0x264),0x2));}),filteredData['forEach'](function(_0x515a9b){addTeamLabel(_0x515a9b);}));updateSelectAllButtonText();var _0x121cf2=document[_0x42cb61(0x1c0)]('select-league')['value'];updateLeagueLegend(_0x121cf2);}updateChart(),initializeCustomSelectors();function updateLeagueLegend(_0x201619){var _0x35d471=_0x5382c7,_0x1326e3=document[_0x35d471(0x1c0)](_0x35d471(0x22c));if(_0x201619!=='all'&&_0x201619!=='Top\x205\x20Leagues'){_0x1326e3[_0x35d471(0x187)][_0x35d471(0x1d2)]=_0x35d471(0x1c4);return;}if(clickedCircles[_0x35d471(0x18c)]===0x0){_0x1326e3[_0x35d471(0x187)]['display']=_0x35d471(0x1c4);return;}var _0x52d4d8=![];for(var _0x46d4c2=0x0;_0x46d4c2<filteredData[_0x35d471(0x18c)];_0x46d4c2++){if(clickedCircles['includes'](filteredData[_0x46d4c2][0x1])){_0x52d4d8=!![];break;}}if(!_0x52d4d8){_0x1326e3[_0x35d471(0x187)][_0x35d471(0x1d2)]=_0x35d471(0x1c4);return;}_0x1326e3[_0x35d471(0x187)][_0x35d471(0x1d2)]=_0x35d471(0x21e),_0x1326e3[_0x35d471(0x278)]='';var _0x52b850=document[_0x35d471(0x216)](_0x35d471(0x1f5));_0x52b850[_0x35d471(0x187)][_0x35d471(0x1b9)]=_0x35d471(0x1ce),_0x52b850[_0x35d471(0x187)][_0x35d471(0x1ea)]=_0x35d471(0x1fd),_0x1326e3[_0x35d471(0x1b8)](_0x52b850);var _0x28bc3b=[];if(_0x201619===_0x35d471(0x1c3))_0x28bc3b=Object['keys'](leagueColors);else _0x201619===_0x35d471(0x1df)&&(_0x28bc3b=[_0x35d471(0x21f),_0x35d471(0x232),_0x35d471(0x1b1),_0x35d471(0x197),_0x35d471(0x1fc)]);_0x28bc3b[_0x35d471(0x1c6)](function(_0x3cf1a0){var _0x1cc062=_0x35d471,_0x34b171=document['createElement'](_0x1cc062(0x1f5));_0x34b171[_0x1cc062(0x215)]='legend-item';var _0x5499a0=document[_0x1cc062(0x216)](_0x1cc062(0x1f5));_0x5499a0[_0x1cc062(0x215)]=_0x1cc062(0x1ca),_0x5499a0[_0x1cc062(0x187)]['backgroundColor']=leagueColors[_0x3cf1a0];var _0x55355d=document[_0x1cc062(0x216)](_0x1cc062(0x1dd));_0x55355d[_0x1cc062(0x239)]=_0x3cf1a0,_0x34b171[_0x1cc062(0x1b8)](_0x5499a0),_0x34b171[_0x1cc062(0x1b8)](_0x55355d),_0x1326e3[_0x1cc062(0x1b8)](_0x34b171);});}function addTeamLabel(_0x24f585,_0x3899a4){var _0x38d48d=_0x5382c7,_0x24fcf4=xScale(_0x24f585[header[_0x38d48d(0x252)](xMetric)]),_0x32fedd=yScale(_0x24f585[header[_0x38d48d(0x252)](yMetric)]),_0x332312=_0x38d48d(0x184)+_0x24f585[0x1][_0x38d48d(0x244)]()[_0x38d48d(0x1da)](/\s+/g,'-');if(svg[_0x38d48d(0x1bc)]('.'+_0x332312)[_0x38d48d(0x234)]()>0x0)return;var _0x594617=svg[_0x38d48d(0x211)](_0x38d48d(0x1ee))[_0x38d48d(0x260)](_0x38d48d(0x273),'temp-label')['text'](_0x24f585[0x1])['style'](_0x38d48d(0x202),_0x38d48d(0x1d3))['style'](_0x38d48d(0x245),'12px')['style'](_0x38d48d(0x274),0x0),_0x5466f6=_0x594617[_0x38d48d(0x1fe)]()[_0x38d48d(0x1c5)]();_0x594617['remove']();var _0x26e7c4=[{'dx':0x8,'dy':0x0,'anchor':_0x38d48d(0x21a)},{'dx':-0x8,'dy':0x0,'anchor':_0x38d48d(0x1b7)},{'dx':0x0,'dy':-0x8,'anchor':_0x38d48d(0x230)},{'dx':0x0,'dy':0x8,'anchor':_0x38d48d(0x230)}],_0x28dceb=[];svg[_0x38d48d(0x233)](_0x38d48d(0x1a7))[_0x38d48d(0x217)](function(){var _0x292a60=_0x38d48d,_0x734a0a=this[_0x292a60(0x248)]();_0x28dceb[_0x292a60(0x1f7)]({'x1':_0x734a0a['x']-0x2,'y1':_0x734a0a['y']-0x2,'x2':_0x734a0a['x']+_0x734a0a['width']+0x2,'y2':_0x734a0a['y']+_0x734a0a[_0x292a60(0x227)]+0x2});});var _0x238262=null,_0x1fca71=0xc,_0x233223=width,_0x3bc1c9=height;if(!_0x3899a4){for(var _0x12fa26=0x0;_0x12fa26<_0x26e7c4[_0x38d48d(0x18c)];_0x12fa26++){var _0x64c381=_0x26e7c4[_0x12fa26],_0x1b766f=_0x24fcf4+_0x64c381['dx'],_0x48b789=_0x32fedd+_0x64c381['dy'],_0x1c3119={'x1':_0x64c381['anchor']==='end'?_0x1b766f-_0x5466f6:_0x64c381[_0x38d48d(0x25c)]==='middle'?_0x1b766f-_0x5466f6/0x2:_0x1b766f,'y1':_0x64c381['dy']<0x0?_0x48b789-_0x1fca71:_0x48b789,'x2':_0x64c381[_0x38d48d(0x25c)]==='start'?_0x1b766f+_0x5466f6:_0x64c381[_0x38d48d(0x25c)]==='middle'?_0x1b766f+_0x5466f6/0x2:_0x1b766f,'y2':_0x64c381['dy']<0x0?_0x48b789:_0x48b789+_0x1fca71};if(_0x1c3119['x1']<0x0||_0x1c3119['x2']>_0x233223||_0x1c3119['y1']<0x0||_0x1c3119['y2']>_0x3bc1c9)continue;var _0x5544d8=![];for(var _0x54ecbc=0x0;_0x54ecbc<_0x28dceb[_0x38d48d(0x18c)];_0x54ecbc++){var _0x195571=_0x28dceb[_0x54ecbc];if(!(_0x1c3119['x2']<_0x195571['x1']||_0x1c3119['x1']>_0x195571['x2']||_0x1c3119['y2']<_0x195571['y1']||_0x1c3119['y1']>_0x195571['y2'])){_0x5544d8=!![];break;}}if(!_0x5544d8){_0x238262=_0x64c381;break;}}if(!_0x238262){var _0x3af160=0x32,_0x13ad86=0x0;_0x28dceb[_0x38d48d(0x1c6)](function(_0x443ca6){var _0x54eb36=_0x38d48d,_0x6bb936=(_0x443ca6['x1']+_0x443ca6['x2'])/0x2,_0x1ad1ff=(_0x443ca6['y1']+_0x443ca6['y2'])/0x2,_0x4e0253=Math[_0x54eb36(0x254)](Math[_0x54eb36(0x1ff)](_0x6bb936-_0x24fcf4,0x2)+Math[_0x54eb36(0x1ff)](_0x1ad1ff-_0x32fedd,0x2));_0x4e0253<_0x3af160&&_0x13ad86++;});if(_0x13ad86>0x3)return;}}if(!_0x238262){_0x238262=_0x26e7c4[0x0];var _0x1b766f=_0x24fcf4+_0x238262['dx'],_0x48b789=_0x32fedd+_0x238262['dy'],_0x1c3119={'x1':_0x238262['anchor']===_0x38d48d(0x1b7)?_0x1b766f-_0x5466f6:_0x238262['anchor']===_0x38d48d(0x230)?_0x1b766f-_0x5466f6/0x2:_0x1b766f,'y1':_0x238262['dy']<0x0?_0x48b789-_0x1fca71:_0x48b789,'x2':_0x238262[_0x38d48d(0x25c)]===_0x38d48d(0x21a)?_0x1b766f+_0x5466f6:_0x238262[_0x38d48d(0x25c)]==='middle'?_0x1b766f+_0x5466f6/0x2:_0x1b766f,'y2':_0x238262['dy']<0x0?_0x48b789:_0x48b789+_0x1fca71};if(_0x1c3119['x1']<0x0)_0x238262=_0x26e7c4[0x0];else _0x1c3119['x2']>_0x233223&&(_0x238262=_0x26e7c4[0x1]);if(_0x1c3119['y1']<0x0)_0x238262=_0x26e7c4[0x3];else _0x1c3119['y2']>_0x3bc1c9&&(_0x238262=_0x26e7c4[0x2]);}var _0x25cc87=svg[_0x38d48d(0x211)](_0x38d48d(0x1ee))[_0x38d48d(0x260)]('class',_0x38d48d(0x267)+_0x332312)[_0x38d48d(0x260)]('x',_0x24fcf4+_0x238262['dx'])['attr']('y',_0x32fedd+_0x238262['dy'])[_0x38d48d(0x260)](_0x38d48d(0x209),_0x238262[_0x38d48d(0x25c)])['attr']('dominant-baseline',_0x238262['dy']<0x0?'auto':_0x38d48d(0x1fa))[_0x38d48d(0x1ee)](_0x24f585[0x1])[_0x38d48d(0x187)](_0x38d48d(0x202),_0x38d48d(0x1d3))[_0x38d48d(0x187)]('font-size','12px')['style']('font-weight',_0x38d48d(0x24a))[_0x38d48d(0x187)](_0x38d48d(0x223),'#333');_0x3899a4&&_0x25cc87['classed']('search-match',!![]);var _0x3e69f1=_0x25cc87[_0x38d48d(0x1fe)]()[_0x38d48d(0x248)]();_0x28dceb[_0x38d48d(0x1f7)]({'x1':_0x3e69f1['x']-0x2,'y1':_0x3e69f1['y']-0x2,'x2':_0x3e69f1['x']+_0x3e69f1['width']+0x2,'y2':_0x3e69f1['y']+_0x3e69f1['height']+0x2});}document[_0x5382c7(0x1ab)](_0x5382c7(0x1cf),function(){var _0x2612c2=_0x5382c7;const _0x3a2f3e=document[_0x2612c2(0x1c0)](_0x2612c2(0x1c8));_0x3a2f3e['textContent']=medianLinesVisible?'Hide\x20median\x20lines':_0x2612c2(0x201);});
    </script>
  <script>

        // Global translation helper function
        function getTranslation(key, defaultText) {
            // Split the key into parts (e.g., "tooltip.xg-line-title" -> ["tooltip", "xg-line-title"])
            const keys = key.split('.');
            
            // Try to find the translation in the current language
            try {
                let currentTranslations = window.currentTranslations || {};
                for (const k of keys) {
                    if (currentTranslations && currentTranslations[k]) {
                        currentTranslations = currentTranslations[k];
                    } else {
                        return defaultText;
                    }
                }
                return currentTranslations;
            } catch (e) {
                return defaultText;
            }
        }
        
  
  function getPreferredLanguage() {
    // PRIORITY 1: Check URL parameter first
    const urlParams = new URLSearchParams(window.location.search);
    const langParam = urlParams.get('lang');
    if (langParam) {
      return langParam;
    }
    // PRIORITY 2: Check localStorage
    const storedLang = localStorage.getItem('preferredLanguage');
    if (storedLang) {
      return storedLang;
    }
    // PRIORITY 3: Use browser language
    return getBrowserLanguage() || 'en';
  }

  function getBrowserLanguage() {
    return navigator.language.slice(0, 2);
  }

  function applyLanguage(language) {
    console.log(language);

    if (language === 'en') {
      return;
    }

    
    fetch(`locales/${language}.json`)
      .then(response => {
        // Don't throw an error, just return null if response is not OK
        return response.ok ? response.json() : null;
      })
      .then(translations => {
        // Only proceed if translations exist
        if (translations) {
            window.currentTranslations = translations;
          document.querySelectorAll('[data-i18n]').forEach(element => {
            const keys = element.getAttribute('data-i18n').split('.');
            let value = translations;
            for (const key of keys) {
              if (value === undefined || value === null) break;
              value = value[key];
            }
            if (value) {
              if (element.tagName === 'INPUT') {
              element.setAttribute('placeholder', value);
          } else if (value.includes('<')) {
              element.innerHTML = value;
          } else {
              element.textContent = value;
          }          }
          });
        }
      })
      .catch(() => {
        // Completely empty catch block to silently ignore any errors
      });
  }
  
  const preferredLanguage = getPreferredLanguage();
  applyLanguage(preferredLanguage);
  

function toggleDarkMode() {
            const body = document.querySelector("body");
            body.classList.toggle("dark-mode");
            
            const isDarkMode = body.classList.contains("dark-mode");
            localStorage.setItem("darkMode", isDarkMode);
            
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            const storedDarkMode = localStorage.getItem("darkMode");
            
            if (storedDarkMode === "true") {
                const body = document.querySelector("body");
                body.classList.add("dark-mode");
            }
            
 
        });

        function takeScreenshot() {
            const chartContainer = document.querySelector('.chart-container');
            const isDarkMode = document.body.classList.contains('dark-mode');
            
            html2canvas(chartContainer, {
                scale: 2, // Higher quality
                backgroundColor: isDarkMode ? '#2c2c2c' : '#FFFFFF',
                allowTaint: true,
                useCORS: true,
                logging: false
            }).then(function(renderedCanvas) {
                const finalCanvas = document.createElement('canvas');
                finalCanvas.width = renderedCanvas.width;
                finalCanvas.height = renderedCanvas.height;
                const finalCtx = finalCanvas.getContext('2d');
                finalCtx.drawImage(renderedCanvas, 0, 0);
                
                // Load the watermark
                const watermarkImg = new Image();
                watermarkImg.crossOrigin = "Anonymous";
                
                watermarkImg.onload = function() {
                    const watermarkWidth = finalCanvas.width * 0.3;
                    const watermarkHeight = (watermarkWidth / watermarkImg.width) * watermarkImg.height;
                    
                    const x = (finalCanvas.width - watermarkWidth) / 2;
                    const y = (finalCanvas.height - watermarkHeight) / 2;
                    
                    finalCtx.save();
                    finalCtx.globalAlpha = 0.04;
                    finalCtx.drawImage(watermarkImg, x, y, watermarkWidth, watermarkHeight);
                    finalCtx.restore();
                    
                    const dataURL = finalCanvas.toDataURL('image/png', 1.0);
                    const link = document.createElement('a');
                    link.download = 'DataMB Screenshot.png';
                    link.href = dataURL;
                    link.click();
                };
                watermarkImg.src = 'https://datamb.football/logo.png';
            }).catch(function(error) {
            });
        }
    </script>
    
</body>
</html>
